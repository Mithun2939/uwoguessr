(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();function $c(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var pc={exports:{}},Go={},mc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function vp(){if(Rd)return Ce;Rd=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=R&&C[R]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function q(C,$,fe){this.props=C,this.context=$,this.refs=B,this.updater=fe||j}q.prototype.isReactComponent={},q.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function Q(C,$,fe){this.props=C,this.context=$,this.refs=B,this.updater=fe||j}var G=Q.prototype=new Y;G.constructor=Q,U(G,q.prototype),G.isPureReactComponent=!0;var ie=Array.isArray,Re=Object.prototype.hasOwnProperty,de={current:null},be={key:!0,ref:!0,__self:!0,__source:!0};function Fe(C,$,fe){var ue,oe={},te=null,Oe=null;if($!=null)for(ue in $.ref!==void 0&&(Oe=$.ref),$.key!==void 0&&(te=""+$.key),$)Re.call($,ue)&&!be.hasOwnProperty(ue)&&(oe[ue]=$[ue]);var Pe=arguments.length-2;if(Pe===1)oe.children=fe;else if(1<Pe){for(var $e=Array(Pe),vt=0;vt<Pe;vt++)$e[vt]=arguments[vt+2];oe.children=$e}if(C&&C.defaultProps)for(ue in Pe=C.defaultProps,Pe)oe[ue]===void 0&&(oe[ue]=Pe[ue]);return{$$typeof:a,type:C,key:te,ref:Oe,props:oe,_owner:de.current}}function Ve(C,$){return{$$typeof:a,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function ut(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function we(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(fe){return $[fe]})}var Ne=/\/+/g;function Rt(C,$){return typeof C=="object"&&C!==null&&C.key!=null?we(""+C.key):$.toString(36)}function it(C,$,fe,ue,oe){var te=typeof C;(te==="undefined"||te==="boolean")&&(C=null);var Oe=!1;if(C===null)Oe=!0;else switch(te){case"string":case"number":Oe=!0;break;case"object":switch(C.$$typeof){case a:case r:Oe=!0}}if(Oe)return Oe=C,oe=oe(Oe),C=ue===""?"."+Rt(Oe,0):ue,ie(oe)?(fe="",C!=null&&(fe=C.replace(Ne,"$&/")+"/"),it(oe,$,fe,"",function(vt){return vt})):oe!=null&&(ut(oe)&&(oe=Ve(oe,fe+(!oe.key||Oe&&Oe.key===oe.key?"":(""+oe.key).replace(Ne,"$&/")+"/")+C)),$.push(oe)),1;if(Oe=0,ue=ue===""?".":ue+":",ie(C))for(var Pe=0;Pe<C.length;Pe++){te=C[Pe];var $e=ue+Rt(te,Pe);Oe+=it(te,$,fe,$e,oe)}else if($e=I(C),typeof $e=="function")for(C=$e.call(C),Pe=0;!(te=C.next()).done;)te=te.value,$e=ue+Rt(te,Pe++),Oe+=it(te,$,fe,$e,oe);else if(te==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Oe}function on(C,$,fe){if(C==null)return C;var ue=[],oe=0;return it(C,ue,"","",function(te){return $.call(fe,te,oe++)}),ue}function ze(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(fe){(C._status===0||C._status===-1)&&(C._status=1,C._result=fe)},function(fe){(C._status===0||C._status===-1)&&(C._status=2,C._result=fe)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var De={current:null},F={transition:null},me={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:F,ReactCurrentOwner:de};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:on,forEach:function(C,$,fe){on(C,function(){$.apply(this,arguments)},fe)},count:function(C){var $=0;return on(C,function(){$++}),$},toArray:function(C){return on(C,function($){return $})||[]},only:function(C){if(!ut(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ce.Component=q,Ce.Fragment=s,Ce.Profiler=h,Ce.PureComponent=Q,Ce.StrictMode=u,Ce.Suspense=v,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ce.act=W,Ce.cloneElement=function(C,$,fe){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ue=U({},C.props),oe=C.key,te=C.ref,Oe=C._owner;if($!=null){if($.ref!==void 0&&(te=$.ref,Oe=de.current),$.key!==void 0&&(oe=""+$.key),C.type&&C.type.defaultProps)var Pe=C.type.defaultProps;for($e in $)Re.call($,$e)&&!be.hasOwnProperty($e)&&(ue[$e]=$[$e]===void 0&&Pe!==void 0?Pe[$e]:$[$e])}var $e=arguments.length-2;if($e===1)ue.children=fe;else if(1<$e){Pe=Array($e);for(var vt=0;vt<$e;vt++)Pe[vt]=arguments[vt+2];ue.children=Pe}return{$$typeof:a,type:C.type,key:oe,ref:te,props:ue,_owner:Oe}},Ce.createContext=function(C){return C={$$typeof:g,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:p,_context:C},C.Consumer=C},Ce.createElement=Fe,Ce.createFactory=function(C){var $=Fe.bind(null,C);return $.type=C,$},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(C){return{$$typeof:w,render:C}},Ce.isValidElement=ut,Ce.lazy=function(C){return{$$typeof:P,_payload:{_status:-1,_result:C},_init:ze}},Ce.memo=function(C,$){return{$$typeof:S,type:C,compare:$===void 0?null:$}},Ce.startTransition=function(C){var $=F.transition;F.transition={};try{C()}finally{F.transition=$}},Ce.unstable_act=W,Ce.useCallback=function(C,$){return De.current.useCallback(C,$)},Ce.useContext=function(C){return De.current.useContext(C)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(C){return De.current.useDeferredValue(C)},Ce.useEffect=function(C,$){return De.current.useEffect(C,$)},Ce.useId=function(){return De.current.useId()},Ce.useImperativeHandle=function(C,$,fe){return De.current.useImperativeHandle(C,$,fe)},Ce.useInsertionEffect=function(C,$){return De.current.useInsertionEffect(C,$)},Ce.useLayoutEffect=function(C,$){return De.current.useLayoutEffect(C,$)},Ce.useMemo=function(C,$){return De.current.useMemo(C,$)},Ce.useReducer=function(C,$,fe){return De.current.useReducer(C,$,fe)},Ce.useRef=function(C){return De.current.useRef(C)},Ce.useState=function(C){return De.current.useState(C)},Ce.useSyncExternalStore=function(C,$,fe){return De.current.useSyncExternalStore(C,$,fe)},Ce.useTransition=function(){return De.current.useTransition()},Ce.version="18.3.1",Ce}var Ad;function Fc(){return Ad||(Ad=1,mc.exports=vp()),mc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function yp(){if(Nd)return Go;Nd=1;var a=Fc(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,h=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(w,v,S){var P,R={},I=null,j=null;S!==void 0&&(I=""+S),v.key!==void 0&&(I=""+v.key),v.ref!==void 0&&(j=v.ref);for(P in v)u.call(v,P)&&!p.hasOwnProperty(P)&&(R[P]=v[P]);if(w&&w.defaultProps)for(P in v=w.defaultProps,v)R[P]===void 0&&(R[P]=v[P]);return{$$typeof:r,type:w,key:I,ref:j,props:R,_owner:h.current}}return Go.Fragment=s,Go.jsx=g,Go.jsxs=g,Go}var Id;function wp(){return Id||(Id=1,pc.exports=yp()),pc.exports}var b=wp(),he=Fc();const Ml=$c(he);var Rl={},gc={exports:{}},Ht={},_c={exports:{}},vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function xp(){return jd||(jd=1,(function(a){function r(F,me){var W=F.length;F.push(me);e:for(;0<W;){var C=W-1>>>1,$=F[C];if(0<h($,me))F[C]=me,F[W]=$,W=C;else break e}}function s(F){return F.length===0?null:F[0]}function u(F){if(F.length===0)return null;var me=F[0],W=F.pop();if(W!==me){F[0]=W;e:for(var C=0,$=F.length,fe=$>>>1;C<fe;){var ue=2*(C+1)-1,oe=F[ue],te=ue+1,Oe=F[te];if(0>h(oe,W))te<$&&0>h(Oe,oe)?(F[C]=Oe,F[te]=W,C=te):(F[C]=oe,F[ue]=W,C=ue);else if(te<$&&0>h(Oe,W))F[C]=Oe,F[te]=W,C=te;else break e}}return me}function h(F,me){var W=F.sortIndex-me.sortIndex;return W!==0?W:F.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;a.unstable_now=function(){return p.now()}}else{var g=Date,w=g.now();a.unstable_now=function(){return g.now()-w}}var v=[],S=[],P=1,R=null,I=3,j=!1,U=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(F){for(var me=s(S);me!==null;){if(me.callback===null)u(S);else if(me.startTime<=F)u(S),me.sortIndex=me.expirationTime,r(v,me);else break;me=s(S)}}function ie(F){if(B=!1,G(F),!U)if(s(v)!==null)U=!0,ze(Re);else{var me=s(S);me!==null&&De(ie,me.startTime-F)}}function Re(F,me){U=!1,B&&(B=!1,Y(Fe),Fe=-1),j=!0;var W=I;try{for(G(me),R=s(v);R!==null&&(!(R.expirationTime>me)||F&&!we());){var C=R.callback;if(typeof C=="function"){R.callback=null,I=R.priorityLevel;var $=C(R.expirationTime<=me);me=a.unstable_now(),typeof $=="function"?R.callback=$:R===s(v)&&u(v),G(me)}else u(v);R=s(v)}if(R!==null)var fe=!0;else{var ue=s(S);ue!==null&&De(ie,ue.startTime-me),fe=!1}return fe}finally{R=null,I=W,j=!1}}var de=!1,be=null,Fe=-1,Ve=5,ut=-1;function we(){return!(a.unstable_now()-ut<Ve)}function Ne(){if(be!==null){var F=a.unstable_now();ut=F;var me=!0;try{me=be(!0,F)}finally{me?Rt():(de=!1,be=null)}}else de=!1}var Rt;if(typeof Q=="function")Rt=function(){Q(Ne)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,on=it.port2;it.port1.onmessage=Ne,Rt=function(){on.postMessage(null)}}else Rt=function(){q(Ne,0)};function ze(F){be=F,de||(de=!0,Rt())}function De(F,me){Fe=q(function(){F(a.unstable_now())},me)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_continueExecution=function(){U||j||(U=!0,ze(Re))},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ve=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return I},a.unstable_getFirstCallbackNode=function(){return s(v)},a.unstable_next=function(F){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var W=I;I=me;try{return F()}finally{I=W}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(F,me){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=I;I=F;try{return me()}finally{I=W}},a.unstable_scheduleCallback=function(F,me,W){var C=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?C+W:C):W=C,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=W+$,F={id:P++,callback:me,priorityLevel:F,startTime:W,expirationTime:$,sortIndex:-1},W>C?(F.sortIndex=W,r(S,F),s(v)===null&&F===s(S)&&(B?(Y(Fe),Fe=-1):B=!0,De(ie,W-C))):(F.sortIndex=$,r(v,F),U||j||(U=!0,ze(Re))),F},a.unstable_shouldYield=we,a.unstable_wrapCallback=function(F){var me=I;return function(){var W=I;I=me;try{return F.apply(this,arguments)}finally{I=W}}}})(vc)),vc}var Md;function Sp(){return Md||(Md=1,_c.exports=xp()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function kp(){if(zd)return Ht;zd=1;var a=Fc(),r=Sp();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,h={};function p(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(h[e]=n,e=0;e<n.length;e++)u.add(n[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P={},R={};function I(e){return v.call(R,e)?!0:v.call(P,e)?!1:S.test(e)?R[e]=!0:(P[e]=!0,!1)}function j(e,n,o,c){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,n,o,c){if(n===null||typeof n>"u"||j(e,n,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function B(e,n,o,c,f,m,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=m,this.removeEmptyString=y}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){q[e]=new B(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];q[n]=new B(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){q[e]=new B(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){q[e]=new B(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){q[e]=new B(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){q[e]=new B(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){q[e]=new B(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){q[e]=new B(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){q[e]=new B(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Y,Q);q[n]=new B(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Y,Q);q[n]=new B(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Y,Q);q[n]=new B(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){q[e]=new B(e,1,!1,e.toLowerCase(),null,!1,!1)}),q.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){q[e]=new B(e,1,!1,e.toLowerCase(),null,!0,!0)});function G(e,n,o,c){var f=q.hasOwnProperty(n)?q[n]:null;(f!==null?f.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(U(n,o,f,c)&&(o=null),c||f===null?I(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):f.mustUseProperty?e[f.propertyName]=o===null?f.type===3?!1:"":o:(n=f.attributeName,c=f.attributeNamespace,o===null?e.removeAttribute(n):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?e.setAttributeNS(c,n,o):e.setAttribute(n,o))))}var ie=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),de=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),Fe=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),we=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),on=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),F=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,C;function $(e){if(C===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+e}var fe=!1;function ue(e,n){if(!e||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(D){var c=D}Reflect.construct(e,[],n)}else{try{n.call()}catch(D){c=D}e.call(n.prototype)}else{try{throw Error()}catch(D){c=D}e()}}catch(D){if(D&&c&&typeof D.stack=="string"){for(var f=D.stack.split(`
`),m=c.stack.split(`
`),y=f.length-1,k=m.length-1;1<=y&&0<=k&&f[y]!==m[k];)k--;for(;1<=y&&0<=k;y--,k--)if(f[y]!==m[k]){if(y!==1||k!==1)do if(y--,k--,0>k||f[y]!==m[k]){var T=`
`+f[y].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=y&&0<=k);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?$(e):""}function oe(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case be:return"Fragment";case de:return"Portal";case Ve:return"Profiler";case Fe:return"StrictMode";case Rt:return"Suspense";case it:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case ut:return(e._context.displayName||"Context")+".Provider";case Ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case on:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case ze:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}function Oe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(n);case 8:return n===Fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $e(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vt(e){var n=$e(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,m.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function vr(e){e._valueTracker||(e._valueTracker=vt(e))}function yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=$e(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ks(e,n){var o=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Gs(e,n){var o=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;o=Pe(n.value!=null?n.value:o),e._wrapperState={initialChecked:c,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Js(e,n){n=n.checked,n!=null&&G(e,"checked",n,!1)}function ai(e,n){Js(e,n);var o=Pe(n.value),c=n.type;if(o!=null)c==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ys(e,n.type,o):n.hasOwnProperty("defaultValue")&&Ys(e,n.type,Pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function li(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Ys(e,n,o){(n!=="number"||wr(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var xr=Array.isArray;function In(e,n,o,c){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Pe(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Hi(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qs(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(xr(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Pe(o)}}function ua(e,n){var o=Pe(n.value),c=Pe(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),c!=null&&(e.defaultValue=""+c)}function ca(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Zi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vi(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Zi(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ui,ha=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,c,f){MSApp.execUnsafeLocalFunction(function(){return e(n,o,c,f)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ui=ui||document.createElement("div"),ui.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Sr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hl=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){Hl.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),kr[n]=kr[e]})});function Xs(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||kr.hasOwnProperty(e)&&kr[e]?(""+n).trim():n+"px"}function qi(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=Xs(o,n[o],c);o==="float"&&(o="cssFloat"),c?e.setProperty(o,f):e[o]=f}}var da=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(e,n){if(n){if(da[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function qn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function no(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Kn=null,Gn=null;function fa(e){if(e=ar(e)){if(typeof Ki!="function")throw Error(s(280));var n=e.stateNode;n&&(n=xs(n),Ki(e.stateNode,e.type,n))}}function pa(e){Kn?Gn?Gn.push(e):Gn=[e]:Kn=e}function ma(){if(Kn){var e=Kn,n=Gn;if(Gn=Kn=null,fa(e),n)for(e=0;e<n.length;e++)fa(n[e])}}function ga(e,n){return e(n)}function _a(){}var ro=!1;function Gi(e,n,o){if(ro)return e(n,o);ro=!0;try{return ga(e,n,o)}finally{ro=!1,(Kn!==null||Gn!==null)&&(_a(),ma())}}function ci(e,n){var o=e.stateNode;if(o===null)return null;var c=xs(o);if(c===null)return null;o=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var io=!1;if(w)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){io=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{io=!1}function Zl(e,n,o,c,f,m,y,k,T){var D=Array.prototype.slice.call(arguments,3);try{n.apply(o,D)}catch(V){this.onError(V)}}var kt=!1,ae=null,di=!1,Ji=null,va={onError:function(e){kt=!0,ae=e}};function ya(e,n,o,c,f,m,y,k,T){kt=!1,ae=null,Zl.apply(va,arguments)}function so(e,n,o,c,f,m,y,k,T){if(ya.apply(this,arguments),kt){if(kt){var D=ae;kt=!1,ae=null}else throw Error(s(198));di||(di=!0,Ji=D)}}function jn(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Jn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function oo(e){if(jn(e)!==e)throw Error(s(188))}function Vl(e){var n=e.alternate;if(!n){if(n=jn(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,c=n;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return oo(f),e;if(m===c)return oo(f),n;m=m.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=m;else{for(var y=!1,k=f.child;k;){if(k===o){y=!0,o=f,c=m;break}if(k===c){y=!0,c=f,o=m;break}k=k.sibling}if(!y){for(k=m.child;k;){if(k===o){y=!0,o=m,c=f;break}if(k===c){y=!0,c=m,o=f;break}k=k.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function wa(e){return e=Vl(e),e!==null?xa(e):null}function xa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=xa(e);if(n!==null)return n;e=e.sibling}return null}var Sa=r.unstable_scheduleCallback,ao=r.unstable_cancelCallback,ql=r.unstable_shouldYield,Yi=r.unstable_requestPaint,Je=r.unstable_now,Kl=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,ka=r.unstable_UserBlockingPriority,Qi=r.unstable_NormalPriority,uo=r.unstable_LowPriority,br=r.unstable_IdlePriority,fi=null,Zt=null;function pi(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ee=Math.clz32?Math.clz32:Er,qe=Math.log,Xi=Math.LN2;function Er(e){return e>>>=0,e===0?32:31-(qe(e)/Xi|0)|0}var wn=64,Tr=4194304;function ke(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function We(e,n){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,m=e.pingedLanes,y=o&268435455;if(y!==0){var k=y&~f;k!==0?c=ke(k):(m&=y,m!==0&&(c=ke(m)))}else y=o&~f,y!==0?c=ke(y):m!==0&&(c=ke(m));if(c===0)return 0;if(n!==0&&n!==c&&(n&f)===0&&(f=c&-c,m=n&-n,f>=m||f===16&&(m&4194240)!==0))return n;if((c&4)!==0&&(c|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)o=31-Ee(n),f=1<<o,c|=e[o],n&=~f;return c}function co(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes;0<m;){var y=31-Ee(m),k=1<<y,T=f[y];T===-1?((k&o)===0||(k&c)!==0)&&(f[y]=co(k,n)):T<=n&&(e.expiredLanes|=k),m&=~k}}function bt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ba(){var e=wn;return wn<<=1,(wn&4194240)===0&&(wn=64),e}function Pr(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Vt(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ee(n),e[n]=o}function tt(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<o;){var f=31-Ee(o),m=1<<f;n[f]=0,c[f]=-1,e[f]=-1,o&=~m}}function xn(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-Ee(o),f=1<<c;f&n|e[c]&n&&(e[c]|=n),o&=~f}}var Ae=0;function Cr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ts,Yn,ns,rs,mi,gi=!1,Lr=[],qt=null,Sn=null,an=null,_i=new Map,xe=new Map,ct=[],Be="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ho(e,n){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":_i.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xe.delete(n.pointerId)}}function Qn(e,n,o,c,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},n!==null&&(n=ar(n),n!==null&&Yn(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function fo(e,n,o,c,f){switch(n){case"focusin":return qt=Qn(qt,e,n,o,c,f),!0;case"dragenter":return Sn=Qn(Sn,e,n,o,c,f),!0;case"mouseover":return an=Qn(an,e,n,o,c,f),!0;case"pointerover":var m=f.pointerId;return _i.set(m,Qn(_i.get(m)||null,e,n,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,xe.set(m,Qn(xe.get(m)||null,e,n,o,c,f)),!0}return!1}function is(e){var n=or(e.target);if(n!==null){var o=jn(n);if(o!==null){if(n=o.tag,n===13){if(n=Jn(o),n!==null){e.blockedOn=n,mi(e.priority,function(){ns(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ln(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=as(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);to=c,o.target.dispatchEvent(c),to=null}else return n=ar(o),n!==null&&Yn(n),e.blockedOn=o,!1;n.shift()}return!0}function ss(e,n,o){ln(e)&&o.delete(n)}function vi(){gi=!1,qt!==null&&ln(qt)&&(qt=null),Sn!==null&&ln(Sn)&&(Sn=null),an!==null&&ln(an)&&(an=null),_i.forEach(ss),xe.forEach(ss)}function Ye(e,n){e.blockedOn===n&&(e.blockedOn=null,gi||(gi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vi)))}function Kt(e){function n(f){return Ye(f,e)}if(0<Lr.length){Ye(Lr[0],e);for(var o=1;o<Lr.length;o++){var c=Lr[o];c.blockedOn===e&&(c.blockedOn=null)}}for(qt!==null&&Ye(qt,e),Sn!==null&&Ye(Sn,e),an!==null&&Ye(an,e),_i.forEach(n),xe.forEach(n),o=0;o<ct.length;o++)c=ct[o],c.blockedOn===e&&(c.blockedOn=null);for(;0<ct.length&&(o=ct[0],o.blockedOn===null);)is(o),o.blockedOn===null&&ct.shift()}var Xn=ie.ReactCurrentBatchConfig,yi=!0;function Gl(e,n,o,c){var f=Ae,m=Xn.transition;Xn.transition=null;try{Ae=1,wi(e,n,o,c)}finally{Ae=f,Xn.transition=m}}function Ea(e,n,o,c){var f=Ae,m=Xn.transition;Xn.transition=null;try{Ae=4,wi(e,n,o,c)}finally{Ae=f,Xn.transition=m}}function wi(e,n,o,c){if(yi){var f=as(e,n,o,c);if(f===null)t(e,n,c,os,o),ho(e,c);else if(fo(f,e,n,o,c))c.stopPropagation();else if(ho(e,c),n&4&&-1<Be.indexOf(e)){for(;f!==null;){var m=ar(f);if(m!==null&&ts(m),m=as(e,n,o,c),m===null&&t(e,n,c,os,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else t(e,n,c,null,o)}}var os=null;function as(e,n,o,c){if(os=null,e=no(c),e=or(e),e!==null)if(n=jn(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Jn(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return os=e,null}function Le(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kl()){case lo:return 1;case ka:return 4;case Qi:case uo:return 16;case br:return 536870912;default:return 16}default:return 16}}var Mn=null,At=null,zn=null;function po(){if(zn)return zn;var e,n=At,o=n.length,c,f="value"in Mn?Mn.value:Mn.textContent,m=f.length;for(e=0;e<o&&n[e]===f[e];e++);var y=o-e;for(c=1;c<=y&&n[o-c]===f[m-c];c++);return zn=f.slice(e,1<c?1-c:void 0)}function ls(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function Ta(){return!1}function Et(e){function n(o,c,f,m,y){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(o=e[k],this[k]=o?o(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Or:Ta,this.isPropagationStopped=Ta,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),n}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Et(Rr),er=W({},Rr,{view:0,detail:0}),Jl=Et(er),zt,go,Ar,Gt=W({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(zt=e.screenX-Ar.screenX,go=e.screenY-Ar.screenY):go=zt=0,Ar=e),zt)},movementY:function(e){return"movementY"in e?e.movementY:go}}),_o=Et(Gt),Pa=W({},Gt,{dataTransfer:0}),vo=Et(Pa),Yl=W({},er,{relatedTarget:0}),us=Et(Yl),Ca=W({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=Et(Ca),Xl=W({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yo=Et(Xl),eu=W({},Rr,{data:0}),wo=Et(eu),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=tr[e])?!!n[e]:!1}function nr(){return tu}var Dt=W({},er,{key:function(e){if(e.key){var n=La[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oa=Et(Dt),Ra=W({},Gt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=Et(Ra),xo=W({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),So=Et(xo),nu=W({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Et(nu),Na=W({},Gt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=Et(Na),Jt=[9,13,27,32],Dn=w&&"CompositionEvent"in window,xi=null;w&&"documentMode"in document&&(xi=document.documentMode);var kn=w&&"TextEvent"in window&&!xi,Ia=w&&(!Dn||xi&&8<xi&&11>=xi),rr=" ",ja=!1;function Nr(e,n){switch(e){case"keyup":return Jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ko(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function su(e,n){switch(e){case"compositionend":return ko(n);case"keypress":return n.which!==32?null:(ja=!0,rr);case"textInput":return e=n.data,e===rr&&ja?null:e;default:return null}}function Bn(e,n){if(bn)return e==="compositionend"||!Dn&&Nr(e,n)?(e=po(),zn=At=Mn=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ia&&n.locale!=="ko"?null:n.data;default:return null}}var hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hs[e.type]:n==="textarea"}function ds(e,n,o,c){pa(c),n=l(n,"onChange"),0<n.length&&(o=new mo("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var Si=null,Nt=null;function ou(e){Ao(e,0)}function En(e){var n=lr(e);if(yr(n))return e}function au(e,n){if(e==="change")return n}var un=!1;if(w){var Ir;if(w){var fs="oninput"in document;if(!fs){var ps=document.createElement("div");ps.setAttribute("oninput","return;"),fs=typeof ps.oninput=="function"}Ir=fs}else Ir=!1;un=Ir&&(!document.documentMode||9<document.documentMode)}function ki(){Si&&(Si.detachEvent("onpropertychange",ms),Nt=Si=null)}function ms(e){if(e.propertyName==="value"&&En(Nt)){var n=[];ds(n,Nt,e,no(e)),Gi(ou,n)}}function gs(e,n,o){e==="focusin"?(ki(),Si=n,Nt=o,Si.attachEvent("onpropertychange",ms)):e==="focusout"&&ki()}function jr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return En(Nt)}function _s(e,n){if(e==="click")return En(n)}function bo(e,n){if(e==="input"||e==="change")return En(n)}function za(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Yt=typeof Object.is=="function"?Object.is:za;function Un(e,n){if(Yt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!v.call(n,f)||!Yt(e[f],n[f]))return!1}return!0}function Da(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eo(e,n){var o=Da(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Da(o)}}function Ba(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ba(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function To(){for(var e=window,n=wr();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=wr(e.document)}return n}function Po(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function cn(e){var n=To(),o=e.focusedElem,c=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Ba(o.ownerDocument.documentElement,o)){if(c!==null&&Po(o)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!e.extend&&m>c&&(f=c,c=m,m=f),f=Eo(o,m);var y=Eo(o,c);f&&y&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),e.removeAllRanges(),m>c?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vs=w&&"documentMode"in document&&11>=document.documentMode,Mr=null,zr=null,bi=null,ys=!1;function Ua(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ys||Mr==null||Mr!==wr(c)||(c=Mr,"selectionStart"in c&&Po(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bi&&Un(bi,c)||(bi=c,c=l(zr,"onSelect"),0<c.length&&(n=new mo("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=Mr)))}function $n(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Dr={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionend:$n("Transition","TransitionEnd")},Fn={},Co={};w&&(Co=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ei(e){if(Fn[e])return Fn[e];if(!Dr[e])return e;var n=Dr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Co)return Fn[e]=n[o];return e}var $a=Ei("animationend"),hn=Ei("animationiteration"),Lo=Ei("animationstart"),Oo=Ei("transitionend"),Br=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,n){Br.set(e,n),p(n,[e])}for(var ir=0;ir<Fa.length;ir++){var ws=Fa[ir],Wa=ws.toLowerCase(),lu=ws[0].toUpperCase()+ws.slice(1);Qt(Wa,"on"+lu)}Qt($a,"onAnimationEnd"),Qt(hn,"onAnimationIteration"),Qt(Lo,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Oo,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ha=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Ro(e,n,o){var c=e.type||"unknown-event";e.currentTarget=o,so(c,n,void 0,e),e.currentTarget=null}function Ao(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],f=c.event;c=c.listeners;e:{var m=void 0;if(n)for(var y=c.length-1;0<=y;y--){var k=c[y],T=k.instance,D=k.currentTarget;if(k=k.listener,T!==m&&f.isPropagationStopped())break e;Ro(f,k,D),m=T}else for(y=0;y<c.length;y++){if(k=c[y],T=k.instance,D=k.currentTarget,k=k.listener,T!==m&&f.isPropagationStopped())break e;Ro(f,k,D),m=T}}}if(di)throw e=Ji,di=!1,Ji=null,e}function Ue(e,n){var o=n[Hr];o===void 0&&(o=n[Hr]=new Set);var c=e+"__bubble";o.has(c)||(Za(n,e,2,!1),o.add(c))}function No(e,n,o){var c=0;n&&(c|=4),Za(o,e,c,n)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Ti]){e[Ti]=!0,u.forEach(function(o){o!=="selectionchange"&&(Ha.has(o)||No(o,!1,e),No(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ti]||(n[Ti]=!0,No("selectionchange",!1,n))}}function Za(e,n,o,c){switch(Le(n)){case 1:var f=Gl;break;case 4:f=Ea;break;default:f=wi}o=f.bind(null,n,o,e),f=void 0,!io||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function t(e,n,o,c,f){var m=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var k=c.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(y===4)for(y=c.return;y!==null;){var T=y.tag;if((T===3||T===4)&&(T=y.stateNode.containerInfo,T===f||T.nodeType===8&&T.parentNode===f))return;y=y.return}for(;k!==null;){if(y=or(k),y===null)return;if(T=y.tag,T===5||T===6){c=m=y;continue e}k=k.parentNode}}c=c.return}Gi(function(){var D=m,V=no(o),K=[];e:{var Z=Br.get(e);if(Z!==void 0){var ee=mo,re=e;switch(e){case"keypress":if(ls(o)===0)break e;case"keydown":case"keyup":ee=Oa;break;case"focusin":re="focus",ee=us;break;case"focusout":re="blur",ee=us;break;case"beforeblur":case"afterblur":ee=us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=vo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=So;break;case $a:case hn:case Lo:ee=Ql;break;case Oo:ee=ru;break;case"scroll":ee=Jl;break;case"wheel":ee=iu;break;case"copy":case"cut":case"paste":ee=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Aa}var se=(n&4)!==0,st=!se&&e==="scroll",N=se?Z!==null?Z+"Capture":null:Z;se=[];for(var O=D,M;O!==null;){M=O;var J=M.stateNode;if(M.tag===5&&J!==null&&(M=J,N!==null&&(J=ci(O,N),J!=null&&se.push(i(O,J,M)))),st)break;O=O.return}0<se.length&&(Z=new ee(Z,re,null,o,V),K.push({event:Z,listeners:se}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",Z&&o!==to&&(re=o.relatedTarget||o.fromElement)&&(or(re)||re[Me]))break e;if((ee||Z)&&(Z=V.window===V?V:(Z=V.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(re=o.relatedTarget||o.toElement,ee=D,re=re?or(re):null,re!==null&&(st=jn(re),re!==st||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=D),ee!==re)){if(se=_o,J="onMouseLeave",N="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(se=Aa,J="onPointerLeave",N="onPointerEnter",O="pointer"),st=ee==null?Z:lr(ee),M=re==null?Z:lr(re),Z=new se(J,O+"leave",ee,o,V),Z.target=st,Z.relatedTarget=M,J=null,or(V)===D&&(se=new se(N,O+"enter",re,o,V),se.target=M,se.relatedTarget=st,J=se),st=J,ee&&re)t:{for(se=ee,N=re,O=0,M=se;M;M=d(M))O++;for(M=0,J=N;J;J=d(J))M++;for(;0<O-M;)se=d(se),O--;for(;0<M-O;)N=d(N),M--;for(;O--;){if(se===N||N!==null&&se===N.alternate)break t;se=d(se),N=d(N)}se=null}else se=null;ee!==null&&_(K,Z,ee,se,!1),re!==null&&st!==null&&_(K,st,re,se,!0)}}e:{if(Z=D?lr(D):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var le=au;else if(Ma(Z))if(un)le=bo;else{le=jr;var ge=gs}else(ee=Z.nodeName)&&ee.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(le=_s);if(le&&(le=le(e,D))){ds(K,le,o,V);break e}ge&&ge(e,Z,D),e==="focusout"&&(ge=Z._wrapperState)&&ge.controlled&&Z.type==="number"&&Ys(Z,"number",Z.value)}switch(ge=D?lr(D):window,e){case"focusin":(Ma(ge)||ge.contentEditable==="true")&&(Mr=ge,zr=D,bi=null);break;case"focusout":bi=zr=Mr=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,Ua(K,o,V);break;case"selectionchange":if(vs)break;case"keydown":case"keyup":Ua(K,o,V)}var _e;if(Dn)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else bn?Nr(e,o)&&(Se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(Ia&&o.locale!=="ko"&&(bn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&bn&&(_e=po()):(Mn=V,At="value"in Mn?Mn.value:Mn.textContent,bn=!0)),ge=l(D,Se),0<ge.length&&(Se=new wo(Se,e,null,o,V),K.push({event:Se,listeners:ge}),_e?Se.data=_e:(_e=ko(o),_e!==null&&(Se.data=_e)))),(_e=kn?su(e,o):Bn(e,o))&&(D=l(D,"onBeforeInput"),0<D.length&&(V=new wo("onBeforeInput","beforeinput",null,o,V),K.push({event:V,listeners:D}),V.data=_e))}Ao(K,n)})}function i(e,n,o){return{instance:e,listener:n,currentTarget:o}}function l(e,n){for(var o=n+"Capture",c=[];e!==null;){var f=e,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=ci(e,o),m!=null&&c.unshift(i(e,m,f)),m=ci(e,n),m!=null&&c.push(i(e,m,f))),e=e.return}return c}function d(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _(e,n,o,c,f){for(var m=n._reactName,y=[];o!==null&&o!==c;){var k=o,T=k.alternate,D=k.stateNode;if(T!==null&&T===c)break;k.tag===5&&D!==null&&(k=D,f?(T=ci(o,m),T!=null&&y.unshift(i(o,T,k))):f||(T=ci(o,m),T!=null&&y.push(i(o,T,k)))),o=o.return}y.length!==0&&e.push({event:n,listeners:y})}var x=/\r\n?/g,E=/\u0000|\uFFFD/g;function A(e){return(typeof e=="string"?e:""+e).replace(x,`
`).replace(E,"")}function z(e,n,o){if(n=A(n),A(e)!==n&&o)throw Error(s(425))}function H(){}var X=null,pe=null;function Te(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ht=typeof setTimeout=="function"?setTimeout:void 0,ot=typeof clearTimeout=="function"?clearTimeout:void 0,It=typeof Promise=="function"?Promise:void 0,Tt=typeof queueMicrotask=="function"?queueMicrotask:typeof It<"u"?function(e){return It.resolve(null).then(e).catch(Fr)}:ht;function Fr(e){setTimeout(function(){throw e})}function Io(e,n){var o=n,c=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){e.removeChild(f),Kt(n);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Kt(n)}function Wn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Va(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),dn="__reactFiber$"+sr,Wr="__reactProps$"+sr,Me="__reactContainer$"+sr,Hr="__reactEvents$"+sr,uu="__reactListeners$"+sr,cu="__reactHandles$"+sr;function or(e){var n=e[dn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Me]||o[dn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Va(e);e!==null;){if(o=e[dn])return o;e=Va(e)}return n}e=o,o=e.parentNode}return null}function ar(e){return e=e[dn]||e[Me],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function xs(e){return e[Wr]||null}var hu=[],Ss=-1;function Zr(e){return{current:e}}function Ke(e){0>Ss||(e.current=hu[Ss],hu[Ss]=null,Ss--)}function He(e,n){Ss++,hu[Ss]=e.current,e.current=n}var Vr={},Pt=Zr(Vr),Bt=Zr(!1),Pi=Vr;function ks(e,n){var o=e.type.contextTypes;if(!o)return Vr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=n[m];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=f),f}function Ut(e){return e=e.childContextTypes,e!=null}function qa(){Ke(Bt),Ke(Pt)}function Xc(e,n,o){if(Pt.current!==Vr)throw Error(s(168));He(Pt,n),He(Bt,o)}function eh(e,n,o){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in n))throw Error(s(108,Oe(e)||"Unknown",f));return W({},o,c)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,Pi=Pt.current,He(Pt,e),He(Bt,Bt.current),!0}function th(e,n,o){var c=e.stateNode;if(!c)throw Error(s(169));o?(e=eh(e,n,Pi),c.__reactInternalMemoizedMergedChildContext=e,Ke(Bt),Ke(Pt),He(Pt,e)):Ke(Bt),He(Bt,o)}var ur=null,Ga=!1,du=!1;function nh(e){ur===null?ur=[e]:ur.push(e)}function zf(e){Ga=!0,nh(e)}function qr(){if(!du&&ur!==null){du=!0;var e=0,n=Ae;try{var o=ur;for(Ae=1;e<o.length;e++){var c=o[e];do c=c(!0);while(c!==null)}ur=null,Ga=!1}catch(f){throw ur!==null&&(ur=ur.slice(e+1)),Sa(lo,qr),f}finally{Ae=n,du=!1}}return null}var bs=[],Es=0,Ja=null,Ya=0,fn=[],pn=0,Ci=null,cr=1,hr="";function Li(e,n){bs[Es++]=Ya,bs[Es++]=Ja,Ja=e,Ya=n}function rh(e,n,o){fn[pn++]=cr,fn[pn++]=hr,fn[pn++]=Ci,Ci=e;var c=cr;e=hr;var f=32-Ee(c)-1;c&=~(1<<f),o+=1;var m=32-Ee(n)+f;if(30<m){var y=f-f%5;m=(c&(1<<y)-1).toString(32),c>>=y,f-=y,cr=1<<32-Ee(n)+f|o<<f|c,hr=m+e}else cr=1<<m|o<<f|c,hr=e}function fu(e){e.return!==null&&(Li(e,1),rh(e,1,0))}function pu(e){for(;e===Ja;)Ja=bs[--Es],bs[Es]=null,Ya=bs[--Es],bs[Es]=null;for(;e===Ci;)Ci=fn[--pn],fn[pn]=null,hr=fn[--pn],fn[pn]=null,cr=fn[--pn],fn[pn]=null}var Xt=null,en=null,Ge=!1,Tn=null;function ih(e,n){var o=vn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function sh(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Xt=e,en=Wn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Xt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Ci!==null?{id:cr,overflow:hr}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=vn(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Xt=e,en=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gu(e){if(Ge){var n=en;if(n){var o=n;if(!sh(e,n)){if(mu(e))throw Error(s(418));n=Wn(o.nextSibling);var c=Xt;n&&sh(e,n)?ih(c,o):(e.flags=e.flags&-4097|2,Ge=!1,Xt=e)}}else{if(mu(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ge=!1,Xt=e}}}function oh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Qa(e){if(e!==Xt)return!1;if(!Ge)return oh(e),Ge=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Te(e.type,e.memoizedProps)),n&&(n=en)){if(mu(e))throw ah(),Error(s(418));for(;n;)ih(e,n),n=Wn(n.nextSibling)}if(oh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){en=Wn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}en=null}}else en=Xt?Wn(e.stateNode.nextSibling):null;return!0}function ah(){for(var e=en;e;)e=Wn(e.nextSibling)}function Ts(){en=Xt=null,Ge=!1}function _u(e){Tn===null?Tn=[e]:Tn.push(e)}var Df=ie.ReactCurrentBatchConfig;function jo(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var c=o.stateNode}if(!c)throw Error(s(147,e));var f=c,m=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(y){var k=f.refs;y===null?delete k[m]:k[m]=y},n._stringRef=m,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function Xa(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function lh(e){var n=e._init;return n(e._payload)}function uh(e){function n(N,O){if(e){var M=N.deletions;M===null?(N.deletions=[O],N.flags|=16):M.push(O)}}function o(N,O){if(!e)return null;for(;O!==null;)n(N,O),O=O.sibling;return null}function c(N,O){for(N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function f(N,O){return N=ti(N,O),N.index=0,N.sibling=null,N}function m(N,O,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<O?(N.flags|=2,O):M):(N.flags|=2,O)):(N.flags|=1048576,O)}function y(N){return e&&N.alternate===null&&(N.flags|=2),N}function k(N,O,M,J){return O===null||O.tag!==6?(O=lc(M,N.mode,J),O.return=N,O):(O=f(O,M),O.return=N,O)}function T(N,O,M,J){var le=M.type;return le===be?V(N,O,M.props.children,J,M.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ze&&lh(le)===O.type)?(J=f(O,M.props),J.ref=jo(N,O,M),J.return=N,J):(J=kl(M.type,M.key,M.props,null,N.mode,J),J.ref=jo(N,O,M),J.return=N,J)}function D(N,O,M,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=uc(M,N.mode,J),O.return=N,O):(O=f(O,M.children||[]),O.return=N,O)}function V(N,O,M,J,le){return O===null||O.tag!==7?(O=zi(M,N.mode,J,le),O.return=N,O):(O=f(O,M),O.return=N,O)}function K(N,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return O=lc(""+O,N.mode,M),O.return=N,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Re:return M=kl(O.type,O.key,O.props,null,N.mode,M),M.ref=jo(N,null,O),M.return=N,M;case de:return O=uc(O,N.mode,M),O.return=N,O;case ze:var J=O._init;return K(N,J(O._payload),M)}if(xr(O)||me(O))return O=zi(O,N.mode,M,null),O.return=N,O;Xa(N,O)}return null}function Z(N,O,M,J){var le=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return le!==null?null:k(N,O,""+M,J);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Re:return M.key===le?T(N,O,M,J):null;case de:return M.key===le?D(N,O,M,J):null;case ze:return le=M._init,Z(N,O,le(M._payload),J)}if(xr(M)||me(M))return le!==null?null:V(N,O,M,J,null);Xa(N,M)}return null}function ee(N,O,M,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return N=N.get(M)||null,k(O,N,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Re:return N=N.get(J.key===null?M:J.key)||null,T(O,N,J,le);case de:return N=N.get(J.key===null?M:J.key)||null,D(O,N,J,le);case ze:var ge=J._init;return ee(N,O,M,ge(J._payload),le)}if(xr(J)||me(J))return N=N.get(M)||null,V(O,N,J,le,null);Xa(O,J)}return null}function re(N,O,M,J){for(var le=null,ge=null,_e=O,Se=O=0,_t=null;_e!==null&&Se<M.length;Se++){_e.index>Se?(_t=_e,_e=null):_t=_e.sibling;var je=Z(N,_e,M[Se],J);if(je===null){_e===null&&(_e=_t);break}e&&_e&&je.alternate===null&&n(N,_e),O=m(je,O,Se),ge===null?le=je:ge.sibling=je,ge=je,_e=_t}if(Se===M.length)return o(N,_e),Ge&&Li(N,Se),le;if(_e===null){for(;Se<M.length;Se++)_e=K(N,M[Se],J),_e!==null&&(O=m(_e,O,Se),ge===null?le=_e:ge.sibling=_e,ge=_e);return Ge&&Li(N,Se),le}for(_e=c(N,_e);Se<M.length;Se++)_t=ee(_e,N,Se,M[Se],J),_t!==null&&(e&&_t.alternate!==null&&_e.delete(_t.key===null?Se:_t.key),O=m(_t,O,Se),ge===null?le=_t:ge.sibling=_t,ge=_t);return e&&_e.forEach(function(ni){return n(N,ni)}),Ge&&Li(N,Se),le}function se(N,O,M,J){var le=me(M);if(typeof le!="function")throw Error(s(150));if(M=le.call(M),M==null)throw Error(s(151));for(var ge=le=null,_e=O,Se=O=0,_t=null,je=M.next();_e!==null&&!je.done;Se++,je=M.next()){_e.index>Se?(_t=_e,_e=null):_t=_e.sibling;var ni=Z(N,_e,je.value,J);if(ni===null){_e===null&&(_e=_t);break}e&&_e&&ni.alternate===null&&n(N,_e),O=m(ni,O,Se),ge===null?le=ni:ge.sibling=ni,ge=ni,_e=_t}if(je.done)return o(N,_e),Ge&&Li(N,Se),le;if(_e===null){for(;!je.done;Se++,je=M.next())je=K(N,je.value,J),je!==null&&(O=m(je,O,Se),ge===null?le=je:ge.sibling=je,ge=je);return Ge&&Li(N,Se),le}for(_e=c(N,_e);!je.done;Se++,je=M.next())je=ee(_e,N,Se,je.value,J),je!==null&&(e&&je.alternate!==null&&_e.delete(je.key===null?Se:je.key),O=m(je,O,Se),ge===null?le=je:ge.sibling=je,ge=je);return e&&_e.forEach(function(_p){return n(N,_p)}),Ge&&Li(N,Se),le}function st(N,O,M,J){if(typeof M=="object"&&M!==null&&M.type===be&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Re:e:{for(var le=M.key,ge=O;ge!==null;){if(ge.key===le){if(le=M.type,le===be){if(ge.tag===7){o(N,ge.sibling),O=f(ge,M.props.children),O.return=N,N=O;break e}}else if(ge.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ze&&lh(le)===ge.type){o(N,ge.sibling),O=f(ge,M.props),O.ref=jo(N,ge,M),O.return=N,N=O;break e}o(N,ge);break}else n(N,ge);ge=ge.sibling}M.type===be?(O=zi(M.props.children,N.mode,J,M.key),O.return=N,N=O):(J=kl(M.type,M.key,M.props,null,N.mode,J),J.ref=jo(N,O,M),J.return=N,N=J)}return y(N);case de:e:{for(ge=M.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){o(N,O.sibling),O=f(O,M.children||[]),O.return=N,N=O;break e}else{o(N,O);break}else n(N,O);O=O.sibling}O=uc(M,N.mode,J),O.return=N,N=O}return y(N);case ze:return ge=M._init,st(N,O,ge(M._payload),J)}if(xr(M))return re(N,O,M,J);if(me(M))return se(N,O,M,J);Xa(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,O!==null&&O.tag===6?(o(N,O.sibling),O=f(O,M),O.return=N,N=O):(o(N,O),O=lc(M,N.mode,J),O.return=N,N=O),y(N)):o(N,O)}return st}var Ps=uh(!0),ch=uh(!1),el=Zr(null),tl=null,Cs=null,vu=null;function yu(){vu=Cs=tl=null}function wu(e){var n=el.current;Ke(el),e._currentValue=n}function xu(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function Ls(e,n){tl=e,vu=Cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&($t=!0),e.firstContext=null)}function mn(e){var n=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:n,next:null},Cs===null){if(tl===null)throw Error(s(308));Cs=e,tl.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return n}var Oi=null;function Su(e){Oi===null?Oi=[e]:Oi.push(e)}function hh(e,n,o,c){var f=n.interleaved;return f===null?(o.next=o,Su(n)):(o.next=f.next,f.next=o),n.interleaved=o,dr(e,c)}function dr(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Kr=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Gr(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ie&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,dr(e,o)}return f=c.interleaved,f===null?(n.next=n,Su(c)):(n.next=f.next,f.next=n),c.interleaved=n,dr(e,o)}function nl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,xn(e,o)}}function fh(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=y:m=m.next=y,o=o.next}while(o!==null);m===null?f=m=n:m=m.next=n}else f=m=n;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function rl(e,n,o,c){var f=e.updateQueue;Kr=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var T=k,D=T.next;T.next=null,y===null?m=D:y.next=D,y=T;var V=e.alternate;V!==null&&(V=V.updateQueue,k=V.lastBaseUpdate,k!==y&&(k===null?V.firstBaseUpdate=D:k.next=D,V.lastBaseUpdate=T))}if(m!==null){var K=f.baseState;y=0,V=D=T=null,k=m;do{var Z=k.lane,ee=k.eventTime;if((c&Z)===Z){V!==null&&(V=V.next={eventTime:ee,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var re=e,se=k;switch(Z=n,ee=o,se.tag){case 1:if(re=se.payload,typeof re=="function"){K=re.call(ee,K,Z);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,Z=typeof re=="function"?re.call(ee,K,Z):re,Z==null)break e;K=W({},K,Z);break e;case 2:Kr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,Z=f.effects,Z===null?f.effects=[k]:Z.push(k))}else ee={eventTime:ee,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},V===null?(D=V=ee,T=K):V=V.next=ee,y|=Z;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(V===null&&(T=K),f.baseState=T,f.firstBaseUpdate=D,f.lastBaseUpdate=V,n=f.shared.interleaved,n!==null){f=n;do y|=f.lane,f=f.next;while(f!==n)}else m===null&&(f.shared.lanes=0);Ni|=y,e.lanes=y,e.memoizedState=K}}function ph(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(s(191,f));f.call(c)}}}var Mo={},Hn=Zr(Mo),zo=Zr(Mo),Do=Zr(Mo);function Ri(e){if(e===Mo)throw Error(s(174));return e}function bu(e,n){switch(He(Do,n),He(zo,e),He(Hn,Mo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Vi(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Vi(n,e)}Ke(Hn),He(Hn,n)}function Os(){Ke(Hn),Ke(zo),Ke(Do)}function mh(e){Ri(Do.current);var n=Ri(Hn.current),o=Vi(n,e.type);n!==o&&(He(zo,e),He(Hn,o))}function Eu(e){zo.current===e&&(Ke(Hn),Ke(zo))}var Qe=Zr(0);function il(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tu=[];function Pu(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var sl=ie.ReactCurrentDispatcher,Cu=ie.ReactCurrentBatchConfig,Ai=0,Xe=null,dt=null,mt=null,ol=!1,Bo=!1,Uo=0,Bf=0;function Ct(){throw Error(s(321))}function Lu(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Yt(e[o],n[o]))return!1;return!0}function Ou(e,n,o,c,f,m){if(Ai=m,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,sl.current=e===null||e.memoizedState===null?Wf:Hf,e=o(c,f),Bo){m=0;do{if(Bo=!1,Uo=0,25<=m)throw Error(s(301));m+=1,mt=dt=null,n.updateQueue=null,sl.current=Zf,e=o(c,f)}while(Bo)}if(sl.current=ul,n=dt!==null&&dt.next!==null,Ai=0,mt=dt=Xe=null,ol=!1,n)throw Error(s(300));return e}function Ru(){var e=Uo!==0;return Uo=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Xe.memoizedState=mt=e:mt=mt.next=e,mt}function gn(){if(dt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var n=mt===null?Xe.memoizedState:mt.next;if(n!==null)mt=n,dt=e;else{if(e===null)throw Error(s(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},mt===null?Xe.memoizedState=mt=e:mt=mt.next=e}return mt}function $o(e,n){return typeof n=="function"?n(e):n}function Au(e){var n=gn(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=dt,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var k=y=null,T=null,D=m;do{var V=D.lane;if((Ai&V)===V)T!==null&&(T=T.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),c=D.hasEagerState?D.eagerState:e(c,D.action);else{var K={lane:V,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};T===null?(k=T=K,y=c):T=T.next=K,Xe.lanes|=V,Ni|=V}D=D.next}while(D!==null&&D!==m);T===null?y=c:T.next=k,Yt(c,n.memoizedState)||($t=!0),n.memoizedState=c,n.baseState=y,n.baseQueue=T,o.lastRenderedState=c}if(e=o.interleaved,e!==null){f=e;do m=f.lane,Xe.lanes|=m,Ni|=m,f=f.next;while(f!==e)}else f===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Nu(e){var n=gn(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var c=o.dispatch,f=o.pending,m=n.memoizedState;if(f!==null){o.pending=null;var y=f=f.next;do m=e(m,y.action),y=y.next;while(y!==f);Yt(m,n.memoizedState)||($t=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,c]}function gh(){}function _h(e,n){var o=Xe,c=gn(),f=n(),m=!Yt(c.memoizedState,f);if(m&&(c.memoizedState=f,$t=!0),c=c.queue,Iu(wh.bind(null,o,c,e),[e]),c.getSnapshot!==n||m||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Fo(9,yh.bind(null,o,c,f,n),void 0,null),gt===null)throw Error(s(349));(Ai&30)!==0||vh(o,n,f)}return f}function vh(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function yh(e,n,o,c){n.value=o,n.getSnapshot=c,xh(n)&&Sh(e)}function wh(e,n,o){return o(function(){xh(n)&&Sh(e)})}function xh(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Yt(e,o)}catch{return!0}}function Sh(e){var n=dr(e,1);n!==null&&On(n,e,1,-1)}function kh(e){var n=Zn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e},n.queue=e,e=e.dispatch=Ff.bind(null,Xe,e),[n.memoizedState,e]}function Fo(e,n,o,c){return e={tag:e,create:n,destroy:o,deps:c,next:null},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e)),e}function bh(){return gn().memoizedState}function al(e,n,o,c){var f=Zn();Xe.flags|=e,f.memoizedState=Fo(1|n,o,void 0,c===void 0?null:c)}function ll(e,n,o,c){var f=gn();c=c===void 0?null:c;var m=void 0;if(dt!==null){var y=dt.memoizedState;if(m=y.destroy,c!==null&&Lu(c,y.deps)){f.memoizedState=Fo(n,o,m,c);return}}Xe.flags|=e,f.memoizedState=Fo(1|n,o,m,c)}function Eh(e,n){return al(8390656,8,e,n)}function Iu(e,n){return ll(2048,8,e,n)}function Th(e,n){return ll(4,2,e,n)}function Ph(e,n){return ll(4,4,e,n)}function Ch(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lh(e,n,o){return o=o!=null?o.concat([e]):null,ll(4,4,Ch.bind(null,n,e),o)}function ju(){}function Oh(e,n){var o=gn();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Lu(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function Rh(e,n){var o=gn();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Lu(n,c[1])?c[0]:(e=e(),o.memoizedState=[e,n],e)}function Ah(e,n,o){return(Ai&21)===0?(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=o):(Yt(o,n)||(o=ba(),Xe.lanes|=o,Ni|=o,e.baseState=!0),n)}function Uf(e,n){var o=Ae;Ae=o!==0&&4>o?o:4,e(!0);var c=Cu.transition;Cu.transition={};try{e(!1),n()}finally{Ae=o,Cu.transition=c}}function Nh(){return gn().memoizedState}function $f(e,n,o){var c=Xr(e);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Ih(e))jh(n,o);else if(o=hh(e,n,o,c),o!==null){var f=Mt();On(o,e,c,f),Mh(o,n,c)}}function Ff(e,n,o){var c=Xr(e),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ih(e))jh(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var y=n.lastRenderedState,k=m(y,o);if(f.hasEagerState=!0,f.eagerState=k,Yt(k,y)){var T=n.interleaved;T===null?(f.next=f,Su(n)):(f.next=T.next,T.next=f),n.interleaved=f;return}}catch{}finally{}o=hh(e,n,f,c),o!==null&&(f=Mt(),On(o,e,c,f),Mh(o,n,c))}}function Ih(e){var n=e.alternate;return e===Xe||n!==null&&n===Xe}function jh(e,n){Bo=ol=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Mh(e,n,o){if((o&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,xn(e,o)}}var ul={readContext:mn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Wf={readContext:mn,useCallback:function(e,n){return Zn().memoizedState=[e,n===void 0?null:n],e},useContext:mn,useEffect:Eh,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,al(4194308,4,Ch.bind(null,n,e),o)},useLayoutEffect:function(e,n){return al(4194308,4,e,n)},useInsertionEffect:function(e,n){return al(4,2,e,n)},useMemo:function(e,n){var o=Zn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var c=Zn();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=$f.bind(null,Xe,e),[c.memoizedState,e]},useRef:function(e){var n=Zn();return e={current:e},n.memoizedState=e},useState:kh,useDebugValue:ju,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=kh(!1),n=e[0];return e=Uf.bind(null,e[1]),Zn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var c=Xe,f=Zn();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),gt===null)throw Error(s(349));(Ai&30)!==0||vh(c,n,o)}f.memoizedState=o;var m={value:o,getSnapshot:n};return f.queue=m,Eh(wh.bind(null,c,m,e),[e]),c.flags|=2048,Fo(9,yh.bind(null,c,m,o,n),void 0,null),o},useId:function(){var e=Zn(),n=gt.identifierPrefix;if(Ge){var o=hr,c=cr;o=(c&~(1<<32-Ee(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=Uo++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Bf++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Hf={readContext:mn,useCallback:Oh,useContext:mn,useEffect:Iu,useImperativeHandle:Lh,useInsertionEffect:Th,useLayoutEffect:Ph,useMemo:Rh,useReducer:Au,useRef:bh,useState:function(){return Au($o)},useDebugValue:ju,useDeferredValue:function(e){var n=gn();return Ah(n,dt.memoizedState,e)},useTransition:function(){var e=Au($o)[0],n=gn().memoizedState;return[e,n]},useMutableSource:gh,useSyncExternalStore:_h,useId:Nh,unstable_isNewReconciler:!1},Zf={readContext:mn,useCallback:Oh,useContext:mn,useEffect:Iu,useImperativeHandle:Lh,useInsertionEffect:Th,useLayoutEffect:Ph,useMemo:Rh,useReducer:Nu,useRef:bh,useState:function(){return Nu($o)},useDebugValue:ju,useDeferredValue:function(e){var n=gn();return dt===null?n.memoizedState=e:Ah(n,dt.memoizedState,e)},useTransition:function(){var e=Nu($o)[0],n=gn().memoizedState;return[e,n]},useMutableSource:gh,useSyncExternalStore:_h,useId:Nh,unstable_isNewReconciler:!1};function Pn(e,n){if(e&&e.defaultProps){n=W({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Mu(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:W({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var cl={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var c=Mt(),f=Xr(e),m=fr(c,f);m.payload=n,o!=null&&(m.callback=o),n=Gr(e,m,f),n!==null&&(On(n,e,f,c),nl(n,e,f))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=Mt(),f=Xr(e),m=fr(c,f);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Gr(e,m,f),n!==null&&(On(n,e,f,c),nl(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Mt(),c=Xr(e),f=fr(o,c);f.tag=2,n!=null&&(f.callback=n),n=Gr(e,f,c),n!==null&&(On(n,e,c,o),nl(n,e,c))}};function zh(e,n,o,c,f,m,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,y):n.prototype&&n.prototype.isPureReactComponent?!Un(o,c)||!Un(f,m):!0}function Dh(e,n,o){var c=!1,f=Vr,m=n.contextType;return typeof m=="object"&&m!==null?m=mn(m):(f=Ut(n)?Pi:Pt.current,c=n.contextTypes,m=(c=c!=null)?ks(e,f):Vr),n=new n(o,m),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=cl,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=m),n}function Bh(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&cl.enqueueReplaceState(n,n.state,null)}function zu(e,n,o,c){var f=e.stateNode;f.props=o,f.state=e.memoizedState,f.refs={},ku(e);var m=n.contextType;typeof m=="object"&&m!==null?f.context=mn(m):(m=Ut(n)?Pi:Pt.current,f.context=ks(e,m)),f.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Mu(e,n,m,o),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&cl.enqueueReplaceState(f,f.state,null),rl(e,o,f,c),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,n){try{var o="",c=n;do o+=oe(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:n,stack:f,digest:null}}function Du(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Bu(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Vf=typeof WeakMap=="function"?WeakMap:Map;function Uh(e,n,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){_l||(_l=!0,ec=c),Bu(e,n)},o}function $h(e,n,o){o=fr(-1,o),o.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var f=n.value;o.payload=function(){return c(f)},o.callback=function(){Bu(e,n)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Bu(e,n),typeof c!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),o}function Fh(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Vf;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(o)||(f.add(o),e=op.bind(null,e,n,o),n.then(e,e))}function Wh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Hh(e,n,o,c,f){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=fr(-1,1),n.tag=2,Gr(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var qf=ie.ReactCurrentOwner,$t=!1;function jt(e,n,o,c){n.child=e===null?ch(n,null,o,c):Ps(n,e.child,o,c)}function Zh(e,n,o,c,f){o=o.render;var m=n.ref;return Ls(n,f),c=Ou(e,n,o,c,m,f),o=Ru(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,pr(e,n,f)):(Ge&&o&&fu(n),n.flags|=1,jt(e,n,c,f),n.child)}function Vh(e,n,o,c,f){if(e===null){var m=o.type;return typeof m=="function"&&!ac(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=m,qh(e,n,m,c,f)):(e=kl(o.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,(e.lanes&f)===0){var y=m.memoizedProps;if(o=o.compare,o=o!==null?o:Un,o(y,c)&&e.ref===n.ref)return pr(e,n,f)}return n.flags|=1,e=ti(m,c),e.ref=n.ref,e.return=n,n.child=e}function qh(e,n,o,c,f){if(e!==null){var m=e.memoizedProps;if(Un(m,c)&&e.ref===n.ref)if($t=!1,n.pendingProps=c=m,(e.lanes&f)!==0)(e.flags&131072)!==0&&($t=!0);else return n.lanes=e.lanes,pr(e,n,f)}return Uu(e,n,o,c,f)}function Kh(e,n,o){var c=n.pendingProps,f=c.children,m=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ns,tn),tn|=o;else{if((o&1073741824)===0)return e=m!==null?m.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,He(Ns,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,He(Ns,tn),tn|=c}else m!==null?(c=m.baseLanes|o,n.memoizedState=null):c=o,He(Ns,tn),tn|=c;return jt(e,n,f,o),n.child}function Gh(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Uu(e,n,o,c,f){var m=Ut(o)?Pi:Pt.current;return m=ks(n,m),Ls(n,f),o=Ou(e,n,o,c,m,f),c=Ru(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,pr(e,n,f)):(Ge&&c&&fu(n),n.flags|=1,jt(e,n,o,f),n.child)}function Jh(e,n,o,c,f){if(Ut(o)){var m=!0;Ka(n)}else m=!1;if(Ls(n,f),n.stateNode===null)dl(e,n),Dh(n,o,c),zu(n,o,c,f),c=!0;else if(e===null){var y=n.stateNode,k=n.memoizedProps;y.props=k;var T=y.context,D=o.contextType;typeof D=="object"&&D!==null?D=mn(D):(D=Ut(o)?Pi:Pt.current,D=ks(n,D));var V=o.getDerivedStateFromProps,K=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function";K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==c||T!==D)&&Bh(n,y,c,D),Kr=!1;var Z=n.memoizedState;y.state=Z,rl(n,c,y,f),T=n.memoizedState,k!==c||Z!==T||Bt.current||Kr?(typeof V=="function"&&(Mu(n,o,V,c),T=n.memoizedState),(k=Kr||zh(n,o,k,c,Z,T,D))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=T),y.props=c,y.state=T,y.context=D,c=k):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{y=n.stateNode,dh(e,n),k=n.memoizedProps,D=n.type===n.elementType?k:Pn(n.type,k),y.props=D,K=n.pendingProps,Z=y.context,T=o.contextType,typeof T=="object"&&T!==null?T=mn(T):(T=Ut(o)?Pi:Pt.current,T=ks(n,T));var ee=o.getDerivedStateFromProps;(V=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==K||Z!==T)&&Bh(n,y,c,T),Kr=!1,Z=n.memoizedState,y.state=Z,rl(n,c,y,f);var re=n.memoizedState;k!==K||Z!==re||Bt.current||Kr?(typeof ee=="function"&&(Mu(n,o,ee,c),re=n.memoizedState),(D=Kr||zh(n,o,D,c,Z,re,T)||!1)?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,T),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,T)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=re),y.props=c,y.state=re,y.context=T,c=D):(typeof y.componentDidUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),c=!1)}return $u(e,n,o,c,m,f)}function $u(e,n,o,c,f,m){Gh(e,n);var y=(n.flags&128)!==0;if(!c&&!y)return f&&th(n,o,!1),pr(e,n,m);c=n.stateNode,qf.current=n;var k=y&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&y?(n.child=Ps(n,e.child,null,m),n.child=Ps(n,null,k,m)):jt(e,n,k,m),n.memoizedState=c.state,f&&th(n,o,!0),n.child}function Yh(e){var n=e.stateNode;n.pendingContext?Xc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Xc(e,n.context,!1),bu(e,n.containerInfo)}function Qh(e,n,o,c,f){return Ts(),_u(f),n.flags|=256,jt(e,n,o,c),n.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xh(e,n,o){var c=n.pendingProps,f=Qe.current,m=!1,y=(n.flags&128)!==0,k;if((k=y)||(k=e!==null&&e.memoizedState===null?!1:(f&2)!==0),k?(m=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),He(Qe,f&1),e===null)return gu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=c.children,e=c.fallback,m?(c=n.mode,m=n.child,y={mode:"hidden",children:y},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=y):m=bl(y,c,0,null),e=zi(e,c,o,null),m.return=n,e.return=n,m.sibling=e,n.child=m,n.child.memoizedState=Wu(o),n.memoizedState=Fu,e):Hu(n,y));if(f=e.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return Kf(e,n,y,c,k,f,o);if(m){m=c.fallback,y=n.mode,f=e.child,k=f.sibling;var T={mode:"hidden",children:c.children};return(y&1)===0&&n.child!==f?(c=n.child,c.childLanes=0,c.pendingProps=T,n.deletions=null):(c=ti(f,T),c.subtreeFlags=f.subtreeFlags&14680064),k!==null?m=ti(k,m):(m=zi(m,y,o,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,y=e.child.memoizedState,y=y===null?Wu(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},m.memoizedState=y,m.childLanes=e.childLanes&~o,n.memoizedState=Fu,c}return m=e.child,e=m.sibling,c=ti(m,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=o),c.return=n,c.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=c,n.memoizedState=null,c}function Hu(e,n){return n=bl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function hl(e,n,o,c){return c!==null&&_u(c),Ps(n,e.child,null,o),e=Hu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kf(e,n,o,c,f,m,y){if(o)return n.flags&256?(n.flags&=-257,c=Du(Error(s(422))),hl(e,n,y,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(m=c.fallback,f=n.mode,c=bl({mode:"visible",children:c.children},f,0,null),m=zi(m,f,y,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,(n.mode&1)!==0&&Ps(n,e.child,null,y),n.child.memoizedState=Wu(y),n.memoizedState=Fu,m);if((n.mode&1)===0)return hl(e,n,y,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var k=c.dgst;return c=k,m=Error(s(419)),c=Du(m,c,void 0),hl(e,n,y,c)}if(k=(y&e.childLanes)!==0,$t||k){if(c=gt,c!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|y))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,dr(e,f),On(c,e,f,-1))}return oc(),c=Du(Error(s(421))),hl(e,n,y,c)}return f.data==="$?"?(n.flags|=128,n.child=e.child,n=ap.bind(null,e),f._reactRetry=n,null):(e=m.treeContext,en=Wn(f.nextSibling),Xt=n,Ge=!0,Tn=null,e!==null&&(fn[pn++]=cr,fn[pn++]=hr,fn[pn++]=Ci,cr=e.id,hr=e.overflow,Ci=n),n=Hu(n,c.children),n.flags|=4096,n)}function ed(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),xu(e.return,n,o)}function Zu(e,n,o,c,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function td(e,n,o){var c=n.pendingProps,f=c.revealOrder,m=c.tail;if(jt(e,n,c.children,o),c=Qe.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,o,n);else if(e.tag===19)ed(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(He(Qe,c),(n.mode&1)===0)n.memoizedState=null;else switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&il(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),Zu(n,!1,f,o,m);break;case"backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&il(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}Zu(n,!0,o,null,m);break;case"together":Zu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function dl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function pr(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Ni|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=ti(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=ti(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Gf(e,n,o){switch(n.tag){case 3:Yh(n),Ts();break;case 5:mh(n);break;case 1:Ut(n.type)&&Ka(n);break;case 4:bu(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,f=n.memoizedProps.value;He(el,c._currentValue),c._currentValue=f;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(He(Qe,Qe.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Xh(e,n,o):(He(Qe,Qe.current&1),e=pr(e,n,o),e!==null?e.sibling:null);He(Qe,Qe.current&1);break;case 19:if(c=(o&n.childLanes)!==0,(e.flags&128)!==0){if(c)return td(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Qe,Qe.current),c)break;return null;case 22:case 23:return n.lanes=0,Kh(e,n,o)}return pr(e,n,o)}var nd,Vu,rd,id;nd=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Vu=function(){},rd=function(e,n,o,c){var f=e.memoizedProps;if(f!==c){e=n.stateNode,Ri(Hn.current);var m=null;switch(o){case"input":f=Ks(e,f),c=Ks(e,c),m=[];break;case"select":f=W({},f,{value:void 0}),c=W({},c,{value:void 0}),m=[];break;case"textarea":f=Hi(e,f),c=Hi(e,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=H)}eo(o,c);var y;o=null;for(D in f)if(!c.hasOwnProperty(D)&&f.hasOwnProperty(D)&&f[D]!=null)if(D==="style"){var k=f[D];for(y in k)k.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(h.hasOwnProperty(D)?m||(m=[]):(m=m||[]).push(D,null));for(D in c){var T=c[D];if(k=f!=null?f[D]:void 0,c.hasOwnProperty(D)&&T!==k&&(T!=null||k!=null))if(D==="style")if(k){for(y in k)!k.hasOwnProperty(y)||T&&T.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in T)T.hasOwnProperty(y)&&k[y]!==T[y]&&(o||(o={}),o[y]=T[y])}else o||(m||(m=[]),m.push(D,o)),o=T;else D==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,k=k?k.__html:void 0,T!=null&&k!==T&&(m=m||[]).push(D,T)):D==="children"?typeof T!="string"&&typeof T!="number"||(m=m||[]).push(D,""+T):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(h.hasOwnProperty(D)?(T!=null&&D==="onScroll"&&Ue("scroll",e),m||k===T||(m=[])):(m=m||[]).push(D,T))}o&&(m=m||[]).push("style",o);var D=m;(n.updateQueue=D)&&(n.flags|=4)}},id=function(e,n,o,c){o!==c&&(n.flags|=4)};function Wo(e,n){if(!Ge)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function Jf(e,n,o){var c=n.pendingProps;switch(pu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Ut(n.type)&&qa(),Lt(n),null;case 3:return c=n.stateNode,Os(),Ke(Bt),Ke(Pt),Pu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Qa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tn!==null&&(rc(Tn),Tn=null))),Vu(e,n),Lt(n),null;case 5:Eu(n);var f=Ri(Do.current);if(o=n.type,e!==null&&n.stateNode!=null)rd(e,n,o,c,f),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Lt(n),null}if(e=Ri(Hn.current),Qa(n)){c=n.stateNode,o=n.type;var m=n.memoizedProps;switch(c[dn]=n,c[Wr]=m,e=(n.mode&1)!==0,o){case"dialog":Ue("cancel",c),Ue("close",c);break;case"iframe":case"object":case"embed":Ue("load",c);break;case"video":case"audio":for(f=0;f<Ur.length;f++)Ue(Ur[f],c);break;case"source":Ue("error",c);break;case"img":case"image":case"link":Ue("error",c),Ue("load",c);break;case"details":Ue("toggle",c);break;case"input":Gs(c,m),Ue("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ue("invalid",c);break;case"textarea":Qs(c,m),Ue("invalid",c)}eo(o,m),f=null;for(var y in m)if(m.hasOwnProperty(y)){var k=m[y];y==="children"?typeof k=="string"?c.textContent!==k&&(m.suppressHydrationWarning!==!0&&z(c.textContent,k,e),f=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&z(c.textContent,k,e),f=["children",""+k]):h.hasOwnProperty(y)&&k!=null&&y==="onScroll"&&Ue("scroll",c)}switch(o){case"input":vr(c),li(c,m,!0);break;case"textarea":vr(c),ca(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=H)}c=f,n.updateQueue=c,c!==null&&(n.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zi(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=y.createElement(o,{is:c.is}):(e=y.createElement(o),o==="select"&&(y=e,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):e=y.createElementNS(e,o),e[dn]=n,e[Wr]=c,nd(e,n,!1,!1),n.stateNode=e;e:{switch(y=qn(o,c),o){case"dialog":Ue("cancel",e),Ue("close",e),f=c;break;case"iframe":case"object":case"embed":Ue("load",e),f=c;break;case"video":case"audio":for(f=0;f<Ur.length;f++)Ue(Ur[f],e);f=c;break;case"source":Ue("error",e),f=c;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),f=c;break;case"details":Ue("toggle",e),f=c;break;case"input":Gs(e,c),f=Ks(e,c),Ue("invalid",e);break;case"option":f=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},f=W({},c,{value:void 0}),Ue("invalid",e);break;case"textarea":Qs(e,c),f=Hi(e,c),Ue("invalid",e);break;default:f=c}eo(o,f),k=f;for(m in k)if(k.hasOwnProperty(m)){var T=k[m];m==="style"?qi(e,T):m==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&ha(e,T)):m==="children"?typeof T=="string"?(o!=="textarea"||T!=="")&&Sr(e,T):typeof T=="number"&&Sr(e,""+T):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(h.hasOwnProperty(m)?T!=null&&m==="onScroll"&&Ue("scroll",e):T!=null&&G(e,m,T,y))}switch(o){case"input":vr(e),li(e,c,!1);break;case"textarea":vr(e),ca(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Pe(c.value));break;case"select":e.multiple=!!c.multiple,m=c.value,m!=null?In(e,!!c.multiple,m,!1):c.defaultValue!=null&&In(e,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=H)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Lt(n),null;case 6:if(e&&n.stateNode!=null)id(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(o=Ri(Do.current),Ri(Hn.current),Qa(n)){if(c=n.stateNode,o=n.memoizedProps,c[dn]=n,(m=c.nodeValue!==o)&&(e=Xt,e!==null))switch(e.tag){case 3:z(c.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&z(c.nodeValue,o,(e.mode&1)!==0)}m&&(n.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[dn]=n,n.stateNode=c}return Lt(n),null;case 13:if(Ke(Qe),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&en!==null&&(n.mode&1)!==0&&(n.flags&128)===0)ah(),Ts(),n.flags|=98560,m=!1;else if(m=Qa(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[dn]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),m=!1}else Tn!==null&&(rc(Tn),Tn=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Qe.current&1)!==0?ft===0&&(ft=3):oc())),n.updateQueue!==null&&(n.flags|=4),Lt(n),null);case 4:return Os(),Vu(e,n),e===null&&$r(n.stateNode.containerInfo),Lt(n),null;case 10:return wu(n.type._context),Lt(n),null;case 17:return Ut(n.type)&&qa(),Lt(n),null;case 19:if(Ke(Qe),m=n.memoizedState,m===null)return Lt(n),null;if(c=(n.flags&128)!==0,y=m.rendering,y===null)if(c)Wo(m,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(y=il(e),y!==null){for(n.flags|=128,Wo(m,!1),c=y.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=o,o=n.child;o!==null;)m=o,e=c,m.flags&=14680066,y=m.alternate,y===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,e=y.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return He(Qe,Qe.current&1|2),n.child}e=e.sibling}m.tail!==null&&Je()>Is&&(n.flags|=128,c=!0,Wo(m,!1),n.lanes=4194304)}else{if(!c)if(e=il(y),e!==null){if(n.flags|=128,c=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Wo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ge)return Lt(n),null}else 2*Je()-m.renderingStartTime>Is&&o!==1073741824&&(n.flags|=128,c=!0,Wo(m,!1),n.lanes=4194304);m.isBackwards?(y.sibling=n.child,n.child=y):(o=m.last,o!==null?o.sibling=y:n.child=y,m.last=y)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Je(),n.sibling=null,o=Qe.current,He(Qe,c?o&1|2:o&1),n):(Lt(n),null);case 22:case 23:return sc(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(tn&1073741824)!==0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Yf(e,n){switch(pu(n),n.tag){case 1:return Ut(n.type)&&qa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Os(),Ke(Bt),Ke(Pt),Pu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Eu(n),null;case 13:if(Ke(Qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ke(Qe),null;case 4:return Os(),null;case 10:return wu(n.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var fl=!1,Ot=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,ne=null;function As(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){nt(e,n,c)}else o.current=null}function qu(e,n,o){try{o()}catch(c){nt(e,n,c)}}var sd=!1;function Xf(e,n){if(X=yi,e=To(),Po(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var y=0,k=-1,T=-1,D=0,V=0,K=e,Z=null;t:for(;;){for(var ee;K!==o||f!==0&&K.nodeType!==3||(k=y+f),K!==m||c!==0&&K.nodeType!==3||(T=y+c),K.nodeType===3&&(y+=K.nodeValue.length),(ee=K.firstChild)!==null;)Z=K,K=ee;for(;;){if(K===e)break t;if(Z===o&&++D===f&&(k=y),Z===m&&++V===c&&(T=y),(ee=K.nextSibling)!==null)break;K=Z,Z=K.parentNode}K=ee}o=k===-1||T===-1?null:{start:k,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(pe={focusedElem:e,selectionRange:o},yi=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var re=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,st=re.memoizedState,N=n.stateNode,O=N.getSnapshotBeforeUpdate(n.elementType===n.type?se:Pn(n.type,se),st);N.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(J){nt(n,n.return,J)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return re=sd,sd=!1,re}function Ho(e,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&e)===e){var m=f.destroy;f.destroy=void 0,m!==void 0&&qu(n,o,m)}f=f.next}while(f!==c)}}function pl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function Ku(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function od(e){var n=e.alternate;n!==null&&(e.alternate=null,od(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[dn],delete n[Wr],delete n[Hr],delete n[uu],delete n[cu])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gu(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=H));else if(c!==4&&(e=e.child,e!==null))for(Gu(e,n,o),e=e.sibling;e!==null;)Gu(e,n,o),e=e.sibling}function Ju(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Ju(e,n,o),e=e.sibling;e!==null;)Ju(e,n,o),e=e.sibling}var yt=null,Cn=!1;function Jr(e,n,o){for(o=o.child;o!==null;)ud(e,n,o),o=o.sibling}function ud(e,n,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 5:Ot||As(o,n);case 6:var c=yt,f=Cn;yt=null,Jr(e,n,o),yt=c,Cn=f,yt!==null&&(Cn?(e=yt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):yt.removeChild(o.stateNode));break;case 18:yt!==null&&(Cn?(e=yt,o=o.stateNode,e.nodeType===8?Io(e.parentNode,o):e.nodeType===1&&Io(e,o),Kt(e)):Io(yt,o.stateNode));break;case 4:c=yt,f=Cn,yt=o.stateNode.containerInfo,Cn=!0,Jr(e,n,o),yt=c,Cn=f;break;case 0:case 11:case 14:case 15:if(!Ot&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,y=m.destroy;m=m.tag,y!==void 0&&((m&2)!==0||(m&4)!==0)&&qu(o,n,y),f=f.next}while(f!==c)}Jr(e,n,o);break;case 1:if(!Ot&&(As(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(k){nt(o,n,k)}Jr(e,n,o);break;case 21:Jr(e,n,o);break;case 22:o.mode&1?(Ot=(c=Ot)||o.memoizedState!==null,Jr(e,n,o),Ot=c):Jr(e,n,o);break;default:Jr(e,n,o)}}function cd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Qf),n.forEach(function(c){var f=lp.bind(null,e,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Ln(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=e,y=n,k=y;e:for(;k!==null;){switch(k.tag){case 5:yt=k.stateNode,Cn=!1;break e;case 3:yt=k.stateNode.containerInfo,Cn=!0;break e;case 4:yt=k.stateNode.containerInfo,Cn=!0;break e}k=k.return}if(yt===null)throw Error(s(160));ud(m,y,f),yt=null,Cn=!1;var T=f.alternate;T!==null&&(T.return=null),f.return=null}catch(D){nt(f,n,D)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)hd(n,e),n=n.sibling}function hd(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(n,e),Vn(e),c&4){try{Ho(3,e,e.return),pl(3,e)}catch(se){nt(e,e.return,se)}try{Ho(5,e,e.return)}catch(se){nt(e,e.return,se)}}break;case 1:Ln(n,e),Vn(e),c&512&&o!==null&&As(o,o.return);break;case 5:if(Ln(n,e),Vn(e),c&512&&o!==null&&As(o,o.return),e.flags&32){var f=e.stateNode;try{Sr(f,"")}catch(se){nt(e,e.return,se)}}if(c&4&&(f=e.stateNode,f!=null)){var m=e.memoizedProps,y=o!==null?o.memoizedProps:m,k=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&Js(f,m),qn(k,y);var D=qn(k,m);for(y=0;y<T.length;y+=2){var V=T[y],K=T[y+1];V==="style"?qi(f,K):V==="dangerouslySetInnerHTML"?ha(f,K):V==="children"?Sr(f,K):G(f,V,K,D)}switch(k){case"input":ai(f,m);break;case"textarea":ua(f,m);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ee=m.value;ee!=null?In(f,!!m.multiple,ee,!1):Z!==!!m.multiple&&(m.defaultValue!=null?In(f,!!m.multiple,m.defaultValue,!0):In(f,!!m.multiple,m.multiple?[]:"",!1))}f[Wr]=m}catch(se){nt(e,e.return,se)}}break;case 6:if(Ln(n,e),Vn(e),c&4){if(e.stateNode===null)throw Error(s(162));f=e.stateNode,m=e.memoizedProps;try{f.nodeValue=m}catch(se){nt(e,e.return,se)}}break;case 3:if(Ln(n,e),Vn(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Kt(n.containerInfo)}catch(se){nt(e,e.return,se)}break;case 4:Ln(n,e),Vn(e);break;case 13:Ln(n,e),Vn(e),f=e.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Xu=Je())),c&4&&cd(e);break;case 22:if(V=o!==null&&o.memoizedState!==null,e.mode&1?(Ot=(D=Ot)||V,Ln(n,e),Ot=D):Ln(n,e),Vn(e),c&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!V&&(e.mode&1)!==0)for(ne=e,V=e.child;V!==null;){for(K=ne=V;ne!==null;){switch(Z=ne,ee=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ho(4,Z,Z.return);break;case 1:As(Z,Z.return);var re=Z.stateNode;if(typeof re.componentWillUnmount=="function"){c=Z,o=Z.return;try{n=c,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(se){nt(c,o,se)}}break;case 5:As(Z,Z.return);break;case 22:if(Z.memoizedState!==null){pd(K);continue}}ee!==null?(ee.return=Z,ne=ee):pd(K)}V=V.sibling}e:for(V=null,K=e;;){if(K.tag===5){if(V===null){V=K;try{f=K.stateNode,D?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=K.stateNode,T=K.memoizedProps.style,y=T!=null&&T.hasOwnProperty("display")?T.display:null,k.style.display=Xs("display",y))}catch(se){nt(e,e.return,se)}}}else if(K.tag===6){if(V===null)try{K.stateNode.nodeValue=D?"":K.memoizedProps}catch(se){nt(e,e.return,se)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;V===K&&(V=null),K=K.return}V===K&&(V=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Ln(n,e),Vn(e),c&4&&cd(e);break;case 21:break;default:Ln(n,e),Vn(e)}}function Vn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(ad(o)){var c=o;break e}o=o.return}throw Error(s(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Sr(f,""),c.flags&=-33);var m=ld(e);Ju(e,m,f);break;case 3:case 4:var y=c.stateNode.containerInfo,k=ld(e);Gu(e,k,y);break;default:throw Error(s(161))}}catch(T){nt(e,e.return,T)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ep(e,n,o){ne=e,dd(e)}function dd(e,n,o){for(var c=(e.mode&1)!==0;ne!==null;){var f=ne,m=f.child;if(f.tag===22&&c){var y=f.memoizedState!==null||fl;if(!y){var k=f.alternate,T=k!==null&&k.memoizedState!==null||Ot;k=fl;var D=Ot;if(fl=y,(Ot=T)&&!D)for(ne=f;ne!==null;)y=ne,T=y.child,y.tag===22&&y.memoizedState!==null?md(f):T!==null?(T.return=y,ne=T):md(f);for(;m!==null;)ne=m,dd(m),m=m.sibling;ne=f,fl=k,Ot=D}fd(e)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,ne=m):fd(e)}}function fd(e){for(;ne!==null;){var n=ne;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ot||pl(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Ot)if(o===null)c.componentDidMount();else{var f=n.elementType===n.type?o.memoizedProps:Pn(n.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&ph(n,m,c);break;case 3:var y=n.updateQueue;if(y!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}ph(n,y,o)}break;case 5:var k=n.stateNode;if(o===null&&n.flags&4){o=k;var T=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&o.focus();break;case"img":T.src&&(o.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var D=n.alternate;if(D!==null){var V=D.memoizedState;if(V!==null){var K=V.dehydrated;K!==null&&Kt(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ot||n.flags&512&&Ku(n)}catch(Z){nt(n,n.return,Z)}}if(n===e){ne=null;break}if(o=n.sibling,o!==null){o.return=n.return,ne=o;break}ne=n.return}}function pd(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var o=n.sibling;if(o!==null){o.return=n.return,ne=o;break}ne=n.return}}function md(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{pl(4,n)}catch(T){nt(n,o,T)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var f=n.return;try{c.componentDidMount()}catch(T){nt(n,f,T)}}var m=n.return;try{Ku(n)}catch(T){nt(n,m,T)}break;case 5:var y=n.return;try{Ku(n)}catch(T){nt(n,y,T)}}}catch(T){nt(n,n.return,T)}if(n===e){ne=null;break}var k=n.sibling;if(k!==null){k.return=n.return,ne=k;break}ne=n.return}}var tp=Math.ceil,ml=ie.ReactCurrentDispatcher,Yu=ie.ReactCurrentOwner,_n=ie.ReactCurrentBatchConfig,Ie=0,gt=null,at=null,wt=0,tn=0,Ns=Zr(0),ft=0,Zo=null,Ni=0,gl=0,Qu=0,Vo=null,Ft=null,Xu=0,Is=1/0,mr=null,_l=!1,ec=null,Yr=null,vl=!1,Qr=null,yl=0,qo=0,tc=null,wl=-1,xl=0;function Mt(){return(Ie&6)!==0?Je():wl!==-1?wl:wl=Je()}function Xr(e){return(e.mode&1)===0?1:(Ie&2)!==0&&wt!==0?wt&-wt:Df.transition!==null?(xl===0&&(xl=ba()),xl):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Le(e.type)),e)}function On(e,n,o,c){if(50<qo)throw qo=0,tc=null,Error(s(185));Vt(e,o,c),((Ie&2)===0||e!==gt)&&(e===gt&&((Ie&2)===0&&(gl|=o),ft===4&&ei(e,wt)),Wt(e,c),o===1&&Ie===0&&(n.mode&1)===0&&(Is=Je()+500,Ga&&qr()))}function Wt(e,n){var o=e.callbackNode;es(e,n);var c=We(e,e===gt?wt:0);if(c===0)o!==null&&ao(o),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(o!=null&&ao(o),n===1)e.tag===0?zf(_d.bind(null,e)):nh(_d.bind(null,e)),Tt(function(){(Ie&6)===0&&qr()}),o=null;else{switch(Cr(c)){case 1:o=lo;break;case 4:o=ka;break;case 16:o=Qi;break;case 536870912:o=br;break;default:o=Qi}o=Ed(o,gd.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function gd(e,n){if(wl=-1,xl=0,(Ie&6)!==0)throw Error(s(327));var o=e.callbackNode;if(js()&&e.callbackNode!==o)return null;var c=We(e,e===gt?wt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=Sl(e,c);else{n=c;var f=Ie;Ie|=2;var m=yd();(gt!==e||wt!==n)&&(mr=null,Is=Je()+500,ji(e,n));do try{ip();break}catch(k){vd(e,k)}while(!0);yu(),ml.current=m,Ie=f,at!==null?n=0:(gt=null,wt=0,n=ft)}if(n!==0){if(n===2&&(f=bt(e),f!==0&&(c=f,n=nc(e,f))),n===1)throw o=Zo,ji(e,0),ei(e,c),Wt(e,Je()),o;if(n===6)ei(e,c);else{if(f=e.current.alternate,(c&30)===0&&!np(f)&&(n=Sl(e,c),n===2&&(m=bt(e),m!==0&&(c=m,n=nc(e,m))),n===1))throw o=Zo,ji(e,0),ei(e,c),Wt(e,Je()),o;switch(e.finishedWork=f,e.finishedLanes=c,n){case 0:case 1:throw Error(s(345));case 2:Mi(e,Ft,mr);break;case 3:if(ei(e,c),(c&130023424)===c&&(n=Xu+500-Je(),10<n)){if(We(e,0)!==0)break;if(f=e.suspendedLanes,(f&c)!==c){Mt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=ht(Mi.bind(null,e,Ft,mr),n);break}Mi(e,Ft,mr);break;case 4:if(ei(e,c),(c&4194240)===c)break;for(n=e.eventTimes,f=-1;0<c;){var y=31-Ee(c);m=1<<y,y=n[y],y>f&&(f=y),c&=~m}if(c=f,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*tp(c/1960))-c,10<c){e.timeoutHandle=ht(Mi.bind(null,e,Ft,mr),c);break}Mi(e,Ft,mr);break;case 5:Mi(e,Ft,mr);break;default:throw Error(s(329))}}}return Wt(e,Je()),e.callbackNode===o?gd.bind(null,e):null}function nc(e,n){var o=Vo;return e.current.memoizedState.isDehydrated&&(ji(e,n).flags|=256),e=Sl(e,n),e!==2&&(n=Ft,Ft=o,n!==null&&rc(n)),e}function rc(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function np(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!Yt(m(),f))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ei(e,n){for(n&=~Qu,n&=~gl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Ee(n),c=1<<o;e[o]=-1,n&=~c}}function _d(e){if((Ie&6)!==0)throw Error(s(327));js();var n=We(e,0);if((n&1)===0)return Wt(e,Je()),null;var o=Sl(e,n);if(e.tag!==0&&o===2){var c=bt(e);c!==0&&(n=c,o=nc(e,c))}if(o===1)throw o=Zo,ji(e,0),ei(e,n),Wt(e,Je()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Mi(e,Ft,mr),Wt(e,Je()),null}function ic(e,n){var o=Ie;Ie|=1;try{return e(n)}finally{Ie=o,Ie===0&&(Is=Je()+500,Ga&&qr())}}function Ii(e){Qr!==null&&Qr.tag===0&&(Ie&6)===0&&js();var n=Ie;Ie|=1;var o=_n.transition,c=Ae;try{if(_n.transition=null,Ae=1,e)return e()}finally{Ae=c,_n.transition=o,Ie=n,(Ie&6)===0&&qr()}}function sc(){tn=Ns.current,Ke(Ns)}function ji(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,ot(o)),at!==null)for(o=at.return;o!==null;){var c=o;switch(pu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&qa();break;case 3:Os(),Ke(Bt),Ke(Pt),Pu();break;case 5:Eu(c);break;case 4:Os();break;case 13:Ke(Qe);break;case 19:Ke(Qe);break;case 10:wu(c.type._context);break;case 22:case 23:sc()}o=o.return}if(gt=e,at=e=ti(e.current,null),wt=tn=n,ft=0,Zo=null,Qu=gl=Ni=0,Ft=Vo=null,Oi!==null){for(n=0;n<Oi.length;n++)if(o=Oi[n],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var y=m.next;m.next=f,c.next=y}o.pending=c}Oi=null}return e}function vd(e,n){do{var o=at;try{if(yu(),sl.current=ul,ol){for(var c=Xe.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}ol=!1}if(Ai=0,mt=dt=Xe=null,Bo=!1,Uo=0,Yu.current=null,o===null||o.return===null){ft=1,Zo=n,at=null;break}e:{var m=e,y=o.return,k=o,T=n;if(n=wt,k.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var D=T,V=k,K=V.tag;if((V.mode&1)===0&&(K===0||K===11||K===15)){var Z=V.alternate;Z?(V.updateQueue=Z.updateQueue,V.memoizedState=Z.memoizedState,V.lanes=Z.lanes):(V.updateQueue=null,V.memoizedState=null)}var ee=Wh(y);if(ee!==null){ee.flags&=-257,Hh(ee,y,k,m,n),ee.mode&1&&Fh(m,D,n),n=ee,T=D;var re=n.updateQueue;if(re===null){var se=new Set;se.add(T),n.updateQueue=se}else re.add(T);break e}else{if((n&1)===0){Fh(m,D,n),oc();break e}T=Error(s(426))}}else if(Ge&&k.mode&1){var st=Wh(y);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Hh(st,y,k,m,n),_u(Rs(T,k));break e}}m=T=Rs(T,k),ft!==4&&(ft=2),Vo===null?Vo=[m]:Vo.push(m),m=y;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var N=Uh(m,T,n);fh(m,N);break e;case 1:k=T;var O=m.type,M=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Yr===null||!Yr.has(M)))){m.flags|=65536,n&=-n,m.lanes|=n;var J=$h(m,k,n);fh(m,J);break e}}m=m.return}while(m!==null)}xd(o)}catch(le){n=le,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function yd(){var e=ml.current;return ml.current=ul,e===null?ul:e}function oc(){(ft===0||ft===3||ft===2)&&(ft=4),gt===null||(Ni&268435455)===0&&(gl&268435455)===0||ei(gt,wt)}function Sl(e,n){var o=Ie;Ie|=2;var c=yd();(gt!==e||wt!==n)&&(mr=null,ji(e,n));do try{rp();break}catch(f){vd(e,f)}while(!0);if(yu(),Ie=o,ml.current=c,at!==null)throw Error(s(261));return gt=null,wt=0,ft}function rp(){for(;at!==null;)wd(at)}function ip(){for(;at!==null&&!ql();)wd(at)}function wd(e){var n=bd(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?xd(e):at=n,Yu.current=null}function xd(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Jf(o,n,tn),o!==null){at=o;return}}else{if(o=Yf(o,n),o!==null){o.flags&=32767,at=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,at=null;return}}if(n=n.sibling,n!==null){at=n;return}at=n=e}while(n!==null);ft===0&&(ft=5)}function Mi(e,n,o){var c=Ae,f=_n.transition;try{_n.transition=null,Ae=1,sp(e,n,o,c)}finally{_n.transition=f,Ae=c}return null}function sp(e,n,o,c){do js();while(Qr!==null);if((Ie&6)!==0)throw Error(s(327));o=e.finishedWork;var f=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var m=o.lanes|o.childLanes;if(tt(e,m),e===gt&&(at=gt=null,wt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||vl||(vl=!0,Ed(Qi,function(){return js(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=_n.transition,_n.transition=null;var y=Ae;Ae=1;var k=Ie;Ie|=4,Yu.current=null,Xf(e,o),hd(o,e),cn(pe),yi=!!X,pe=X=null,e.current=o,ep(o),Yi(),Ie=k,Ae=y,_n.transition=m}else e.current=o;if(vl&&(vl=!1,Qr=e,yl=f),m=e.pendingLanes,m===0&&(Yr=null),pi(o.stateNode),Wt(e,Je()),n!==null)for(c=e.onRecoverableError,o=0;o<n.length;o++)f=n[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(_l)throw _l=!1,e=ec,ec=null,e;return(yl&1)!==0&&e.tag!==0&&js(),m=e.pendingLanes,(m&1)!==0?e===tc?qo++:(qo=0,tc=e):qo=0,qr(),null}function js(){if(Qr!==null){var e=Cr(yl),n=_n.transition,o=Ae;try{if(_n.transition=null,Ae=16>e?16:e,Qr===null)var c=!1;else{if(e=Qr,Qr=null,yl=0,(Ie&6)!==0)throw Error(s(331));var f=Ie;for(Ie|=4,ne=e.current;ne!==null;){var m=ne,y=m.child;if((ne.flags&16)!==0){var k=m.deletions;if(k!==null){for(var T=0;T<k.length;T++){var D=k[T];for(ne=D;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:Ho(8,V,m)}var K=V.child;if(K!==null)K.return=V,ne=K;else for(;ne!==null;){V=ne;var Z=V.sibling,ee=V.return;if(od(V),V===D){ne=null;break}if(Z!==null){Z.return=ee,ne=Z;break}ne=ee}}}var re=m.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var st=se.sibling;se.sibling=null,se=st}while(se!==null)}}ne=m}}if((m.subtreeFlags&2064)!==0&&y!==null)y.return=m,ne=y;else e:for(;ne!==null;){if(m=ne,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ho(9,m,m.return)}var N=m.sibling;if(N!==null){N.return=m.return,ne=N;break e}ne=m.return}}var O=e.current;for(ne=O;ne!==null;){y=ne;var M=y.child;if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,ne=M;else e:for(y=O;ne!==null;){if(k=ne,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:pl(9,k)}}catch(le){nt(k,k.return,le)}if(k===y){ne=null;break e}var J=k.sibling;if(J!==null){J.return=k.return,ne=J;break e}ne=k.return}}if(Ie=f,qr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(fi,e)}catch{}c=!0}return c}finally{Ae=o,_n.transition=n}}return!1}function Sd(e,n,o){n=Rs(o,n),n=Uh(e,n,1),e=Gr(e,n,1),n=Mt(),e!==null&&(Vt(e,1,n),Wt(e,n))}function nt(e,n,o){if(e.tag===3)Sd(e,e,o);else for(;n!==null;){if(n.tag===3){Sd(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){e=Rs(o,e),e=$h(n,e,1),n=Gr(n,e,1),e=Mt(),n!==null&&(Vt(n,1,e),Wt(n,e));break}}n=n.return}}function op(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),n=Mt(),e.pingedLanes|=e.suspendedLanes&o,gt===e&&(wt&o)===o&&(ft===4||ft===3&&(wt&130023424)===wt&&500>Je()-Xu?ji(e,0):Qu|=o),Wt(e,n)}function kd(e,n){n===0&&((e.mode&1)===0?n=1:(n=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var o=Mt();e=dr(e,n),e!==null&&(Vt(e,n,o),Wt(e,o))}function ap(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),kd(e,o)}function lp(e,n){var o=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(n),kd(e,o)}var bd;bd=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)$t=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return $t=!1,Gf(e,n,o);$t=(e.flags&131072)!==0}else $t=!1,Ge&&(n.flags&1048576)!==0&&rh(n,Ya,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;dl(e,n),e=n.pendingProps;var f=ks(n,Pt.current);Ls(n,o),f=Ou(null,n,c,e,f,o);var m=Ru();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ut(c)?(m=!0,Ka(n)):m=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ku(n),f.updater=cl,n.stateNode=f,f._reactInternals=n,zu(n,c,e,o),n=$u(null,n,c,!0,m,o)):(n.tag=0,Ge&&m&&fu(n),jt(null,n,f,o),n=n.child),n;case 16:c=n.elementType;e:{switch(dl(e,n),e=n.pendingProps,f=c._init,c=f(c._payload),n.type=c,f=n.tag=cp(c),e=Pn(c,e),f){case 0:n=Uu(null,n,c,e,o);break e;case 1:n=Jh(null,n,c,e,o);break e;case 11:n=Zh(null,n,c,e,o);break e;case 14:n=Vh(null,n,c,Pn(c.type,e),o);break e}throw Error(s(306,c,""))}return n;case 0:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Pn(c,f),Uu(e,n,c,f,o);case 1:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Pn(c,f),Jh(e,n,c,f,o);case 3:e:{if(Yh(n),e===null)throw Error(s(387));c=n.pendingProps,m=n.memoizedState,f=m.element,dh(e,n),rl(n,c,null,o);var y=n.memoizedState;if(c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){f=Rs(Error(s(423)),n),n=Qh(e,n,c,o,f);break e}else if(c!==f){f=Rs(Error(s(424)),n),n=Qh(e,n,c,o,f);break e}else for(en=Wn(n.stateNode.containerInfo.firstChild),Xt=n,Ge=!0,Tn=null,o=ch(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ts(),c===f){n=pr(e,n,o);break e}jt(e,n,c,o)}n=n.child}return n;case 5:return mh(n),e===null&&gu(n),c=n.type,f=n.pendingProps,m=e!==null?e.memoizedProps:null,y=f.children,Te(c,f)?y=null:m!==null&&Te(c,m)&&(n.flags|=32),Gh(e,n),jt(e,n,y,o),n.child;case 6:return e===null&&gu(n),null;case 13:return Xh(e,n,o);case 4:return bu(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Ps(n,null,c,o):jt(e,n,c,o),n.child;case 11:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Pn(c,f),Zh(e,n,c,f,o);case 7:return jt(e,n,n.pendingProps,o),n.child;case 8:return jt(e,n,n.pendingProps.children,o),n.child;case 12:return jt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,f=n.pendingProps,m=n.memoizedProps,y=f.value,He(el,c._currentValue),c._currentValue=y,m!==null)if(Yt(m.value,y)){if(m.children===f.children&&!Bt.current){n=pr(e,n,o);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var k=m.dependencies;if(k!==null){y=m.child;for(var T=k.firstContext;T!==null;){if(T.context===c){if(m.tag===1){T=fr(-1,o&-o),T.tag=2;var D=m.updateQueue;if(D!==null){D=D.shared;var V=D.pending;V===null?T.next=T:(T.next=V.next,V.next=T),D.pending=T}}m.lanes|=o,T=m.alternate,T!==null&&(T.lanes|=o),xu(m.return,o,n),k.lanes|=o;break}T=T.next}}else if(m.tag===10)y=m.type===n.type?null:m.child;else if(m.tag===18){if(y=m.return,y===null)throw Error(s(341));y.lanes|=o,k=y.alternate,k!==null&&(k.lanes|=o),xu(y,o,n),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===n){y=null;break}if(m=y.sibling,m!==null){m.return=y.return,y=m;break}y=y.return}m=y}jt(e,n,f.children,o),n=n.child}return n;case 9:return f=n.type,c=n.pendingProps.children,Ls(n,o),f=mn(f),c=c(f),n.flags|=1,jt(e,n,c,o),n.child;case 14:return c=n.type,f=Pn(c,n.pendingProps),f=Pn(c.type,f),Vh(e,n,c,f,o);case 15:return qh(e,n,n.type,n.pendingProps,o);case 17:return c=n.type,f=n.pendingProps,f=n.elementType===c?f:Pn(c,f),dl(e,n),n.tag=1,Ut(c)?(e=!0,Ka(n)):e=!1,Ls(n,o),Dh(n,c,f),zu(n,c,f,o),$u(null,n,c,!0,e,o);case 19:return td(e,n,o);case 22:return Kh(e,n,o)}throw Error(s(156,n.tag))};function Ed(e,n){return Sa(e,n)}function up(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,o,c){return new up(e,n,o,c)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cp(e){if(typeof e=="function")return ac(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ne)return 11;if(e===on)return 14}return 2}function ti(e,n){var o=e.alternate;return o===null?(o=vn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function kl(e,n,o,c,f,m){var y=2;if(c=e,typeof e=="function")ac(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case be:return zi(o.children,f,m,n);case Fe:y=8,f|=8;break;case Ve:return e=vn(12,o,n,f|2),e.elementType=Ve,e.lanes=m,e;case Rt:return e=vn(13,o,n,f),e.elementType=Rt,e.lanes=m,e;case it:return e=vn(19,o,n,f),e.elementType=it,e.lanes=m,e;case De:return bl(o,f,m,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:y=10;break e;case we:y=9;break e;case Ne:y=11;break e;case on:y=14;break e;case ze:y=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=vn(y,o,n,f),n.elementType=e,n.type=c,n.lanes=m,n}function zi(e,n,o,c){return e=vn(7,e,c,n),e.lanes=o,e}function bl(e,n,o,c){return e=vn(22,e,c,n),e.elementType=De,e.lanes=o,e.stateNode={isHidden:!1},e}function lc(e,n,o){return e=vn(6,e,null,n),e.lanes=o,e}function uc(e,n,o){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function hp(e,n,o,c,f){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function cc(e,n,o,c,f,m,y,k,T){return e=new hp(e,n,o,k,T),n===1?(n=1,m===!0&&(n|=8)):n=0,m=vn(3,null,null,n),e.current=m,m.stateNode=e,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(m),e}function dp(e,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:c==null?null:""+c,children:e,containerInfo:n,implementation:o}}function Td(e){if(!e)return Vr;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ut(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(Ut(o))return eh(e,o,n)}return n}function Pd(e,n,o,c,f,m,y,k,T){return e=cc(o,c,!0,e,f,m,y,k,T),e.context=Td(null),o=e.current,c=Mt(),f=Xr(o),m=fr(c,f),m.callback=n??null,Gr(o,m,f),e.current.lanes=f,Vt(e,f,c),Wt(e,c),e}function El(e,n,o,c){var f=n.current,m=Mt(),y=Xr(f);return o=Td(o),n.context===null?n.context=o:n.pendingContext=o,n=fr(m,y),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Gr(f,n,y),e!==null&&(On(e,f,y,m),nl(e,f,y)),y}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function hc(e,n){Cd(e,n),(e=e.alternate)&&Cd(e,n)}function fp(){return null}var Ld=typeof reportError=="function"?reportError:function(e){console.error(e)};function dc(e){this._internalRoot=e}Pl.prototype.render=dc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));El(e,n,null,null)},Pl.prototype.unmount=dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ii(function(){El(null,e,null,null)}),n[Me]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var n=rs();e={blockedOn:null,target:e,priority:n};for(var o=0;o<ct.length&&n!==0&&n<ct[o].priority;o++);ct.splice(o,0,e),o===0&&is(e)}};function fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Od(){}function pp(e,n,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var D=Tl(y);m.call(D)}}var y=Pd(n,c,e,0,null,!1,!1,"",Od);return e._reactRootContainer=y,e[Me]=y.current,$r(e.nodeType===8?e.parentNode:e),Ii(),y}for(;f=e.lastChild;)e.removeChild(f);if(typeof c=="function"){var k=c;c=function(){var D=Tl(T);k.call(D)}}var T=cc(e,0,!1,null,null,!1,!1,"",Od);return e._reactRootContainer=T,e[Me]=T.current,$r(e.nodeType===8?e.parentNode:e),Ii(function(){El(n,T,o,c)}),T}function Ll(e,n,o,c,f){var m=o._reactRootContainer;if(m){var y=m;if(typeof f=="function"){var k=f;f=function(){var T=Tl(y);k.call(T)}}El(n,y,e,f)}else y=pp(o,n,e,f,c);return Tl(y)}ts=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=ke(n.pendingLanes);o!==0&&(xn(n,o|1),Wt(n,Je()),(Ie&6)===0&&(Is=Je()+500,qr()))}break;case 13:Ii(function(){var c=dr(e,1);if(c!==null){var f=Mt();On(c,e,1,f)}}),hc(e,1)}},Yn=function(e){if(e.tag===13){var n=dr(e,134217728);if(n!==null){var o=Mt();On(n,e,134217728,o)}hc(e,134217728)}},ns=function(e){if(e.tag===13){var n=Xr(e),o=dr(e,n);if(o!==null){var c=Mt();On(o,e,n,c)}hc(e,n)}},rs=function(){return Ae},mi=function(e,n){var o=Ae;try{return Ae=e,n()}finally{Ae=o}},Ki=function(e,n,o){switch(n){case"input":if(ai(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var f=xs(c);if(!f)throw Error(s(90));yr(c),ai(c,f)}}}break;case"textarea":ua(e,o);break;case"select":n=o.value,n!=null&&In(e,!!o.multiple,n,!1)}},ga=ic,_a=Ii;var mp={usingClientEntryPoint:!1,Events:[ar,lr,xs,pa,ma,ic]},Ko={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gp={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wa(e),e===null?null:e.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||fp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{fi=Ol.inject(gp),Zt=Ol}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mp,Ht.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fc(n))throw Error(s(200));return dp(e,n,null,o)},Ht.createRoot=function(e,n){if(!fc(e))throw Error(s(299));var o=!1,c="",f=Ld;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=cc(e,1,!1,null,null,o,!1,c,f),e[Me]=n.current,$r(e.nodeType===8?e.parentNode:e),new dc(n)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=wa(n),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return Ii(e)},Ht.hydrate=function(e,n,o){if(!Cl(n))throw Error(s(200));return Ll(null,e,n,!0,o)},Ht.hydrateRoot=function(e,n,o){if(!fc(e))throw Error(s(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",y=Ld;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),n=Pd(n,null,e,1,o??null,f,!1,m,y),e[Me]=n.current,$r(e),c)for(e=0;e<c.length;e++)o=c[e],f=o._getVersion,f=f(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,f]:n.mutableSourceEagerHydrationData.push(o,f);return new Pl(n)},Ht.render=function(e,n,o){if(!Cl(n))throw Error(s(200));return Ll(null,e,n,!1,o)},Ht.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(s(40));return e._reactRootContainer?(Ii(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[Me]=null})}),!0):!1},Ht.unstable_batchedUpdates=ic,Ht.unstable_renderSubtreeIntoContainer=function(e,n,o,c){if(!Cl(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ll(e,n,o,!1,c)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var Dd;function ff(){if(Dd)return gc.exports;Dd=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),gc.exports=kp(),gc.exports}var Bd;function bp(){if(Bd)return Rl;Bd=1;var a=ff();return Rl.createRoot=a.createRoot,Rl.hydrateRoot=a.hydrateRoot,Rl}var Ep=bp();const Tp=$c(Ep);var Pp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cp=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lp=(a,r)=>{const s=he.forwardRef(({color:u="currentColor",size:h=24,strokeWidth:p=2,absoluteStrokeWidth:g,children:w,...v},S)=>he.createElement("svg",{ref:S,...Pp,width:h,height:h,stroke:u,strokeWidth:g?Number(p)*24/Number(h):p,className:`lucide lucide-${Cp(a)}`,...v},[...r.map(([P,R])=>he.createElement(P,R)),...(Array.isArray(w)?w:[w])||[]]));return s.displayName=`${a}`,s};var oi=Lp;const Op=oi("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Rp=oi("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Ap=oi("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ri=oi("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Np=oi("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ea=oi("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Cc=oi("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ip=oi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jp=({currentView:a,onNavigate:r})=>b.jsx("nav",{className:"max-w-6xl mx-auto flex justify-between items-center mb-8 pt-4",children:b.jsxs("div",{className:"flex gap-2 text-slate-600 text-sm font-medium flex-wrap",children:[b.jsxs("button",{onClick:()=>r("home"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:text-purple-700 hover:bg-purple-50/80 ${a==="home"?"text-purple-900 font-bold bg-purple-50/60":""}`,children:[b.jsx(Rp,{size:18,className:"transition-transform duration-200 hover:scale-110"}),"Home"]}),b.jsxs("button",{onClick:()=>r("leaderboard"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:text-purple-700 hover:bg-purple-50/80 ${a==="leaderboard"?"text-purple-900 font-bold bg-purple-50/60":""}`,children:[b.jsx(ea,{size:18,className:"transition-transform duration-200 hover:scale-110"}),"Leaderboard"]}),b.jsxs("button",{onClick:()=>r("contribute"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:text-purple-700 hover:bg-purple-50/80 ${a==="contribute"?"text-purple-900 font-bold bg-purple-50/60":""}`,children:[b.jsx(Cc,{size:18,className:"transition-transform duration-200 hover:scale-110"}),"Contribute"]}),b.jsxs("button",{onClick:()=>r("about"),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-200 hover:text-purple-700 hover:bg-purple-50/80 ${a==="about"?"text-purple-900 font-bold bg-purple-50/60":""}`,children:[b.jsx(Ap,{size:18,className:"transition-transform duration-200 hover:scale-110"}),"About"]})]})}),Mp=({onStartGame:a})=>{const[r,s]=he.useState(!1),u=5,h=u*5e3,p=()=>{s(!1),a("daily")};return he.useEffect(()=>{const g=w=>{w.key==="Escape"&&s(!1)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),b.jsxs("div",{className:"min-h-screen p-4 relative overflow-hidden",children:[b.jsx("div",{className:"absolute -inset-4 pointer-events-none",style:{backgroundImage:`
            linear-gradient(rgba(147, 51, 234, 0.08) 1px, transparent 1px),
            linear-gradient(90deg, rgba(147, 51, 234, 0.08) 1px, transparent 1px)
          `,backgroundSize:"32px 32px",backgroundRepeat:"repeat"},"aria-hidden":"true"}),b.jsx("div",{className:"absolute -inset-4 pointer-events-none",style:{background:`
            radial-gradient(ellipse 70% 50% at 30% 30%, rgba(147, 51, 234, 0.05) 0%, transparent 50%),
            radial-gradient(ellipse 60% 50% at 70% 70%, rgba(236, 72, 153, 0.04) 0%, transparent 50%)
          `},"aria-hidden":"true"}),b.jsx(ri,{className:"absolute left-[4%] top-[7%] w-6 h-6 text-purple-400/45 pointer-events-none","aria-hidden":"true"}),b.jsx(ri,{className:"absolute right-[5%] top-[10%] w-7 h-7 text-purple-500/40 pointer-events-none","aria-hidden":"true"}),b.jsx(ri,{className:"absolute left-[5%] bottom-[12%] w-5 h-5 text-pink-400/40 pointer-events-none","aria-hidden":"true"}),b.jsx(ri,{className:"absolute right-[4%] bottom-[15%] w-6 h-6 text-purple-400/45 pointer-events-none","aria-hidden":"true"}),b.jsx(ri,{className:"absolute left-[2%] top-[48%] -translate-y-1/2 w-5 h-5 text-purple-400/35 pointer-events-none","aria-hidden":"true"}),b.jsx(ri,{className:"absolute right-[2%] top-[52%] -translate-y-1/2 w-5 h-5 text-pink-400/35 pointer-events-none","aria-hidden":"true"}),b.jsxs("div",{className:"max-w-2xl mx-auto text-center mt-20 relative z-10",children:[b.jsxs("h1",{className:"text-6xl font-extrabold mb-10 tracking-tight",children:[b.jsx("span",{className:"text-purple-900",children:"Uwo"}),b.jsx("span",{className:"text-slate-800",children:"Guessr"})]}),b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("button",{onClick:()=>a("daily"),className:"w-full max-w-sm bg-purple-900 text-white px-12 py-4 rounded-2xl font-bold hover:bg-purple-800 transition-all duration-200 text-lg shadow-lg shadow-purple-900/20 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.02] active:scale-[0.98]",children:"Daily Challenge"}),b.jsx("button",{onClick:()=>a("classic"),className:"w-full max-w-[280px] bg-transparent text-slate-600 border-2 border-purple-900/70 px-8 py-2.5 rounded-2xl font-semibold hover:border-purple-900 hover:text-slate-800 hover:bg-purple-50/20 transition-all duration-200 text-base",children:"Play Classic"}),b.jsx("button",{onClick:()=>s(!0),className:"text-slate-500 hover:text-purple-700 font-medium text-sm transition-all duration-200 underline underline-offset-2 decoration-slate-400/60 hover:decoration-purple-500",children:"How to Play"})]}),b.jsxs("div",{className:"mt-20 grid grid-cols-3 gap-4 text-center",children:[b.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:scale-[1.03] hover:shadow-xl hover:shadow-purple-900/10 hover:border-purple-200/60 cursor-default",children:[b.jsx(Np,{className:"mx-auto mb-2 text-purple-900 transition-transform duration-300 hover:scale-110",size:32}),b.jsx("p",{className:"font-bold text-2xl text-purple-900",children:u}),b.jsx("p",{className:"text-slate-600 text-sm",children:"Rounds"})]}),b.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:scale-[1.03] hover:shadow-xl hover:shadow-purple-900/10 hover:border-purple-200/60 cursor-default",children:[b.jsx(ea,{className:"mx-auto mb-2 text-purple-900 transition-transform duration-300 hover:scale-110",size:32}),b.jsx("p",{className:"font-bold text-2xl text-purple-900",children:h.toLocaleString()}),b.jsx("p",{className:"text-slate-600 text-sm",children:"Max Points"})]}),b.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:scale-[1.03] hover:shadow-xl hover:shadow-purple-900/10 hover:border-purple-200/60 cursor-default",children:[b.jsx(ri,{className:"mx-auto mb-2 text-purple-900 transition-transform duration-300 hover:scale-110",size:32}),b.jsx("p",{className:"font-bold text-2xl text-purple-900",children:"Daily"}),b.jsx("p",{className:"text-slate-600 text-sm",children:"Challenge"})]})]})]}),r&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>s(!1),children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative border border-slate-100",onClick:g=>g.stopPropagation(),children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"How to Play"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-slate-700 leading-relaxed mb-8",children:[b.jsxs("li",{children:["You will be shown an image from the ",b.jsx("strong",{children:"Western University campus"}),"."]}),b.jsx("li",{children:"Click where you think the photo was taken on the map."}),b.jsxs("li",{children:["Hit ",b.jsx("strong",{children:"Submit Guess"})," to lock it in."]}),b.jsx("li",{children:"Earn points based on accuracy."}),b.jsxs("li",{children:["Play through ",b.jsx("strong",{children:"5 locations"})," and try to set a high score!"]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-slate-100 text-slate-700 hover:bg-slate-200 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200",children:"Close"}),b.jsx("button",{onClick:p,className:"flex-1 py-3 rounded-xl font-semibold bg-purple-900 text-white hover:bg-purple-800 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 shadow-lg shadow-purple-900/20",children:"Play the daily challenge!"})]}),b.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 p-1.5 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 hover:scale-110 transition-all duration-200","aria-label":"Close",children:b.jsx(Ip,{size:20})})]})})]})};function pf(a,r){const s=he.useRef(r);he.useEffect(function(){r!==s.current&&a.attributionControl!=null&&(s.current!=null&&a.attributionControl.removeAttribution(s.current),r!=null&&a.attributionControl.addAttribution(r)),s.current=r},[a,r])}var zp=ff();const Dp=1;function Bp(a){return Object.freeze({__version:Dp,map:a})}function Up(a,r){return Object.freeze({...a,...r})}const mf=he.createContext(null),gf=mf.Provider;function Wc(){const a=he.useContext(mf);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function $p(a){function r(s,u){const{instance:h,context:p}=a(s).current;return he.useImperativeHandle(u,()=>h),s.children==null?null:Ml.createElement(gf,{value:p},s.children)}return he.forwardRef(r)}function Fp(a){function r(s,u){const[h,p]=he.useState(!1),{instance:g}=a(s,p).current;he.useImperativeHandle(u,()=>g),he.useEffect(function(){h&&g.update()},[g,h,s.children]);const w=g._contentNode;return w?zp.createPortal(s.children,w):null}return he.forwardRef(r)}function Wp(a){function r(s,u){const{instance:h}=a(s).current;return he.useImperativeHandle(u,()=>h),null}return he.forwardRef(r)}function _f(a,r){const s=he.useRef();he.useEffect(function(){return r!=null&&a.instance.on(r),s.current=r,function(){s.current!=null&&a.instance.off(s.current),s.current=null}},[a,r])}function Hc(a,r){const s=a.pane??r.pane;return s?{...a,pane:s}:a}function Hp(a,r){return function(u,h){const p=Wc(),g=a(Hc(u,p),p);return pf(p.map,u.attribution),_f(g.current,u.eventHandlers),r(g.current,p,u,h),g}}var Jo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Zp=Jo.exports,Ud;function Vp(){return Ud||(Ud=1,(function(a,r){(function(s,u){u(r)})(Zp,(function(s){var u="1.9.4";function h(t){var i,l,d,_;for(l=1,d=arguments.length;l<d;l++){_=arguments[l];for(i in _)t[i]=_[i]}return t}var p=Object.create||(function(){function t(){}return function(i){return t.prototype=i,new t}})();function g(t,i){var l=Array.prototype.slice;if(t.bind)return t.bind.apply(t,l.call(arguments,1));var d=l.call(arguments,2);return function(){return t.apply(i,d.length?d.concat(l.call(arguments)):arguments)}}var w=0;function v(t){return"_leaflet_id"in t||(t._leaflet_id=++w),t._leaflet_id}function S(t,i,l){var d,_,x,E;return E=function(){d=!1,_&&(x.apply(l,_),_=!1)},x=function(){d?_=arguments:(t.apply(l,arguments),setTimeout(E,i),d=!0)},x}function P(t,i,l){var d=i[1],_=i[0],x=d-_;return t===d&&l?t:((t-_)%x+x)%x+_}function R(){return!1}function I(t,i){if(i===!1)return t;var l=Math.pow(10,i===void 0?6:i);return Math.round(t*l)/l}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return j(t).split(/\s+/)}function B(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?p(t.options):{});for(var l in i)t.options[l]=i[l];return t.options}function q(t,i,l){var d=[];for(var _ in t)d.push(encodeURIComponent(l?_.toUpperCase():_)+"="+encodeURIComponent(t[_]));return(!i||i.indexOf("?")===-1?"?":"&")+d.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function Q(t,i){return t.replace(Y,function(l,d){var _=i[d];if(_===void 0)throw new Error("No value provided for variable "+l);return typeof _=="function"&&(_=_(i)),_})}var G=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ie(t,i){for(var l=0;l<t.length;l++)if(t[l]===i)return l;return-1}var Re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function de(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var be=0;function Fe(t){var i=+new Date,l=Math.max(0,16-(i-be));return be=i+l,window.setTimeout(t,l)}var Ve=window.requestAnimationFrame||de("RequestAnimationFrame")||Fe,ut=window.cancelAnimationFrame||de("CancelAnimationFrame")||de("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function we(t,i,l){if(l&&Ve===Fe)t.call(i);else return Ve.call(window,g(t,i))}function Ne(t){t&&ut.call(window,t)}var Rt={__proto__:null,extend:h,create:p,bind:g,get lastId(){return w},stamp:v,throttle:S,wrapNum:P,falseFn:R,formatNum:I,trim:j,splitWords:U,setOptions:B,getParamString:q,template:Q,isArray:G,indexOf:ie,emptyImageUrl:Re,requestFn:Ve,cancelFn:ut,requestAnimFrame:we,cancelAnimFrame:Ne};function it(){}it.extend=function(t){var i=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=i.__super__=this.prototype,d=p(l);d.constructor=i,i.prototype=d;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(i[_]=this[_]);return t.statics&&h(i,t.statics),t.includes&&(on(t.includes),h.apply(null,[d].concat(t.includes))),h(d,t),delete d.statics,delete d.includes,d.options&&(d.options=l.options?p(l.options):{},h(d.options,t.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,E=d._initHooks.length;x<E;x++)d._initHooks[x].call(this)}},i},it.include=function(t){var i=this.prototype.options;return h(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},it.mergeOptions=function(t){return h(this.prototype.options,t),this},it.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),l=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function on(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=G(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ze={on:function(t,i,l){if(typeof t=="object")for(var d in t)this._on(d,t[d],i);else{t=U(t);for(var _=0,x=t.length;_<x;_++)this._on(t[_],i,l)}return this},off:function(t,i,l){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var d in t)this._off(d,t[d],i);else{t=U(t);for(var _=arguments.length===1,x=0,E=t.length;x<E;x++)_?this._off(t[x]):this._off(t[x],i,l)}return this},_on:function(t,i,l,d){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,l)===!1){l===this&&(l=void 0);var _={fn:i,ctx:l};d&&(_.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(_)}},_off:function(t,i,l){var d,_,x;if(this._events&&(d=this._events[t],!!d)){if(arguments.length===1){if(this._firingCount)for(_=0,x=d.length;_<x;_++)d[_].fn=R;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var E=this._listens(t,i,l);if(E!==!1){var A=d[E];this._firingCount&&(A.fn=R,this._events[t]=d=d.slice()),d.splice(E,1)}}},fire:function(t,i,l){if(!this.listens(t,l))return this;var d=h({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var _=this._events[t];if(_){this._firingCount=this._firingCount+1||1;for(var x=0,E=_.length;x<E;x++){var A=_[x],z=A.fn;A.once&&this.off(t,z,A.ctx),z.call(A.ctx||this,d)}this._firingCount--}}return l&&this._propagateEvent(d),this},listens:function(t,i,l,d){typeof t!="string"&&console.warn('"string" type argument expected');var _=i;typeof i!="function"&&(d=!!i,_=void 0,l=void 0);var x=this._events&&this._events[t];if(x&&x.length&&this._listens(t,_,l)!==!1)return!0;if(d){for(var E in this._eventParents)if(this._eventParents[E].listens(t,i,l,d))return!0}return!1},_listens:function(t,i,l){if(!this._events)return!1;var d=this._events[t]||[];if(!i)return!!d.length;l===this&&(l=void 0);for(var _=0,x=d.length;_<x;_++)if(d[_].fn===i&&d[_].ctx===l)return _;return!1},once:function(t,i,l){if(typeof t=="object")for(var d in t)this._on(d,t[d],i,!0);else{t=U(t);for(var _=0,x=t.length;_<x;_++)this._on(t[_],i,l,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[v(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[v(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,h({layer:t.target,propagatedFrom:t.target},t),!0)}};ze.addEventListener=ze.on,ze.removeEventListener=ze.clearAllEventListeners=ze.off,ze.addOneTimeEventListener=ze.once,ze.fireEvent=ze.fire,ze.hasEventListeners=ze.listens;var De=it.extend(ze);function F(t,i,l){this.x=l?Math.round(t):t,this.y=l?Math.round(i):i}var me=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(t){return this.clone()._add(W(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(W(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new F(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new F(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(t){t=W(t);var i=t.x-this.x,l=t.y-this.y;return Math.sqrt(i*i+l*l)},equals:function(t){return t=W(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=W(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function W(t,i,l){return t instanceof F?t:G(t)?new F(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new F(t.x,t.y):new F(t,i,l)}function C(t,i){if(t)for(var l=i?[t,i]:t,d=0,_=l.length;d<_;d++)this.extend(l[d])}C.prototype={extend:function(t){var i,l;if(!t)return this;if(t instanceof F||typeof t[0]=="number"||"x"in t)i=l=W(t);else if(t=$(t),i=t.min,l=t.max,!i||!l)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=l.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(t){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,l;return typeof t[0]=="number"||t instanceof F?t=W(t):t=$(t),t instanceof C?(i=t.min,l=t.max):i=l=t,i.x>=this.min.x&&l.x<=this.max.x&&i.y>=this.min.y&&l.y<=this.max.y},intersects:function(t){t=$(t);var i=this.min,l=this.max,d=t.min,_=t.max,x=_.x>=i.x&&d.x<=l.x,E=_.y>=i.y&&d.y<=l.y;return x&&E},overlaps:function(t){t=$(t);var i=this.min,l=this.max,d=t.min,_=t.max,x=_.x>i.x&&d.x<l.x,E=_.y>i.y&&d.y<l.y;return x&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,l=this.max,d=Math.abs(i.x-l.x)*t,_=Math.abs(i.y-l.y)*t;return $(W(i.x-d,i.y-_),W(l.x+d,l.y+_))},equals:function(t){return t?(t=$(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function $(t,i){return!t||t instanceof C?t:new C(t,i)}function fe(t,i){if(t)for(var l=i?[t,i]:t,d=0,_=l.length;d<_;d++)this.extend(l[d])}fe.prototype={extend:function(t){var i=this._southWest,l=this._northEast,d,_;if(t instanceof oe)d=t,_=t;else if(t instanceof fe){if(d=t._southWest,_=t._northEast,!d||!_)return this}else return t?this.extend(te(t)||ue(t)):this;return!i&&!l?(this._southWest=new oe(d.lat,d.lng),this._northEast=new oe(_.lat,_.lng)):(i.lat=Math.min(d.lat,i.lat),i.lng=Math.min(d.lng,i.lng),l.lat=Math.max(_.lat,l.lat),l.lng=Math.max(_.lng,l.lng)),this},pad:function(t){var i=this._southWest,l=this._northEast,d=Math.abs(i.lat-l.lat)*t,_=Math.abs(i.lng-l.lng)*t;return new fe(new oe(i.lat-d,i.lng-_),new oe(l.lat+d,l.lng+_))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof oe||"lat"in t?t=te(t):t=ue(t);var i=this._southWest,l=this._northEast,d,_;return t instanceof fe?(d=t.getSouthWest(),_=t.getNorthEast()):d=_=t,d.lat>=i.lat&&_.lat<=l.lat&&d.lng>=i.lng&&_.lng<=l.lng},intersects:function(t){t=ue(t);var i=this._southWest,l=this._northEast,d=t.getSouthWest(),_=t.getNorthEast(),x=_.lat>=i.lat&&d.lat<=l.lat,E=_.lng>=i.lng&&d.lng<=l.lng;return x&&E},overlaps:function(t){t=ue(t);var i=this._southWest,l=this._northEast,d=t.getSouthWest(),_=t.getNorthEast(),x=_.lat>i.lat&&d.lat<l.lat,E=_.lng>i.lng&&d.lng<l.lng;return x&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=ue(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(t,i){return t instanceof fe?t:new fe(t,i)}function oe(t,i,l){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,l!==void 0&&(this.alt=+l)}oe.prototype={equals:function(t,i){if(!t)return!1;t=te(t);var l=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return l<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+I(this.lat,t)+", "+I(this.lng,t)+")"},distanceTo:function(t){return Pe.distance(this,te(t))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,l=i/Math.cos(Math.PI/180*this.lat);return ue([this.lat-i,this.lng-l],[this.lat+i,this.lng+l])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function te(t,i,l){return t instanceof oe?t:G(t)&&typeof t[0]!="object"?t.length===3?new oe(t[0],t[1],t[2]):t.length===2?new oe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new oe(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new oe(t,i,l)}var Oe={latLngToPoint:function(t,i){var l=this.projection.project(t),d=this.scale(i);return this.transformation._transform(l,d)},pointToLatLng:function(t,i){var l=this.scale(i),d=this.transformation.untransform(t,l);return this.projection.unproject(d)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,l=this.scale(t),d=this.transformation.transform(i.min,l),_=this.transformation.transform(i.max,l);return new C(d,_)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?P(t.lng,this.wrapLng,!0):t.lng,l=this.wrapLat?P(t.lat,this.wrapLat,!0):t.lat,d=t.alt;return new oe(l,i,d)},wrapLatLngBounds:function(t){var i=t.getCenter(),l=this.wrapLatLng(i),d=i.lat-l.lat,_=i.lng-l.lng;if(d===0&&_===0)return t;var x=t.getSouthWest(),E=t.getNorthEast(),A=new oe(x.lat-d,x.lng-_),z=new oe(E.lat-d,E.lng-_);return new fe(A,z)}},Pe=h({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var l=Math.PI/180,d=t.lat*l,_=i.lat*l,x=Math.sin((i.lat-t.lat)*l/2),E=Math.sin((i.lng-t.lng)*l/2),A=x*x+Math.cos(d)*Math.cos(_)*E*E,z=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*z}}),$e=6378137,vt={R:$e,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,l=this.MAX_LATITUDE,d=Math.max(Math.min(l,t.lat),-l),_=Math.sin(d*i);return new F(this.R*t.lng*i,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(t){var i=180/Math.PI;return new oe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:(function(){var t=$e*Math.PI;return new C([-t,-t],[t,t])})()};function vr(t,i,l,d){if(G(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=l,this._d=d}vr.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new F((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function yr(t,i,l,d){return new vr(t,i,l,d)}var wr=h({},Pe,{code:"EPSG:3857",projection:vt,transformation:(function(){var t=.5/(Math.PI*vt.R);return yr(t,.5,-t,.5)})()}),Ks=h({},wr,{code:"EPSG:900913"});function Gs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Js(t,i){var l="",d,_,x,E,A,z;for(d=0,x=t.length;d<x;d++){for(A=t[d],_=0,E=A.length;_<E;_++)z=A[_],l+=(_?"L":"M")+z.x+" "+z.y;l+=i?ae.svg?"z":"x":""}return l||"M0 0"}var ai=document.documentElement.style,li="ActiveXObject"in window,Ys=li&&!document.addEventListener,xr="msLaunchUri"in navigator&&!("documentMode"in document),In=kt("webkit"),Hi=kt("android"),Qs=kt("android 2")||kt("android 3"),ua=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ca=Hi&&kt("Google")&&ua<537&&!("AudioNode"in window),Zi=!!window.opera,Vi=!xr&&kt("chrome"),ui=kt("gecko")&&!In&&!Zi&&!li,ha=!Vi&&kt("safari"),Sr=kt("phantom"),kr="OTransition"in ai,Hl=navigator.platform.indexOf("Win")===0,Xs=li&&"transition"in ai,qi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qs,da="MozPerspective"in ai,eo=!window.L_DISABLE_3D&&(Xs||qi||da)&&!kr&&!Sr,qn=typeof orientation<"u"||kt("mobile"),to=qn&&In,no=qn&&qi,Ki=!window.PointerEvent&&window.MSPointerEvent,Kn=!!(window.PointerEvent||Ki),Gn="ontouchstart"in window||!!window.TouchEvent,fa=!window.L_NO_TOUCH&&(Gn||Kn),pa=qn&&Zi,ma=qn&&ui,ga=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_a=(function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",R,i),window.removeEventListener("testPassiveEventSupport",R,i)}catch{}return t})(),ro=(function(){return!!document.createElement("canvas").getContext})(),Gi=!!(document.createElementNS&&Gs("svg").createSVGRect),ci=!!Gi&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),io=!Gi&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}})(),hi=navigator.platform.indexOf("Mac")===0,Zl=navigator.platform.indexOf("Linux")===0;function kt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ae={ie:li,ielt9:Ys,edge:xr,webkit:In,android:Hi,android23:Qs,androidStock:ca,opera:Zi,chrome:Vi,gecko:ui,safari:ha,phantom:Sr,opera12:kr,win:Hl,ie3d:Xs,webkit3d:qi,gecko3d:da,any3d:eo,mobile:qn,mobileWebkit:to,mobileWebkit3d:no,msPointer:Ki,pointer:Kn,touch:fa,touchNative:Gn,mobileOpera:pa,mobileGecko:ma,retina:ga,passiveEvents:_a,canvas:ro,svg:Gi,vml:io,inlineSvg:ci,mac:hi,linux:Zl},di=ae.msPointer?"MSPointerDown":"pointerdown",Ji=ae.msPointer?"MSPointerMove":"pointermove",va=ae.msPointer?"MSPointerUp":"pointerup",ya=ae.msPointer?"MSPointerCancel":"pointercancel",so={touchstart:di,touchmove:Ji,touchend:va,touchcancel:ya},jn={touchstart:Je,touchmove:Yi,touchend:Yi,touchcancel:Yi},Jn={},oo=!1;function Vl(t,i,l){return i==="touchstart"&&ql(),jn[i]?(l=jn[i].bind(this,l),t.addEventListener(so[i],l,!1),l):(console.warn("wrong event specified:",i),R)}function wa(t,i,l){if(!so[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(so[i],l,!1)}function xa(t){Jn[t.pointerId]=t}function Sa(t){Jn[t.pointerId]&&(Jn[t.pointerId]=t)}function ao(t){delete Jn[t.pointerId]}function ql(){oo||(document.addEventListener(di,xa,!0),document.addEventListener(Ji,Sa,!0),document.addEventListener(va,ao,!0),document.addEventListener(ya,ao,!0),oo=!0)}function Yi(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var l in Jn)i.touches.push(Jn[l]);i.changedTouches=[i],t(i)}}function Je(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&Ye(i),Yi(t,i)}function Kl(t){var i={},l,d;for(d in t)l=t[d],i[d]=l&&l.bind?l.bind(t):l;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var lo=200;function ka(t,i){t.addEventListener("dblclick",i);var l=0,d;function _(x){if(x.detail!==1){d=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var E=Xn(x);if(!(E.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!E.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var A=Date.now();A-l<=lo?(d++,d===2&&i(Kl(x))):d=1,l=A}}}return t.addEventListener("click",_),{dblclick:i,simDblclick:_}}function Qi(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var uo=Pr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=Pr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fi=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function Zt(t){return typeof t=="string"?document.getElementById(t):t}function pi(t,i){var l=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!l||l==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(t,null);l=d?d[i]:null}return l==="auto"?null:l}function Ee(t,i,l){var d=document.createElement(t);return d.className=i||"",l&&l.appendChild(d),d}function qe(t){var i=t.parentNode;i&&i.removeChild(t)}function Xi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Er(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function wn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Tr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var l=es(t);return l.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(l)}function ke(t,i){if(t.classList!==void 0)for(var l=U(i),d=0,_=l.length;d<_;d++)t.classList.add(l[d]);else if(!Tr(t,i)){var x=es(t);co(t,(x?x+" ":"")+i)}}function We(t,i){t.classList!==void 0?t.classList.remove(i):co(t,j((" "+es(t)+" ").replace(" "+i+" "," ")))}function co(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function es(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function bt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&ba(t,i)}function ba(t,i){var l=!1,d="DXImageTransform.Microsoft.Alpha";try{l=t.filters.item(d)}catch{if(i===1)return}i=Math.round(i*100),l?(l.Enabled=i!==100,l.Opacity=i):t.style.filter+=" progid:"+d+"(opacity="+i+")"}function Pr(t){for(var i=document.documentElement.style,l=0;l<t.length;l++)if(t[l]in i)return t[l];return!1}function Vt(t,i,l){var d=i||new F(0,0);t.style[uo]=(ae.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(l?" scale("+l+")":"")}function tt(t,i){t._leaflet_pos=i,ae.any3d?Vt(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function xn(t){return t._leaflet_pos||new F(0,0)}var Ae,Cr,ts;if("onselectstart"in document)Ae=function(){xe(window,"selectstart",Ye)},Cr=function(){Be(window,"selectstart",Ye)};else{var Yn=Pr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ae=function(){if(Yn){var t=document.documentElement.style;ts=t[Yn],t[Yn]="none"}},Cr=function(){Yn&&(document.documentElement.style[Yn]=ts,ts=void 0)}}function ns(){xe(window,"dragstart",Ye)}function rs(){Be(window,"dragstart",Ye)}var mi,gi;function Lr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(qt(),mi=t,gi=t.style.outlineStyle,t.style.outlineStyle="none",xe(window,"keydown",qt))}function qt(){mi&&(mi.style.outlineStyle=gi,mi=void 0,gi=void 0,Be(window,"keydown",qt))}function Sn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function an(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var _i={__proto__:null,TRANSFORM:uo,TRANSITION:br,TRANSITION_END:fi,get:Zt,getStyle:pi,create:Ee,remove:qe,empty:Xi,toFront:Er,toBack:wn,hasClass:Tr,addClass:ke,removeClass:We,setClass:co,getClass:es,setOpacity:bt,testProp:Pr,setTransform:Vt,setPosition:tt,getPosition:xn,get disableTextSelection(){return Ae},get enableTextSelection(){return Cr},disableImageDrag:ns,enableImageDrag:rs,preventOutline:Lr,restoreOutline:qt,getSizedParentNode:Sn,getScale:an};function xe(t,i,l,d){if(i&&typeof i=="object")for(var _ in i)fo(t,_,i[_],l);else{i=U(i);for(var x=0,E=i.length;x<E;x++)fo(t,i[x],l,d)}return this}var ct="_leaflet_events";function Be(t,i,l,d){if(arguments.length===1)ho(t),delete t[ct];else if(i&&typeof i=="object")for(var _ in i)is(t,_,i[_],l);else if(i=U(i),arguments.length===2)ho(t,function(A){return ie(i,A)!==-1});else for(var x=0,E=i.length;x<E;x++)is(t,i[x],l,d);return this}function ho(t,i){for(var l in t[ct]){var d=l.split(/\d/)[0];(!i||i(d))&&is(t,d,null,null,l)}}var Qn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fo(t,i,l,d){var _=i+v(l)+(d?"_"+v(d):"");if(t[ct]&&t[ct][_])return this;var x=function(A){return l.call(d||t,A||window.event)},E=x;!ae.touchNative&&ae.pointer&&i.indexOf("touch")===0?x=Vl(t,i,x):ae.touch&&i==="dblclick"?x=ka(t,x):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Qn[i]||i,x,ae.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(x=function(A){A=A||window.event,wi(t,A)&&E(A)},t.addEventListener(Qn[i],x,!1)):t.addEventListener(i,E,!1):t.attachEvent("on"+i,x),t[ct]=t[ct]||{},t[ct][_]=x}function is(t,i,l,d,_){_=_||i+v(l)+(d?"_"+v(d):"");var x=t[ct]&&t[ct][_];if(!x)return this;!ae.touchNative&&ae.pointer&&i.indexOf("touch")===0?wa(t,i,x):ae.touch&&i==="dblclick"?Qi(t,x):"removeEventListener"in t?t.removeEventListener(Qn[i]||i,x,!1):t.detachEvent("on"+i,x),t[ct][_]=null}function ln(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ss(t){return fo(t,"wheel",ln),this}function vi(t){return xe(t,"mousedown touchstart dblclick contextmenu",ln),t._leaflet_disable_click=!0,this}function Ye(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Kt(t){return Ye(t),ln(t),this}function Xn(t){if(t.composedPath)return t.composedPath();for(var i=[],l=t.target;l;)i.push(l),l=l.parentNode;return i}function yi(t,i){if(!i)return new F(t.clientX,t.clientY);var l=an(i),d=l.boundingClientRect;return new F((t.clientX-d.left)/l.x-i.clientLeft,(t.clientY-d.top)/l.y-i.clientTop)}var Gl=ae.linux&&ae.chrome?window.devicePixelRatio:ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ea(t){return ae.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Gl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function wi(t,i){var l=i.relatedTarget;if(!l)return!0;try{for(;l&&l!==t;)l=l.parentNode}catch{return!1}return l!==t}var os={__proto__:null,on:xe,off:Be,stopPropagation:ln,disableScrollPropagation:ss,disableClickPropagation:vi,preventDefault:Ye,stop:Kt,getPropagationPath:Xn,getMousePosition:yi,getWheelDelta:Ea,isExternalTarget:wi,addListener:xe,removeListener:Be},as=De.extend({run:function(t,i,l,d){this.stop(),this._el=t,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=xn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=we(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,l=this._duration*1e3;i<l?this._runFrame(this._easeOut(i/l),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var l=this._startPos.add(this._offset.multiplyBy(t));i&&l._round(),tt(this._el,l),this.fire("step")},_complete:function(){Ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Le=De.extend({options:{crs:wr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=B(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(te(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&ae.any3d&&!ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xe(this._proxy,fi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,l){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(te(t),i,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=h({animate:l.animate},l.zoom),l.pan=h({animate:l.animate,duration:l.duration},l.pan));var d=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,l.zoom):this._tryAnimatedPan(t,l.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,l.pan&&l.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,l){var d=this.getZoomScale(i),_=this.getSize().divideBy(2),x=t instanceof F?t:this.latLngToContainerPoint(t),E=x.subtract(_).multiplyBy(1-1/d),A=this.containerPointToLatLng(_.add(E));return this.setView(A,i,{zoom:l})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():ue(t);var l=W(i.paddingTopLeft||i.padding||[0,0]),d=W(i.paddingBottomRight||i.padding||[0,0]),_=this.getBoundsZoom(t,!1,l.add(d));if(_=typeof i.maxZoom=="number"?Math.min(i.maxZoom,_):_,_===1/0)return{center:t.getCenter(),zoom:_};var x=d.subtract(l).divideBy(2),E=this.project(t.getSouthWest(),_),A=this.project(t.getNorthEast(),_),z=this.unproject(E.add(A).divideBy(2).add(x),_);return{center:z,zoom:_}},fitBounds:function(t,i){if(t=ue(t),!t.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(t,i);return this.setView(l.center,l.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=W(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new as,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){ke(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,l,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,l){if(l=l||{},l.animate===!1||!ae.any3d)return this.setView(t,i,l);this._stop();var d=this.project(this.getCenter()),_=this.project(t),x=this.getSize(),E=this._zoom;t=te(t),i=i===void 0?E:i;var A=Math.max(x.x,x.y),z=A*this.getZoomScale(E,i),H=_.distanceTo(d)||1,X=1.42,pe=X*X;function Te(Me){var Hr=Me?-1:1,uu=Me?z:A,cu=z*z-A*A+Hr*pe*pe*H*H,or=2*uu*pe*H,ar=cu/or,lr=Math.sqrt(ar*ar+1)-ar,xs=lr<1e-9?-18:Math.log(lr);return xs}function ht(Me){return(Math.exp(Me)-Math.exp(-Me))/2}function ot(Me){return(Math.exp(Me)+Math.exp(-Me))/2}function It(Me){return ht(Me)/ot(Me)}var Tt=Te(0);function Fr(Me){return A*(ot(Tt)/ot(Tt+X*Me))}function Io(Me){return A*(ot(Tt)*It(Tt+X*Me)-ht(Tt))/pe}function Wn(Me){return 1-Math.pow(1-Me,1.5)}var Va=Date.now(),sr=(Te(1)-Tt)/X,dn=l.duration?1e3*l.duration:1e3*sr*.8;function Wr(){var Me=(Date.now()-Va)/dn,Hr=Wn(Me)*sr;Me<=1?(this._flyToFrame=we(Wr,this),this._move(this.unproject(d.add(_.subtract(d).multiplyBy(Io(Hr)/H)),E),this.getScaleZoom(A/Fr(Hr),E),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Wr.call(this),this},flyToBounds:function(t,i){var l=this._getBoundsCenterZoom(t,i);return this.flyTo(l.center,l.zoom,i)},setMaxBounds:function(t){return t=ue(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var l=this.getCenter(),d=this._limitCenter(l,this._zoom,ue(t));return l.equals(d)||this.panTo(d,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var l=W(i.paddingTopLeft||i.padding||[0,0]),d=W(i.paddingBottomRight||i.padding||[0,0]),_=this.project(this.getCenter()),x=this.project(t),E=this.getPixelBounds(),A=$([E.min.add(l),E.max.subtract(d)]),z=A.getSize();if(!A.contains(x)){this._enforcingBounds=!0;var H=x.subtract(A.getCenter()),X=A.extend(x).getSize().subtract(z);_.x+=H.x<0?-X.x:X.x,_.y+=H.y<0?-X.y:X.y,this.panTo(this.unproject(_),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=h({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),d=i.divideBy(2).round(),_=l.divideBy(2).round(),x=d.subtract(_);return!x.x&&!x.y?this:(t.animate&&t.pan?this.panBy(x):(t.pan&&this._rawPanBy(x),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=h({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=g(this._handleGeolocationResponse,this),l=g(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,l,t):navigator.geolocation.getCurrentPosition(i,l,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,l=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,l=t.coords.longitude,d=new oe(i,l),_=d.toBounds(t.coords.accuracy*2),x=this._locateOptions;if(x.setView){var E=this.getBoundsZoom(_);this.setView(d,x.maxZoom?Math.min(E,x.maxZoom):E)}var A={latlng:d,bounds:_,timestamp:t.timestamp};for(var z in t.coords)typeof t.coords[z]=="number"&&(A[z]=t.coords[z]);this.fire("locationfound",A)}},addHandler:function(t,i){if(!i)return this;var l=this[t]=new i(this);return this._handlers.push(l),this.options[t]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)qe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var l="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),d=Ee("div",l,i||this._mapPane);return t&&(this._panes[t]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),l=this.unproject(t.getTopRight());return new fe(i,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,l){t=ue(t),l=W(l||[0,0]);var d=this.getZoom()||0,_=this.getMinZoom(),x=this.getMaxZoom(),E=t.getNorthWest(),A=t.getSouthEast(),z=this.getSize().subtract(l),H=$(this.project(A,d),this.project(E,d)).getSize(),X=ae.any3d?this.options.zoomSnap:1,pe=z.x/H.x,Te=z.y/H.y,ht=i?Math.max(pe,Te):Math.min(pe,Te);return d=this.getScaleZoom(ht,d),X&&(d=Math.round(d/(X/100))*(X/100),d=i?Math.ceil(d/X)*X:Math.floor(d/X)*X),Math.max(_,Math.min(x,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var l=this._getTopLeftPoint(t,i);return new C(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var l=this.options.crs;return i=i===void 0?this._zoom:i,l.scale(t)/l.scale(i)},getScaleZoom:function(t,i){var l=this.options.crs;i=i===void 0?this._zoom:i;var d=l.zoom(t*l.scale(i));return isNaN(d)?1/0:d},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(te(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(W(t),i)},layerPointToLatLng:function(t){var i=W(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(te(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(te(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ue(t))},distance:function(t,i){return this.options.crs.distance(te(t),te(i))},containerPointToLayerPoint:function(t){return W(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return W(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(W(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(t)))},mouseEventToContainerPoint:function(t){return yi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=Zt(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xe(i,"scroll",this._onScroll,this),this._containerId=v(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ae.any3d,ke(t,"leaflet-container"+(ae.touch?" leaflet-touch":"")+(ae.retina?" leaflet-retina":"")+(ae.ielt9?" leaflet-oldie":"")+(ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=pi(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tt(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(t.markerPane,"leaflet-zoom-hide"),ke(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,l){tt(this._mapPane,new F(0,0));var d=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var _=this._zoom!==i;this._moveStart(_,l)._move(t,i)._moveEnd(_),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,l,d){i===void 0&&(i=this._zoom);var _=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),d?l&&l.pinch&&this.fire("zoom",l):((_||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){tt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[v(this._container)]=this;var i=t?Be:xe;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),ae.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ne(this._resizeRequest),this._resizeRequest=we(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var l=[],d,_=i==="mouseout"||i==="mouseover",x=t.target||t.srcElement,E=!1;x;){if(d=this._targets[v(x)],d&&(i==="click"||i==="preclick")&&this._draggableMoved(d)){E=!0;break}if(d&&d.listens(i,!0)&&(_&&!wi(x,t)||(l.push(d),_))||x===this._container)break;x=x.parentNode}return!l.length&&!E&&!_&&this.listens(i,!0)&&(l=[this]),l},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var l=t.type;l==="mousedown"&&Lr(i),this._fireDOMEvent(t,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,l){if(t.type==="click"){var d=h({},t);d.type="preclick",this._fireDOMEvent(d,d.type,l)}var _=this._findEventTargets(t,i);if(l){for(var x=[],E=0;E<l.length;E++)l[E].listens(i,!0)&&x.push(l[E]);_=x.concat(_)}if(_.length){i==="contextmenu"&&Ye(t);var A=_[0],z={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var H=A.getLatLng&&(!A._radius||A._radius<=10);z.containerPoint=H?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(t),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=H?A.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(E=0;E<_.length;E++)if(_[E].fire(i,z,!0),z.originalEvent._stopped||_[E].options.bubblingMouseEvents===!1&&ie(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return xn(this._mapPane)||new F(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var l=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var l=this.getSize()._divideBy(2);return this.project(t,i)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,l){var d=this._getNewPixelOrigin(l,i);return this.project(t,i)._subtract(d)},_latLngBoundsToNewLayerBounds:function(t,i,l){var d=this._getNewPixelOrigin(l,i);return $([this.project(t.getSouthWest(),i)._subtract(d),this.project(t.getNorthWest(),i)._subtract(d),this.project(t.getSouthEast(),i)._subtract(d),this.project(t.getNorthEast(),i)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,l){if(!l)return t;var d=this.project(t,i),_=this.getSize().divideBy(2),x=new C(d.subtract(_),d.add(_)),E=this._getBoundsOffset(x,l,i);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?t:this.unproject(d.add(E),i)},_limitOffset:function(t,i){if(!i)return t;var l=this.getPixelBounds(),d=new C(l.min.add(t),l.max.add(t));return t.add(this._getBoundsOffset(d,i))},_getBoundsOffset:function(t,i,l){var d=$(this.project(i.getNorthEast(),l),this.project(i.getSouthWest(),l)),_=d.min.subtract(t.min),x=d.max.subtract(t.max),E=this._rebound(_.x,-x.x),A=this._rebound(_.y,-x.y);return new F(E,A)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),l=this.getMaxZoom(),d=ae.any3d?this.options.zoomSnap:1;return d&&(t=Math.round(t/d)*d),Math.max(i,Math.min(l,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var l=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,i),!0)},_createAnimProxy:function(){var t=this._proxy=Ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var l=uo,d=this._proxy.style[l];Vt(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),d===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Vt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(i),_=this._getCenterOffset(t)._divideBy(1-1/d);return l.animate!==!0&&!this.getSize().contains(_)?!1:(we(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,l,d){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Mn(t,i){return new Le(t,i)}var At=it.extend({options:{position:"topright"},initialize:function(t){B(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),l=this.getPosition(),d=t._controlCorners[l];return ke(i,"leaflet-control"),l.indexOf("bottom")!==-1?d.insertBefore(i,d.firstChild):d.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),zn=function(t){return new At(t)};Le.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",l=this._controlContainer=Ee("div",i+"control-container",this._container);function d(_,x){var E=i+_+" "+i+x;t[_+x]=Ee("div",E,l)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)qe(this._controlCorners[t]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var po=At.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,l,d){return l<d?-1:d<l?1:0}},initialize:function(t,i,l){B(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in t)this._addLayer(t[d],d);for(d in i)this._addLayer(i[d],d,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return At.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(v(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Ee("div",t),l=this.options.collapsed;i.setAttribute("aria-haspopup",!0),vi(i),ss(i);var d=this._section=Ee("section",t+"-list");l&&(this._map.on("click",this.collapse,this),xe(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Ee("a",t+"-toggle",i);_.href="#",_.title="Layers",_.setAttribute("role","button"),xe(_,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){Ye(x),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=Ee("div",t+"-base",d),this._separator=Ee("div",t+"-separator",d),this._overlaysList=Ee("div",t+"-overlays",d),i.appendChild(d)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&v(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,l){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:l}),this.options.sortLayers&&this._layers.sort(g(function(d,_){return this.options.sortFunction(d.layer,_.layer,d.name,_.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xi(this._baseLayersList),Xi(this._overlaysList),this._layerControlInputs=[];var t,i,l,d,_=0;for(l=0;l<this._layers.length;l++)d=this._layers[l],this._addItem(d),i=i||d.overlay,t=t||!d.overlay,_+=d.overlay?0:1;return this.options.hideSingleBase&&(t=t&&_>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(v(t.target)),l=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;l&&this._map.fire(l,i)},_createRadioElement:function(t,i){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=l,d.firstChild},_addItem:function(t){var i=document.createElement("label"),l=this._map.hasLayer(t.layer),d;t.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=l):d=this._createRadioElement("leaflet-base-layers_"+v(this),l),this._layerControlInputs.push(d),d.layerId=v(t.layer),xe(d,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+t.name;var x=document.createElement("span");i.appendChild(x),x.appendChild(d),x.appendChild(_);var E=t.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,l,d=[],_=[];this._handlingClick=!0;for(var x=t.length-1;x>=0;x--)i=t[x],l=this._getLayer(i.layerId).layer,i.checked?d.push(l):i.checked||_.push(l);for(x=0;x<_.length;x++)this._map.hasLayer(_[x])&&this._map.removeLayer(_[x]);for(x=0;x<d.length;x++)this._map.hasLayer(d[x])||this._map.addLayer(d[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,l,d=this._map.getZoom(),_=t.length-1;_>=0;_--)i=t[_],l=this._getLayer(i.layerId).layer,i.disabled=l.options.minZoom!==void 0&&d<l.options.minZoom||l.options.maxZoom!==void 0&&d>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,xe(t,"click",Ye),this.expand();var i=this;setTimeout(function(){Be(t,"click",Ye),i._preventClick=!1})}}),ls=function(t,i,l){return new po(t,i,l)},Or=At.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",l=Ee("div",i+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,i+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,i+"-out",l,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,l,d,_){var x=Ee("a",l,d);return x.innerHTML=t,x.href="#",x.title=i,x.setAttribute("role","button"),x.setAttribute("aria-label",i),vi(x),xe(x,"click",Kt),xe(x,"click",_,this),xe(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";We(this._zoomInButton,i),We(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ke(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ke(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Or,this.addControl(this.zoomControl))});var Ta=function(t){return new Or(t)},Et=At.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",l=Ee("div",i),d=this.options;return this._addScales(d,i+"-line",l),t.on(d.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),l},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,l){t.metric&&(this._mScale=Ee("div",i,l)),t.imperial&&(this._iScale=Ee("div",i,l))},_update:function(){var t=this._map,i=t.getSize().y/2,l=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(l)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),l=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,l,i/t)},_updateImperial:function(t){var i=t*3.2808399,l,d,_;i>5280?(l=i/5280,d=this._getRoundNum(l),this._updateScale(this._iScale,d+" mi",d/l)):(_=this._getRoundNum(i),this._updateScale(this._iScale,_+" ft",_/i))},_updateScale:function(t,i,l){t.style.width=Math.round(this.options.maxWidth*l)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),l=t/i;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,i*l}}),Rr=function(t){return new Et(t)},mo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',er=At.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ae.inlineSvg?mo+" ":"")+"Leaflet</a>"},initialize:function(t){B(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Ee("div","leaflet-control-attribution"),vi(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var l=[];this.options.prefix&&l.push(this.options.prefix),t.length&&l.push(t.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&&new er().addTo(this)});var Jl=function(t){return new er(t)};At.Layers=po,At.Zoom=Or,At.Scale=Et,At.Attribution=er,zn.layers=ls,zn.zoom=Ta,zn.scale=Rr,zn.attribution=Jl;var zt=it.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zt.addTo=function(t,i){return t.addHandler(i,this),this};var go={Events:ze},Ar=ae.touch?"touchstart mousedown":"mousedown",Gt=De.extend({options:{clickTolerance:3},initialize:function(t,i,l,d){B(this,d),this._element=t,this._dragStartTarget=i||t,this._preventOutline=l},enable:function(){this._enabled||(xe(this._dragStartTarget,Ar,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gt._dragging===this&&this.finishDrag(!0),Be(this._dragStartTarget,Ar,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Tr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Gt._dragging===this&&this.finishDrag();return}if(!(Gt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Gt._dragging=this,this._preventOutline&&Lr(this._element),ns(),Ae(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,l=Sn(this._element);this._startPoint=new F(i.clientX,i.clientY),this._startPos=xn(this._element),this._parentScale=an(l);var d=t.type==="mousedown";xe(document,d?"mousemove":"touchmove",this._onMove,this),xe(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,l=new F(i.clientX,i.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Ye(t),this._moved||(this.fire("dragstart"),this._moved=!0,ke(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),tt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Be(document,"mousemove touchmove",this._onMove,this),Be(document,"mouseup touchend touchcancel",this._onUp,this),rs(),Cr();var i=this._moved&&this._moving;this._moving=!1,Gt._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function _o(t,i,l){var d,_=[1,4,2,8],x,E,A,z,H,X,pe,Te;for(x=0,X=t.length;x<X;x++)t[x]._code=tr(t[x],i);for(A=0;A<4;A++){for(pe=_[A],d=[],x=0,X=t.length,E=X-1;x<X;E=x++)z=t[x],H=t[E],z._code&pe?H._code&pe||(Te=cs(H,z,pe,i,l),Te._code=tr(Te,i),d.push(Te)):(H._code&pe&&(Te=cs(H,z,pe,i,l),Te._code=tr(Te,i),d.push(Te)),d.push(z));t=d}return t}function Pa(t,i){var l,d,_,x,E,A,z,H,X;if(!t||t.length===0)throw new Error("latlngs not passed");Dt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pe=te([0,0]),Te=ue(t),ht=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());ht<1700&&(pe=vo(t));var ot=t.length,It=[];for(l=0;l<ot;l++){var Tt=te(t[l]);It.push(i.project(te([Tt.lat-pe.lat,Tt.lng-pe.lng])))}for(A=z=H=0,l=0,d=ot-1;l<ot;d=l++)_=It[l],x=It[d],E=_.y*x.x-x.y*_.x,z+=(_.x+x.x)*E,H+=(_.y+x.y)*E,A+=E*3;A===0?X=It[0]:X=[z/A,H/A];var Fr=i.unproject(W(X));return te([Fr.lat+pe.lat,Fr.lng+pe.lng])}function vo(t){for(var i=0,l=0,d=0,_=0;_<t.length;_++){var x=te(t[_]);i+=x.lat,l+=x.lng,d++}return te([i/d,l/d])}var Yl={__proto__:null,clipPolygon:_o,polygonCenter:Pa,centroid:vo};function us(t,i){if(!i||!t.length)return t.slice();var l=i*i;return t=eu(t,l),t=Xl(t,l),t}function Ca(t,i,l){return Math.sqrt(nr(t,i,l,!0))}function Ql(t,i,l){return nr(t,i,l)}function Xl(t,i){var l=t.length,d=typeof Uint8Array<"u"?Uint8Array:Array,_=new d(l);_[0]=_[l-1]=1,yo(t,_,i,0,l-1);var x,E=[];for(x=0;x<l;x++)_[x]&&E.push(t[x]);return E}function yo(t,i,l,d,_){var x=0,E,A,z;for(A=d+1;A<=_-1;A++)z=nr(t[A],t[d],t[_],!0),z>x&&(E=A,x=z);x>l&&(i[E]=1,yo(t,i,l,d,E),yo(t,i,l,E,_))}function eu(t,i){for(var l=[t[0]],d=1,_=0,x=t.length;d<x;d++)tu(t[d],t[_])>i&&(l.push(t[d]),_=d);return _<x-1&&l.push(t[x-1]),l}var wo;function La(t,i,l,d,_){var x=d?wo:tr(t,l),E=tr(i,l),A,z,H;for(wo=E;;){if(!(x|E))return[t,i];if(x&E)return!1;A=x||E,z=cs(t,i,A,l,_),H=tr(z,l),A===x?(t=z,x=H):(i=z,E=H)}}function cs(t,i,l,d,_){var x=i.x-t.x,E=i.y-t.y,A=d.min,z=d.max,H,X;return l&8?(H=t.x+x*(z.y-t.y)/E,X=z.y):l&4?(H=t.x+x*(A.y-t.y)/E,X=A.y):l&2?(H=z.x,X=t.y+E*(z.x-t.x)/x):l&1&&(H=A.x,X=t.y+E*(A.x-t.x)/x),new F(H,X,_)}function tr(t,i){var l=0;return t.x<i.min.x?l|=1:t.x>i.max.x&&(l|=2),t.y<i.min.y?l|=4:t.y>i.max.y&&(l|=8),l}function tu(t,i){var l=i.x-t.x,d=i.y-t.y;return l*l+d*d}function nr(t,i,l,d){var _=i.x,x=i.y,E=l.x-_,A=l.y-x,z=E*E+A*A,H;return z>0&&(H=((t.x-_)*E+(t.y-x)*A)/z,H>1?(_=l.x,x=l.y):H>0&&(_+=E*H,x+=A*H)),E=t.x-_,A=t.y-x,d?E*E+A*A:new F(_,x)}function Dt(t){return!G(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Oa(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(t)}function Ra(t,i){var l,d,_,x,E,A,z,H;if(!t||t.length===0)throw new Error("latlngs not passed");Dt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var X=te([0,0]),pe=ue(t),Te=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());Te<1700&&(X=vo(t));var ht=t.length,ot=[];for(l=0;l<ht;l++){var It=te(t[l]);ot.push(i.project(te([It.lat-X.lat,It.lng-X.lng])))}for(l=0,d=0;l<ht-1;l++)d+=ot[l].distanceTo(ot[l+1])/2;if(d===0)H=ot[0];else for(l=0,x=0;l<ht-1;l++)if(E=ot[l],A=ot[l+1],_=E.distanceTo(A),x+=_,x>d){z=(x-d)/_,H=[A.x-z*(A.x-E.x),A.y-z*(A.y-E.y)];break}var Tt=i.unproject(W(H));return te([Tt.lat+X.lat,Tt.lng+X.lng])}var Aa={__proto__:null,simplify:us,pointToSegmentDistance:Ca,closestPointOnSegment:Ql,clipSegment:La,_getEdgeIntersection:cs,_getBitCode:tr,_sqClosestPointOnSegment:nr,isFlat:Dt,_flat:Oa,polylineCenter:Ra},xo={project:function(t){return new F(t.lng,t.lat)},unproject:function(t){return new oe(t.y,t.x)},bounds:new C([-180,-90],[180,90])},So={R:6378137,R_MINOR:6356752314245179e-9,bounds:new C([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,l=this.R,d=t.lat*i,_=this.R_MINOR/l,x=Math.sqrt(1-_*_),E=x*Math.sin(d),A=Math.tan(Math.PI/4-d/2)/Math.pow((1-E)/(1+E),x/2);return d=-l*Math.log(Math.max(A,1e-10)),new F(t.lng*i*l,d)},unproject:function(t){for(var i=180/Math.PI,l=this.R,d=this.R_MINOR/l,_=Math.sqrt(1-d*d),x=Math.exp(-t.y/l),E=Math.PI/2-2*Math.atan(x),A=0,z=.1,H;A<15&&Math.abs(z)>1e-7;A++)H=_*Math.sin(E),H=Math.pow((1-H)/(1+H),_/2),z=Math.PI/2-2*Math.atan(x*H)-E,E+=z;return new oe(E*i,t.x*i/l)}},nu={__proto__:null,LonLat:xo,Mercator:So,SphericalMercator:vt},ru=h({},Pe,{code:"EPSG:3395",projection:So,transformation:(function(){var t=.5/(Math.PI*So.R);return yr(t,.5,-t,.5)})()}),Na=h({},Pe,{code:"EPSG:4326",projection:xo,transformation:yr(1/180,1,-1/180,.5)}),iu=h({},Oe,{projection:xo,transformation:yr(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var l=i.lng-t.lng,d=i.lat-t.lat;return Math.sqrt(l*l+d*d)},infinite:!0});Oe.Earth=Pe,Oe.EPSG3395=ru,Oe.EPSG3857=wr,Oe.EPSG900913=Ks,Oe.EPSG4326=Na,Oe.Simple=iu;var Jt=De.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[v(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[v(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var l=this.getEvents();i.on(l,this),this.once("remove",function(){i.off(l,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Le.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=v(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=v(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return v(t)in this._layers},eachLayer:function(t,i){for(var l in this._layers)t.call(i,this._layers[l]);return this},_addLayers:function(t){t=t?G(t)?t:[t]:[];for(var i=0,l=t.length;i<l;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[v(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=v(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,l=this._getZoomSpan();for(var d in this._zoomBoundLayers){var _=this._zoomBoundLayers[d].options;t=_.minZoom===void 0?t:Math.min(t,_.minZoom),i=_.maxZoom===void 0?i:Math.max(i,_.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Dn=Jt.extend({initialize:function(t,i){B(this,i),this._layers={};var l,d;if(t)for(l=0,d=t.length;l<d;l++)this.addLayer(t[l])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),l,d;for(l in this._layers)d=this._layers[l],d[t]&&d[t].apply(d,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var l in this._layers)t.call(i,this._layers[l]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return v(t)}}),xi=function(t,i){return new Dn(t,i)},kn=Dn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Dn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Dn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new fe;for(var i in this._layers){var l=this._layers[i];t.extend(l.getBounds?l.getBounds():l.getLatLng())}return t}}),Ia=function(t,i){return new kn(t,i)},rr=it.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){B(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var l=this._getIconUrl(t);if(!l){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(l,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(d,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(t,i){var l=this.options,d=l[i+"Size"];typeof d=="number"&&(d=[d,d]);var _=W(d),x=W(i==="shadow"&&l.shadowAnchor||l.iconAnchor||_&&_.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(l.className||""),x&&(t.style.marginLeft=-x.x+"px",t.style.marginTop=-x.y+"px"),_&&(t.style.width=_.x+"px",t.style.height=_.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return ae.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ja(t){return new rr(t)}var Nr=rr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Nr.imagePath!="string"&&(Nr.imagePath=this._detectIconPath()),(this.options.imagePath||Nr.imagePath)+rr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(l,d,_){var x=d.exec(l);return x&&x[_]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Ee("div","leaflet-default-icon-path",document.body),i=pi(t,"background-image")||pi(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),ko=zt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Gt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,l=i._map,d=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,x=xn(i._icon),E=l.getPixelBounds(),A=l.getPixelOrigin(),z=$(E.min._subtract(A).add(_),E.max._subtract(A).subtract(_));if(!z.contains(x)){var H=W((Math.max(z.max.x,x.x)-z.max.x)/(E.max.x-z.max.x)-(Math.min(z.min.x,x.x)-z.min.x)/(E.min.x-z.min.x),(Math.max(z.max.y,x.y)-z.max.y)/(E.max.y-z.max.y)-(Math.min(z.min.y,x.y)-z.min.y)/(E.min.y-z.min.y)).multiplyBy(d);l.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),tt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=we(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Ne(this._panRequest),this._panRequest=we(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,l=i._shadow,d=xn(i._icon),_=i._map.layerPointToLatLng(d);l&&tt(l,d),i._latlng=_,t.latlng=_,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),bn=Jt.extend({options:{icon:new Nr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){B(this,i),this._latlng=te(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=te(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=t.icon.createIcon(this._icon),d=!1;l!==this._icon&&(this._icon&&this._removeIcon(),d=!0,t.title&&(l.title=t.title),l.tagName==="IMG"&&(l.alt=t.alt||"")),ke(l,i),t.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(l,"focus",this._panOnFocus,this);var _=t.icon.createShadow(this._shadow),x=!1;_!==this._shadow&&(this._removeShadow(),x=!0),_&&(ke(_,i),_.alt=""),this._shadow=_,t.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&x&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&tt(this._icon,t),this._shadow&&tt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ko)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ko(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&bt(this._icon,t),this._shadow&&bt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,l=i.iconSize?W(i.iconSize):W(0,0),d=i.iconAnchor?W(i.iconAnchor):W(0,0);t.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:l.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function su(t,i){return new bn(t,i)}var Bn=Jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return B(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hs=Bn.extend({options:{fill:!0,radius:10},initialize:function(t,i){B(this,i),this._latlng=te(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=te(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Bn.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,l=this._clickTolerance(),d=[t+l,i+l];this._pxBounds=new C(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ma(t,i){return new hs(t,i)}var ds=hs.extend({initialize:function(t,i,l){if(typeof i=="number"&&(i=h({},l,{radius:i})),B(this,i),this._latlng=te(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Bn.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,l=this._map,d=l.options.crs;if(d.distance===Pe.distance){var _=Math.PI/180,x=this._mRadius/Pe.R/_,E=l.project([i+x,t]),A=l.project([i-x,t]),z=E.add(A).divideBy(2),H=l.unproject(z).lat,X=Math.acos((Math.cos(x*_)-Math.sin(i*_)*Math.sin(H*_))/(Math.cos(i*_)*Math.cos(H*_)))/_;(isNaN(X)||X===0)&&(X=x/Math.cos(Math.PI/180*i)),this._point=z.subtract(l.getPixelOrigin()),this._radius=isNaN(X)?0:z.x-l.project([H,t-X]).x,this._radiusY=z.y-E.y}else{var pe=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(pe).x}this._updateBounds()}});function Si(t,i,l){return new ds(t,i,l)}var Nt=Bn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){B(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,l=null,d=nr,_,x,E=0,A=this._parts.length;E<A;E++)for(var z=this._parts[E],H=1,X=z.length;H<X;H++){_=z[H-1],x=z[H];var pe=d(t,_,x,!0);pe<i&&(i=pe,l=d(t,_,x))}return l&&(l.distance=Math.sqrt(i)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ra(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=te(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new fe,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],l=Dt(t),d=0,_=t.length;d<_;d++)l?(i[d]=te(t[d]),this._bounds.extend(i[d])):i[d]=this._convertLatLngs(t[d]);return i},_project:function(){var t=new C;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new F(t,t);this._rawPxBounds&&(this._pxBounds=new C([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,l){var d=t[0]instanceof oe,_=t.length,x,E;if(d){for(E=[],x=0;x<_;x++)E[x]=this._map.latLngToLayerPoint(t[x]),l.extend(E[x]);i.push(E)}else for(x=0;x<_;x++)this._projectLatlngs(t[x],i,l)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,l,d,_,x,E,A,z;for(l=0,_=0,x=this._rings.length;l<x;l++)for(z=this._rings[l],d=0,E=z.length;d<E-1;d++)A=La(z[d],z[d+1],t,d,!0),A&&(i[_]=i[_]||[],i[_].push(A[0]),(A[1]!==z[d+1]||d===E-2)&&(i[_].push(A[1]),_++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,l=0,d=t.length;l<d;l++)t[l]=us(t[l],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var l,d,_,x,E,A,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(l=0,x=this._parts.length;l<x;l++)for(A=this._parts[l],d=0,E=A.length,_=E-1;d<E;_=d++)if(!(!i&&d===0)&&Ca(t,A[_],A[d])<=z)return!0;return!1}});function ou(t,i){return new Nt(t,i)}Nt._flat=Oa;var En=Nt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Nt.prototype._convertLatLngs.call(this,t),l=i.length;return l>=2&&i[0]instanceof oe&&i[0].equals(i[l-1])&&i.pop(),i},_setLatLngs:function(t){Nt.prototype._setLatLngs.call(this,t),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,l=new F(i,i);if(t=new C(t.min.subtract(l),t.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,_=this._rings.length,x;d<_;d++)x=_o(this._rings[d],t,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,l,d,_,x,E,A,z,H;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(x=0,z=this._parts.length;x<z;x++)for(l=this._parts[x],E=0,H=l.length,A=H-1;E<H;A=E++)d=l[E],_=l[A],d.y>t.y!=_.y>t.y&&t.x<(_.x-d.x)*(t.y-d.y)/(_.y-d.y)+d.x&&(i=!i);return i||Nt.prototype._containsPoint.call(this,t,!0)}});function au(t,i){return new En(t,i)}var un=kn.extend({initialize:function(t,i){B(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=G(t)?t:t.features,l,d,_;if(i){for(l=0,d=i.length;l<d;l++)_=i[l],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var x=this.options;if(x.filter&&!x.filter(t))return this;var E=Ir(t,x);return E?(E.feature=_s(t),E.defaultOptions=E.options,this.resetStyle(E),x.onEachFeature&&x.onEachFeature(t,E),this.addLayer(E)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=h({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Ir(t,i){var l=t.type==="Feature"?t.geometry:t,d=l?l.coordinates:null,_=[],x=i&&i.pointToLayer,E=i&&i.coordsToLatLng||ps,A,z,H,X;if(!d&&!l)return null;switch(l.type){case"Point":return A=E(d),fs(x,t,A,i);case"MultiPoint":for(H=0,X=d.length;H<X;H++)A=E(d[H]),_.push(fs(x,t,A,i));return new kn(_);case"LineString":case"MultiLineString":return z=ki(d,l.type==="LineString"?0:1,E),new Nt(z,i);case"Polygon":case"MultiPolygon":return z=ki(d,l.type==="Polygon"?1:2,E),new En(z,i);case"GeometryCollection":for(H=0,X=l.geometries.length;H<X;H++){var pe=Ir({geometry:l.geometries[H],type:"Feature",properties:t.properties},i);pe&&_.push(pe)}return new kn(_);case"FeatureCollection":for(H=0,X=l.features.length;H<X;H++){var Te=Ir(l.features[H],i);Te&&_.push(Te)}return new kn(_);default:throw new Error("Invalid GeoJSON object.")}}function fs(t,i,l,d){return t?t(i,l):new bn(l,d&&d.markersInheritOptions&&d)}function ps(t){return new oe(t[1],t[0],t[2])}function ki(t,i,l){for(var d=[],_=0,x=t.length,E;_<x;_++)E=i?ki(t[_],i-1,l):(l||ps)(t[_]),d.push(E);return d}function ms(t,i){return t=te(t),t.alt!==void 0?[I(t.lng,i),I(t.lat,i),I(t.alt,i)]:[I(t.lng,i),I(t.lat,i)]}function gs(t,i,l,d){for(var _=[],x=0,E=t.length;x<E;x++)_.push(i?gs(t[x],Dt(t[x])?0:i-1,l,d):ms(t[x],d));return!i&&l&&_.length>0&&_.push(_[0].slice()),_}function jr(t,i){return t.feature?h({},t.feature,{geometry:i}):_s(i)}function _s(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var bo={toGeoJSON:function(t){return jr(this,{type:"Point",coordinates:ms(this.getLatLng(),t)})}};bn.include(bo),ds.include(bo),hs.include(bo),Nt.include({toGeoJSON:function(t){var i=!Dt(this._latlngs),l=gs(this._latlngs,i?1:0,!1,t);return jr(this,{type:(i?"Multi":"")+"LineString",coordinates:l})}}),En.include({toGeoJSON:function(t){var i=!Dt(this._latlngs),l=i&&!Dt(this._latlngs[0]),d=gs(this._latlngs,l?2:i?1:0,!0,t);return i||(d=[d]),jr(this,{type:(l?"Multi":"")+"Polygon",coordinates:d})}}),Dn.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(l){i.push(l.toGeoJSON(t).geometry.coordinates)}),jr(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var l=i==="GeometryCollection",d=[];return this.eachLayer(function(_){if(_.toGeoJSON){var x=_.toGeoJSON(t);if(l)d.push(x.geometry);else{var E=_s(x);E.type==="FeatureCollection"?d.push.apply(d,E.features):d.push(E)}}}),l?jr(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function za(t,i){return new un(t,i)}var Yt=za,Un=Jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,l){this._url=t,this._bounds=ue(i),B(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Er(this._image),this},bringToBack:function(){return this._map&&wn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ue(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Ee("img");if(ke(i,"leaflet-image-layer"),this._zoomAnimated&&ke(i,"leaflet-zoom-animated"),this.options.className&&ke(i,this.options.className),i.onselectstart=R,i.onmousemove=R,i.onload=g(this.fire,this,"load"),i.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Vt(this._image,l,i)},_reset:function(){var t=this._image,i=new C(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=i.getSize();tt(t,i.min),t.style.width=l.x+"px",t.style.height=l.y+"px"},_updateOpacity:function(){bt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Da=function(t,i,l){return new Un(t,i,l)},Eo=Un.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Ee("video");if(ke(i,"leaflet-image-layer"),this._zoomAnimated&&ke(i,"leaflet-zoom-animated"),this.options.className&&ke(i,this.options.className),i.onselectstart=R,i.onmousemove=R,i.onloadeddata=g(this.fire,this,"load"),t){for(var l=i.getElementsByTagName("source"),d=[],_=0;_<l.length;_++)d.push(l[_].src);this._url=l.length>0?d:[i.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var E=Ee("source");E.src=this._url[x],i.appendChild(E)}}});function Ba(t,i,l){return new Eo(t,i,l)}var To=Un.extend({_initImage:function(){var t=this._image=this._url;ke(t,"leaflet-image-layer"),this._zoomAnimated&&ke(t,"leaflet-zoom-animated"),this.options.className&&ke(t,this.options.className),t.onselectstart=R,t.onmousemove=R}});function Po(t,i,l){return new To(t,i,l)}var cn=Jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof oe||G(t))?(this._latlng=te(t),B(this,i)):(B(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&bt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&bt(this._container,1),this.bringToFront(),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(bt(this._container,0),this._removeTimeout=setTimeout(g(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=te(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Er(this._container),this},bringToBack:function(){return this._map&&wn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof kn){i=null;var l=this._source._layers;for(var d in l)if(l[d]._map){i=l[d];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=W(this.options.offset),l=this._getAnchor();this._zoomAnimated?tt(this._container,t.add(l)):i=i.add(t).add(l);var d=this._containerBottom=-i.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=d+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Le.include({_initOverlay:function(t,i,l,d){var _=i;return _ instanceof t||(_=new t(d).setContent(i)),l&&_.setLatLng(l),_}}),Jt.include({_initOverlay:function(t,i,l,d){var _=l;return _ instanceof t?(B(_,d),_._source=this):(_=i&&!d?i:new t(d,this),_.setContent(l)),_}});var vs=cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,cn.prototype.openOn.call(this,t)},onAdd:function(t){cn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bn||this._source.on("preclick",ln))},onRemove:function(t){cn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bn||this._source.off("preclick",ln))},getEvents:function(){var t=cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Ee("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=Ee("div",t+"-content-wrapper",i);if(this._contentNode=Ee("div",t+"-content",l),vi(i),ss(this._contentNode),xe(i,"contextmenu",ln),this._tipContainer=Ee("div",t+"-tip-container",i),this._tip=Ee("div",t+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=Ee("a",t+"-close-button",i);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',xe(d,"click",function(_){Ye(_),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var l=t.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),i.width=l+1+"px",i.whiteSpace="",i.height="";var d=t.offsetHeight,_=this.options.maxHeight,x="leaflet-popup-scrolled";_&&d>_?(i.height=_+"px",ke(t,x)):We(t,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),l=this._getAnchor();tt(this._container,i.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(pi(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+i,d=this._containerWidth,_=new F(this._containerLeft,-l-this._containerBottom);_._add(xn(this._container));var x=t.layerPointToContainerPoint(_),E=W(this.options.autoPanPadding),A=W(this.options.autoPanPaddingTopLeft||E),z=W(this.options.autoPanPaddingBottomRight||E),H=t.getSize(),X=0,pe=0;x.x+d+z.x>H.x&&(X=x.x+d-H.x+z.x),x.x-X-A.x<0&&(X=x.x-A.x),x.y+l+z.y>H.y&&(pe=x.y+l-H.y+z.y),x.y-pe-A.y<0&&(pe=x.y-A.y),(X||pe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([X,pe]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mr=function(t,i){return new vs(t,i)};Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(t,i,l){return this._initOverlay(vs,t,i,l).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Jt.include({bindPopup:function(t,i){return this._popup=this._initOverlay(vs,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof kn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Kt(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Bn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var zr=cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){cn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){cn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=cn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ee("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,l,d=this._map,_=this._container,x=d.latLngToContainerPoint(d.getCenter()),E=d.layerPointToContainerPoint(t),A=this.options.direction,z=_.offsetWidth,H=_.offsetHeight,X=W(this.options.offset),pe=this._getAnchor();A==="top"?(i=z/2,l=H):A==="bottom"?(i=z/2,l=0):A==="center"?(i=z/2,l=H/2):A==="right"?(i=0,l=H/2):A==="left"?(i=z,l=H/2):E.x<x.x?(A="right",i=0,l=H/2):(A="left",i=z+(X.x+pe.x)*2,l=H/2),t=t.subtract(W(i,l,!0)).add(X).add(pe),We(_,"leaflet-tooltip-right"),We(_,"leaflet-tooltip-left"),We(_,"leaflet-tooltip-top"),We(_,"leaflet-tooltip-bottom"),ke(_,"leaflet-tooltip-"+A),tt(_,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&bt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bi=function(t,i){return new zr(t,i)};Le.include({openTooltip:function(t,i,l){return this._initOverlay(zr,t,i,l).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Jt.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zr,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[i](l),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof kn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(xe(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),xe(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,l,d;this._tooltip.options.sticky&&t.originalEvent&&(l=this._map.mouseEventToContainerPoint(t.originalEvent),d=this._map.containerPointToLayerPoint(l),i=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(i)}});var ys=rr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Xi(i),i.appendChild(l.html)):i.innerHTML=l.html!==!1?l.html:"",l.bgPos){var d=W(l.bgPos);i.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Ua(t){return new ys(t)}rr.Default=Nr;var $n=Jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){B(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),qe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof F?t:new F(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,l=-t(-1/0,1/0),d=0,_=i.length,x;d<_;d++)x=i[d].style.zIndex,i[d]!==this._container&&x&&(l=t(l,+x));isFinite(l)&&(this.options.zIndex=l+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ae.ielt9){bt(this._container,this.options.opacity);var t=+new Date,i=!1,l=!1;for(var d in this._tiles){var _=this._tiles[d];if(!(!_.current||!_.loaded)){var x=Math.min(1,(t-_.loaded)/200);bt(_.el,x),x<1?i=!0:(_.active?l=!0:this._onOpaqueTile(_),_.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),i&&(Ne(this._fadeFrame),this._fadeFrame=we(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===t?(this._levels[l].el.style.zIndex=i-Math.abs(t-l),this._onUpdateLevel(l)):(qe(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var d=this._levels[t],_=this._map;return d||(d=this._levels[t]={},d.el=Ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=i,d.origin=_.project(_.unproject(_.getPixelOrigin()),t).round(),d.zoom=t,this._setZoomTransform(d,_.getCenter(),_.getZoom()),R(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var t,i,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var d=i.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)qe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,l,d){var _=Math.floor(t/2),x=Math.floor(i/2),E=l-1,A=new F(+_,+x);A.z=+E;var z=this._tileCoordsToKey(A),H=this._tiles[z];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),E>d?this._retainParent(_,x,E,d):!1)},_retainChildren:function(t,i,l,d){for(var _=2*t;_<2*t+2;_++)for(var x=2*i;x<2*i+2;x++){var E=new F(_,x);E.z=l+1;var A=this._tileCoordsToKey(E),z=this._tiles[A];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);l+1<d&&this._retainChildren(_,x,l+1,d)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,l,d){var _=Math.round(i);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var x=this.options.updateWhenZooming&&_!==this._tileZoom;(!d||x)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(t),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var l in this._levels)this._setZoomTransform(this._levels[l],t,i)},_setZoomTransform:function(t,i,l){var d=this._map.getZoomScale(l,t.zoom),_=t.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(i,l)).round();ae.any3d?Vt(t.el,_,d):tt(t.el,_)},_resetGrid:function(){var t=this._map,i=t.options.crs,l=this._tileSize=this.getTileSize(),d=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],d).x/l.x),Math.ceil(t.project([0,i.wrapLng[1]],d).x/l.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],d).y/l.x),Math.ceil(t.project([i.wrapLat[1],0],d).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,l=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),d=i.getZoomScale(l,this._tileZoom),_=i.project(t,this._tileZoom).floor(),x=i.getSize().divideBy(d*2);return new C(_.subtract(x),_.add(x))},_update:function(t){var i=this._map;if(i){var l=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(t),_=this._pxBoundsToTileRange(d),x=_.getCenter(),E=[],A=this.options.keepBuffer,z=new C(_.getBottomLeft().subtract([A,-A]),_.getTopRight().add([A,-A]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var X=this._tiles[H].coords;(X.z!==this._tileZoom||!z.contains(new F(X.x,X.y)))&&(this._tiles[H].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(t,l);return}for(var pe=_.min.y;pe<=_.max.y;pe++)for(var Te=_.min.x;Te<=_.max.x;Te++){var ht=new F(Te,pe);if(ht.z=this._tileZoom,!!this._isValidTile(ht)){var ot=this._tiles[this._tileCoordsToKey(ht)];ot?ot.current=!0:E.push(ht)}}if(E.sort(function(Tt,Fr){return Tt.distanceTo(x)-Fr.distanceTo(x)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var It=document.createDocumentFragment();for(Te=0;Te<E.length;Te++)this._addTile(E[Te],It);this._level.el.appendChild(It)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var l=this._globalTileRange;if(!i.wrapLng&&(t.x<l.min.x||t.x>l.max.x)||!i.wrapLat&&(t.y<l.min.y||t.y>l.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(t);return ue(this.options.bounds).overlaps(d)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,l=this.getTileSize(),d=t.scaleBy(l),_=d.add(l),x=i.unproject(d,t.z),E=i.unproject(_,t.z);return[x,E]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),l=new fe(i[0],i[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),l=new F(+i[0],+i[1]);return l.z=+i[2],l},_removeTile:function(t){var i=this._tiles[t];i&&(qe(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ke(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=R,t.onmousemove=R,ae.ielt9&&this.options.opacity<1&&bt(t,this.options.opacity)},_addTile:function(t,i){var l=this._getTilePos(t),d=this._tileCoordsToKey(t),_=this.createTile(this._wrapCoords(t),g(this._tileReady,this,t));this._initTile(_),this.createTile.length<2&&we(g(this._tileReady,this,t,null,_)),tt(_,l),this._tiles[d]={el:_,coords:t,current:!0},i.appendChild(_),this.fire("tileloadstart",{tile:_,coords:t})},_tileReady:function(t,i,l){i&&this.fire("tileerror",{error:i,tile:l,coords:t});var d=this._tileCoordsToKey(t);l=this._tiles[d],l&&(l.loaded=+new Date,this._map._fadeAnimated?(bt(l.el,0),Ne(this._fadeFrame),this._fadeFrame=we(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),i||(ke(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ae.ielt9||!this._map._fadeAnimated?we(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new F(this._wrapX?P(t.x,this._wrapX):t.x,this._wrapY?P(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new C(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Dr(t){return new $n(t)}var Fn=$n.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=B(this,i),i.detectRetina&&ae.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var l=document.createElement("img");return xe(l,"load",g(this._tileOnLoad,this,i,l)),xe(l,"error",g(this._tileOnError,this,i,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(t),l},getTileUrl:function(t){var i={r:ae.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=l),i["-y"]=l}return Q(this._url,h(i,this.options))},_tileOnLoad:function(t,i){ae.ielt9?setTimeout(g(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,l){var d=this.options.errorTileUrl;d&&i.getAttribute("src")!==d&&(i.src=d),t(l,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,l=this.options.zoomReverse,d=this.options.zoomOffset;return l&&(t=i-t),t+d},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=R,i.onerror=R,!i.complete)){i.src=Re;var l=this._tiles[t].coords;qe(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:l})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",Re),$n.prototype._removeTile.call(this,t)},_tileReady:function(t,i,l){if(!(!this._map||l&&l.getAttribute("src")===Re))return $n.prototype._tileReady.call(this,t,i,l)}});function Co(t,i){return new Fn(t,i)}var Ei=Fn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var l=h({},this.defaultWmsParams);for(var d in i)d in this.options||(l[d]=i[d]);i=B(this,i);var _=i.detectRetina&&ae.retina?2:1,x=this.getTileSize();l.width=x.x*_,l.height=x.y*_,this.wmsParams=l},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Fn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),l=this._crs,d=$(l.project(i[0]),l.project(i[1])),_=d.min,x=d.max,E=(this._wmsVersion>=1.3&&this._crs===Na?[_.y,_.x,x.y,x.x]:[_.x,_.y,x.x,x.y]).join(","),A=Fn.prototype.getTileUrl.call(this,t);return A+q(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(t,i){return h(this.wmsParams,t),i||this.redraw(),this}});function $a(t,i){return new Ei(t,i)}Fn.WMS=Ei,Co.wms=$a;var hn=Jt.extend({options:{padding:.1},initialize:function(t){B(this,t),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var l=this._map.getZoomScale(i,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,i),x=d.multiplyBy(-l).add(_).subtract(this._map._getNewPixelOrigin(t,i));ae.any3d?Vt(this._container,x,l):tt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),l=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new C(l,l.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lo=hn.extend({options:{tolerance:0},getEvents:function(){var t=hn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){hn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");xe(t,"mousemove",this._onMouseMove,this),xe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xe(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Ne(this._redrawRequest),delete this._ctx,qe(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hn.prototype._update.call(this);var t=this._bounds,i=this._container,l=t.getSize(),d=ae.retina?2:1;tt(i,t.min),i.width=d*l.x,i.height=d*l.y,i.style.width=l.x+"px",i.style.height=l.y+"px",ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){hn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[v(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,l=i.next,d=i.prev;l?l.prev=d:this._drawLast=d,d?d.next=l:this._drawFirst=l,delete t._order,delete this._layers[v(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),l=[],d,_;for(_=0;_<i.length;_++){if(d=Number(i[_]),isNaN(d))return;l.push(d)}t.options._dashArray=l}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||we(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new C,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var l=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)t=d.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var l,d,_,x,E=t._parts,A=E.length,z=this._ctx;if(A){for(z.beginPath(),l=0;l<A;l++){for(d=0,_=E[l].length;d<_;d++)x=E[l][d],z[d?"lineTo":"moveTo"](x.x,x.y);i&&z.closePath()}this._fillStroke(z,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,l=this._ctx,d=Math.max(Math.round(t._radius),1),_=(Math.max(Math.round(t._radiusY),1)||d)/d;_!==1&&(l.save(),l.scale(1,_)),l.beginPath(),l.arc(i.x,i.y/_,d,0,Math.PI*2,!1),_!==1&&l.restore(),this._fillStroke(l,t)}},_fillStroke:function(t,i){var l=i.options;l.fill&&(t.globalAlpha=l.fillOpacity,t.fillStyle=l.fillColor||l.color,t.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=l.opacity,t.lineWidth=l.weight,t.strokeStyle=l.color,t.lineCap=l.lineCap,t.lineJoin=l.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),l,d,_=this._drawFirst;_;_=_.next)l=_.layer,l.options.interactive&&l._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(l))&&(d=l);this._fireEvent(d?[d]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(We(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var l,d,_=this._drawFirst;_;_=_.next)l=_.layer,l.options.interactive&&l._containsPoint(i)&&(d=l);d!==this._hoveredLayer&&(this._handleMouseOut(t),d&&(ke(this._container,"leaflet-interactive"),this._fireEvent([d],t,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,l){this._map._fireDOMEvent(i,l||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var l=i.next,d=i.prev;if(l)l.prev=d;else return;d?d.next=l:l&&(this._drawFirst=l),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var l=i.next,d=i.prev;if(d)d.next=l;else return;l?l.prev=d:d&&(this._drawLast=d),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function Oo(t){return ae.canvas?new Lo(t):null}var Br=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fa={_initContainer:function(){this._container=Ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(hn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Br("shape");ke(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Br("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[v(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;qe(i),t.removeInteractiveTarget(i),delete this._layers[v(t)]},_updateStyle:function(t){var i=t._stroke,l=t._fill,d=t.options,_=t._container;_.stroked=!!d.stroke,_.filled=!!d.fill,d.stroke?(i||(i=t._stroke=Br("stroke")),_.appendChild(i),i.weight=d.weight+"px",i.color=d.color,i.opacity=d.opacity,d.dashArray?i.dashStyle=G(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=d.lineCap.replace("butt","flat"),i.joinstyle=d.lineJoin):i&&(_.removeChild(i),t._stroke=null),d.fill?(l||(l=t._fill=Br("fill")),_.appendChild(l),l.color=d.fillColor||d.color,l.opacity=d.fillOpacity):l&&(_.removeChild(l),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),l=Math.round(t._radius),d=Math.round(t._radiusY||l);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+l+","+d+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Er(t._container)},_bringToBack:function(t){wn(t._container)}},Qt=ae.vml?Br:Gs,ir=hn.extend({_initContainer:function(){this._container=Qt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,l.setAttribute("width",i.x),l.setAttribute("height",i.y)),tt(l,t.min),l.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=Qt("path");t.options.className&&ke(i,t.options.className),t.options.interactive&&ke(i,"leaflet-interactive"),this._updateStyle(t),this._layers[v(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){qe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[v(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,l=t.options;i&&(l.stroke?(i.setAttribute("stroke",l.color),i.setAttribute("stroke-opacity",l.opacity),i.setAttribute("stroke-width",l.weight),i.setAttribute("stroke-linecap",l.lineCap),i.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?i.setAttribute("stroke-dasharray",l.dashArray):i.removeAttribute("stroke-dasharray"),l.dashOffset?i.setAttribute("stroke-dashoffset",l.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),l.fill?(i.setAttribute("fill",l.fillColor||l.color),i.setAttribute("fill-opacity",l.fillOpacity),i.setAttribute("fill-rule",l.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Js(t._parts,i))},_updateCircle:function(t){var i=t._point,l=Math.max(Math.round(t._radius),1),d=Math.max(Math.round(t._radiusY),1)||l,_="a"+l+","+d+" 0 1,0 ",x=t._empty()?"M0 0":"M"+(i.x-l)+","+i.y+_+l*2+",0 "+_+-l*2+",0 ";this._setPath(t,x)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Er(t._path)},_bringToBack:function(t){wn(t._path)}});ae.vml&&ir.include(Fa);function ws(t){return ae.svg||ae.vml?new ir(t):null}Le.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&Oo(t)||ws(t)}});var Wa=En.extend({initialize:function(t,i){En.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ue(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function lu(t,i){return new Wa(t,i)}ir.create=Qt,ir.pointsToPath=Js,un.geometryToLayer=Ir,un.coordsToLatLng=ps,un.coordsToLatLngs=ki,un.latLngToCoords=ms,un.latLngsToCoords=gs,un.getFeature=jr,un.asFeature=_s,Le.mergeOptions({boxZoom:!0});var Ur=zt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ae(),ns(),this._startPoint=this._map.mouseEventToContainerPoint(t),xe(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Ee("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new C(this._point,this._startPoint),l=i.getSize();tt(this._box,i.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(qe(this._box),We(this._container,"leaflet-crosshair")),Cr(),rs(),Be(document,{contextmenu:Kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var i=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Le.addInitHook("addHandler","boxZoom",Ur),Le.mergeOptions({doubleClickZoom:!0});var Ha=zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,l=i.getZoom(),d=i.options.zoomDelta,_=t.originalEvent.shiftKey?l-d:l+d;i.options.doubleClickZoom==="center"?i.setZoom(_):i.setZoomAround(t.containerPoint,_)}});Le.addInitHook("addHandler","doubleClickZoom",Ha),Le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ro=zt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Gt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ue(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),l=this._initialWorldOffset,d=this._draggable._newPos.x,_=(d-i+l)%t+i-l,x=(d+i+l)%t-i-l,E=Math.abs(_+l)<Math.abs(x+l)?_:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(t){var i=this._map,l=i.options,d=!l.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),d)i.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,E=l.easeLinearity,A=_.multiplyBy(E/x),z=A.distanceTo([0,0]),H=Math.min(l.inertiaMaxSpeed,z),X=A.multiplyBy(H/z),pe=H/(l.inertiaDeceleration*E),Te=X.multiplyBy(-pe/2).round();!Te.x&&!Te.y?i.fire("moveend"):(Te=i._limitOffset(Te,i.options.maxBounds),we(function(){i.panBy(Te,{duration:pe,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Le.addInitHook("addHandler","dragging",Ro),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ao=zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),xe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,l=t.scrollTop||i.scrollTop,d=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(d,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},l=this.keyCodes,d,_;for(d=0,_=l.left.length;d<_;d++)i[l.left[d]]=[-1*t,0];for(d=0,_=l.right.length;d<_;d++)i[l.right[d]]=[t,0];for(d=0,_=l.down.length;d<_;d++)i[l.down[d]]=[0,t];for(d=0,_=l.up.length;d<_;d++)i[l.up[d]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},l=this.keyCodes,d,_;for(d=0,_=l.zoomIn.length;d<_;d++)i[l.zoomIn[d]]=t;for(d=0,_=l.zoomOut.length;d<_;d++)i[l.zoomOut[d]]=-t},_addHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,l=this._map,d;if(i in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(d=this._panKeys[i],t.shiftKey&&(d=W(d).multiplyBy(3)),l.options.maxBounds&&(d=l._limitOffset(W(d),l.options.maxBounds)),l.options.worldCopyJump){var _=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(d)));l.panTo(_)}else l.panBy(d)}else if(i in this._zoomKeys)l.setZoom(l.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Kt(t)}}});Le.addInitHook("addHandler","keyboard",Ao),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ue=zt.extend({addHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ea(t),l=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var d=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),d),Kt(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),l=this._map.options.zoomSnap||0;t._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,x=l?Math.ceil(_/l)*l:_,E=t._limitZoom(i+(this._delta>0?x:-x))-i;this._delta=0,this._startTime=null,E&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+E):t.setZoomAround(this._lastMousePos,i+E))}});Le.addInitHook("addHandler","scrollWheelZoom",Ue);var No=600;Le.mergeOptions({tapHold:ae.touchNative&&ae.safari&&ae.mobile,tapTolerance:15});var Ti=zt.extend({addHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new F(i.clientX,i.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(xe(document,"touchend",Ye),xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),No),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Be(document,"touchend",Ye),Be(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new F(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var l=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});l._simulated=!0,i.target.dispatchEvent(l)}});Le.addInitHook("addHandler","tapHold",Ti),Le.mergeOptions({touchZoom:ae.touch,bounceAtZoomLimits:!0});var $r=zt.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var l=i.mouseEventToContainerPoint(t.touches[0]),d=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(l.add(d)._divideBy(2))),this._startDist=l.distanceTo(d),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),Ye(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,l=i.mouseEventToContainerPoint(t.touches[0]),d=i.mouseEventToContainerPoint(t.touches[1]),_=l.distanceTo(d)/this._startDist;if(this._zoom=i.getScaleZoom(_,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&_<1||this._zoom>i.getMaxZoom()&&_>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var x=l._add(d)._divideBy(2)._subtract(this._centerPoint);if(_===1&&x.x===0&&x.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Ne(this._animRequest);var E=g(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=we(E,this,!0),Ye(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ne(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Le.addInitHook("addHandler","touchZoom",$r),Le.BoxZoom=Ur,Le.DoubleClickZoom=Ha,Le.Drag=Ro,Le.Keyboard=Ao,Le.ScrollWheelZoom=Ue,Le.TapHold=Ti,Le.TouchZoom=$r,s.Bounds=C,s.Browser=ae,s.CRS=Oe,s.Canvas=Lo,s.Circle=ds,s.CircleMarker=hs,s.Class=it,s.Control=At,s.DivIcon=ys,s.DivOverlay=cn,s.DomEvent=os,s.DomUtil=_i,s.Draggable=Gt,s.Evented=De,s.FeatureGroup=kn,s.GeoJSON=un,s.GridLayer=$n,s.Handler=zt,s.Icon=rr,s.ImageOverlay=Un,s.LatLng=oe,s.LatLngBounds=fe,s.Layer=Jt,s.LayerGroup=Dn,s.LineUtil=Aa,s.Map=Le,s.Marker=bn,s.Mixin=go,s.Path=Bn,s.Point=F,s.PolyUtil=Yl,s.Polygon=En,s.Polyline=Nt,s.Popup=vs,s.PosAnimation=as,s.Projection=nu,s.Rectangle=Wa,s.Renderer=hn,s.SVG=ir,s.SVGOverlay=To,s.TileLayer=Fn,s.Tooltip=zr,s.Transformation=vr,s.Util=Rt,s.VideoOverlay=Eo,s.bind=g,s.bounds=$,s.canvas=Oo,s.circle=Si,s.circleMarker=Ma,s.control=zn,s.divIcon=Ua,s.extend=h,s.featureGroup=Ia,s.geoJSON=za,s.geoJson=Yt,s.gridLayer=Dr,s.icon=ja,s.imageOverlay=Da,s.latLng=te,s.latLngBounds=ue,s.layerGroup=xi,s.map=Mn,s.marker=su,s.point=W,s.polygon=au,s.polyline=ou,s.popup=Mr,s.rectangle=lu,s.setOptions=B,s.stamp=v,s.svg=ws,s.svgOverlay=Po,s.tileLayer=Co,s.tooltip=bi,s.transformation=yr,s.version=u,s.videoOverlay=Ba;var Za=window.L;s.noConflict=function(){return window.L=Za,this},window.L=s}))})(Jo,Jo.exports)),Jo.exports}var aa=Vp();const Ul=$c(aa);function Zc(a,r,s){return Object.freeze({instance:a,context:r,container:s})}function Vc(a,r){return r==null?function(u,h){const p=he.useRef();return p.current||(p.current=a(u,h)),p}:function(u,h){const p=he.useRef();p.current||(p.current=a(u,h));const g=he.useRef(u),{instance:w}=p.current;return he.useEffect(function(){g.current!==u&&(r(w,u,g.current),g.current=u)},[w,u,h]),p}}function qp(a,r){he.useEffect(function(){return(r.layerContainer??r.map).addLayer(a.instance),function(){var p;(p=r.layerContainer)==null||p.removeLayer(a.instance),r.map.removeLayer(a.instance)}},[r,a])}function vf(a){return function(s){const u=Wc(),h=a(Hc(s,u),u);return pf(u.map,s.attribution),_f(h.current,s.eventHandlers),qp(h.current,u),h}}function Kp(a,r){const s=Vc(a,r),u=vf(s);return $p(u)}function Gp(a,r){const s=Vc(a),u=Hp(s,r);return Fp(u)}function Jp(a,r){const s=Vc(a,r),u=vf(s);return Wp(u)}function Yp(a,r,s){const{opacity:u,zIndex:h}=r;u!=null&&u!==s.opacity&&a.setOpacity(u),h!=null&&h!==s.zIndex&&a.setZIndex(h)}function Qp(){return Wc().map}function Xp(a){const r=Qp();return he.useEffect(function(){return r.on(a),function(){r.off(a)}},[r,a]),r}function Lc(){return Lc=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])}return a},Lc.apply(this,arguments)}function em({bounds:a,boundsOptions:r,center:s,children:u,className:h,id:p,placeholder:g,style:w,whenReady:v,zoom:S,...P},R){const[I]=he.useState({className:h,id:p,style:w}),[j,U]=he.useState(null);he.useImperativeHandle(R,()=>(j==null?void 0:j.map)??null,[j]);const B=he.useCallback(Y=>{if(Y!==null&&j===null){const Q=new aa.Map(Y,P);s!=null&&S!=null?Q.setView(s,S):a!=null&&Q.fitBounds(a,r),v!=null&&Q.whenReady(v),U(Bp(Q))}},[]);he.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const q=j?Ml.createElement(gf,{value:j},u):g??null;return Ml.createElement("div",Lc({},I,{ref:B}),q)}const tm=he.forwardRef(em),$d=Kp(function({position:r,...s},u){const h=new aa.Marker(r,s);return Zc(h,Up(u,{overlayContainer:h}))},function(r,s,u){s.position!==u.position&&r.setLatLng(s.position),s.icon!=null&&s.icon!==u.icon&&r.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==u.zIndexOffset&&r.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==u.opacity&&r.setOpacity(s.opacity),r.dragging!=null&&s.draggable!==u.draggable&&(s.draggable===!0?r.dragging.enable():r.dragging.disable())}),Fd=Gp(function(r,s){const u=new aa.Popup(r,s.overlayContainer);return Zc(u,s)},function(r,s,{position:u},h){he.useEffect(function(){const{instance:g}=r;function w(S){S.popup===g&&(g.update(),h(!0))}function v(S){S.popup===g&&h(!1)}return s.map.on({popupopen:w,popupclose:v}),s.overlayContainer==null?(u!=null&&g.setLatLng(u),g.openOn(s.map)):s.overlayContainer.bindPopup(g),function(){var P;s.map.off({popupopen:w,popupclose:v}),(P=s.overlayContainer)==null||P.unbindPopup(),s.map.removeLayer(g)}},[r,s,h,u])}),nm=Jp(function({url:r,...s},u){const h=new aa.TileLayer(r,Hc(s,u));return Zc(h,u)},function(r,s,u){Yp(r,s,u);const{url:h}=s;h!=null&&h!==u.url&&r.setUrl(h)});delete Ul.Icon.Default.prototype._getIconUrl;Ul.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const rm=new Ul.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),im=new Ul.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function sm({onMapClick:a,disabled:r}){return Xp({click:s=>{r||a(s.latlng.lat,s.latlng.lng)}}),null}const yf=({center:a,zoom:r=15,onMapClick:s,guessLocation:u,actualLocation:h,showResult:p=!1,disabled:g=!1})=>b.jsxs(tm,{center:a,zoom:r,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[b.jsx(nm,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s&&b.jsx(sm,{onMapClick:s,disabled:g||p}),u&&b.jsx($d,{position:[u.lat,u.lng],icon:rm,children:b.jsx(Fd,{children:"Your Guess"})}),p&&h&&b.jsx($d,{position:[h.latitude,h.longitude],icon:im,children:b.jsx(Fd,{children:h.name})})]}),om=(a,r,s,u)=>{const p=(s-a)*Math.PI/180,g=(u-r)*Math.PI/180,w=Math.sin(p/2)*Math.sin(p/2)+Math.cos(a*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(g/2)*Math.sin(g/2);return 6371e3*(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)))},am=a=>a>500?0:Math.round(5e3*(1-a/500)),lm=(a,r,s)=>{const u=om(a,r,s.latitude,s.longitude),h=am(u);return{latitude:a,longitude:r,distance:u,score:h}};function $l(a,r){var s={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&r.indexOf(u)<0&&(s[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,u=Object.getOwnPropertySymbols(a);h<u.length;h++)r.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(a,u[h])&&(s[u[h]]=a[u[h]]);return s}function um(a,r,s,u){function h(p){return p instanceof s?p:new s(function(g){g(p)})}return new(s||(s=Promise))(function(p,g){function w(P){try{S(u.next(P))}catch(R){g(R)}}function v(P){try{S(u.throw(P))}catch(R){g(R)}}function S(P){P.done?p(P.value):h(P.value).then(w,v)}S((u=u.apply(a,r||[])).next())})}const cm=a=>a?(...r)=>a(...r):(...r)=>fetch(...r);class qc extends Error{constructor(r,s="FunctionsError",u){super(r),this.name=s,this.context=u}}class hm extends qc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Wd extends qc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Hd extends qc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Oc;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Oc||(Oc={}));class dm{constructor(r,{headers:s={},customFetch:u,region:h=Oc.Any}={}){this.url=r,this.headers=s,this.region=h,this.fetch=cm(u)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return um(this,arguments,void 0,function*(s,u={}){var h;let p,g;try{const{headers:w,method:v,body:S,signal:P,timeout:R}=u;let I={},{region:j}=u;j||(j=this.region);const U=new URL(`${this.url}/${s}`);j&&j!=="any"&&(I["x-region"]=j,U.searchParams.set("forceFunctionRegion",j));let B;S&&(w&&!Object.prototype.hasOwnProperty.call(w,"Content-Type")||!w)?typeof Blob<"u"&&S instanceof Blob||S instanceof ArrayBuffer?(I["Content-Type"]="application/octet-stream",B=S):typeof S=="string"?(I["Content-Type"]="text/plain",B=S):typeof FormData<"u"&&S instanceof FormData?B=S:(I["Content-Type"]="application/json",B=JSON.stringify(S)):S&&typeof S!="string"&&!(typeof Blob<"u"&&S instanceof Blob)&&!(S instanceof ArrayBuffer)&&!(typeof FormData<"u"&&S instanceof FormData)?B=JSON.stringify(S):B=S;let q=P;R&&(g=new AbortController,p=setTimeout(()=>g.abort(),R),P?(q=g.signal,P.addEventListener("abort",()=>g.abort())):q=g.signal);const Y=yield this.fetch(U.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},I),this.headers),w),body:B,signal:q}).catch(Re=>{throw new hm(Re)}),Q=Y.headers.get("x-relay-error");if(Q&&Q==="true")throw new Wd(Y);if(!Y.ok)throw new Hd(Y);let G=((h=Y.headers.get("Content-Type"))!==null&&h!==void 0?h:"text/plain").split(";")[0].trim(),ie;return G==="application/json"?ie=yield Y.json():G==="application/octet-stream"||G==="application/pdf"?ie=yield Y.blob():G==="text/event-stream"?ie=Y:G==="multipart/form-data"?ie=yield Y.formData():ie=yield Y.text(),{data:ie,error:null,response:Y}}catch(w){return{data:null,error:w,response:w instanceof Hd||w instanceof Wd?w.context:void 0}}finally{p&&clearTimeout(p)}})}}var fm=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},pm=class{constructor(a){var r,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(r=a.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,r){return this.headers=new Headers(this.headers),this.headers.set(a,r),this}then(a,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{let g=null,w=null,v=null,S=p.status,P=p.statusText;if(p.ok){var R,I;if(s.method!=="HEAD"){var j;const Y=await p.text();Y===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((j=s.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?w=Y:w=JSON.parse(Y))}const B=(R=s.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),q=(I=p.headers.get("content-range"))===null||I===void 0?void 0:I.split("/");B&&q&&q.length>1&&(v=parseInt(q[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(w)&&(w.length>1?(g={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,S=406,P="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{var U;const B=await p.text();try{g=JSON.parse(B),Array.isArray(g)&&p.status===404&&(w=[],g=null,S=200,P="OK")}catch{p.status===404&&B===""?(S=204,P="No Content"):g={message:B}}if(g&&s.isMaybeSingle&&(!(g==null||(U=g.details)===null||U===void 0)&&U.includes("0 rows"))&&(g=null,S=200,P="OK"),g&&s.shouldThrowOnError)throw new fm(g)}return{error:g,data:w,count:v,status:S,statusText:P}});return this.shouldThrowOnError||(h=h.catch(p=>{var g;let w="";const v=p==null?void 0:p.cause;if(v){var S,P,R,I;const U=(S=v==null?void 0:v.message)!==null&&S!==void 0?S:"",B=(P=v==null?void 0:v.code)!==null&&P!==void 0?P:"";w=`${(R=p==null?void 0:p.name)!==null&&R!==void 0?R:"FetchError"}: ${p==null?void 0:p.message}`,w+=`

Caused by: ${(I=v==null?void 0:v.name)!==null&&I!==void 0?I:"Error"}: ${U}`,B&&(w+=` (${B})`),v!=null&&v.stack&&(w+=`
${v.stack}`)}else{var j;w=(j=p==null?void 0:p.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(a,r)}returns(){return this}overrideTypes(){return this}},mm=class extends pm{select(a){let r=!1;const s=(a??"*").split("").map(u=>/\s/.test(u)&&!r?"":(u==='"'&&(r=!r),u)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:r=!0,nullsFirst:s,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${a}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:r,referencedTable:s=r}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,r,{foreignTable:s,referencedTable:u=s}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(p,`${r-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:r=!1,settings:s=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var g;const w=[a?"analyze":null,r?"verbose":null,s?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const Zd=new RegExp("[,()]");var Ws=class extends mm{eq(a,r){return this.url.searchParams.append(a,`eq.${r}`),this}neq(a,r){return this.url.searchParams.append(a,`neq.${r}`),this}gt(a,r){return this.url.searchParams.append(a,`gt.${r}`),this}gte(a,r){return this.url.searchParams.append(a,`gte.${r}`),this}lt(a,r){return this.url.searchParams.append(a,`lt.${r}`),this}lte(a,r){return this.url.searchParams.append(a,`lte.${r}`),this}like(a,r){return this.url.searchParams.append(a,`like.${r}`),this}likeAllOf(a,r){return this.url.searchParams.append(a,`like(all).{${r.join(",")}}`),this}likeAnyOf(a,r){return this.url.searchParams.append(a,`like(any).{${r.join(",")}}`),this}ilike(a,r){return this.url.searchParams.append(a,`ilike.${r}`),this}ilikeAllOf(a,r){return this.url.searchParams.append(a,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(a,r){return this.url.searchParams.append(a,`ilike(any).{${r.join(",")}}`),this}regexMatch(a,r){return this.url.searchParams.append(a,`match.${r}`),this}regexIMatch(a,r){return this.url.searchParams.append(a,`imatch.${r}`),this}is(a,r){return this.url.searchParams.append(a,`is.${r}`),this}isDistinct(a,r){return this.url.searchParams.append(a,`isdistinct.${r}`),this}in(a,r){const s=Array.from(new Set(r)).map(u=>typeof u=="string"&&Zd.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}notIn(a,r){const s=Array.from(new Set(r)).map(u=>typeof u=="string"&&Zd.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`not.in.(${s})`),this}contains(a,r){return typeof r=="string"?this.url.searchParams.append(a,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(a,`cs.{${r.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(r)}`),this}containedBy(a,r){return typeof r=="string"?this.url.searchParams.append(a,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(a,`cd.{${r.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(r)}`),this}rangeGt(a,r){return this.url.searchParams.append(a,`sr.${r}`),this}rangeGte(a,r){return this.url.searchParams.append(a,`nxl.${r}`),this}rangeLt(a,r){return this.url.searchParams.append(a,`sl.${r}`),this}rangeLte(a,r){return this.url.searchParams.append(a,`nxr.${r}`),this}rangeAdjacent(a,r){return this.url.searchParams.append(a,`adj.${r}`),this}overlaps(a,r){return typeof r=="string"?this.url.searchParams.append(a,`ov.${r}`):this.url.searchParams.append(a,`ov.{${r.join(",")}}`),this}textSearch(a,r,{config:s,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${h}fts${p}.${r}`),this}match(a){return Object.entries(a).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(a,r,s){return this.url.searchParams.append(a,`not.${r}.${s}`),this}or(a,{foreignTable:r,referencedTable:s=r}={}){const u=s?`${s}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,r,s){return this.url.searchParams.append(a,`${r}.${s}`),this}},gm=class{constructor(a,{headers:r={},schema:s,fetch:u}){this.url=a,this.headers=new Headers(r),this.schema=s,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,r){const{head:s=!1,count:u}=r??{},h=s?"HEAD":"GET";let p=!1;const g=(a??"*").split("").map(S=>/\s/.test(S)&&!p?"":(S==='"'&&(p=!p),S)).join(""),{url:w,headers:v}=this.cloneRequestState();return w.searchParams.set("select",g),u&&v.append("Prefer",`count=${u}`),new Ws({method:h,url:w,headers:v,schema:this.schema,fetch:this.fetch})}insert(a,{count:r,defaultToNull:s=!0}={}){var u;const h="POST",{url:p,headers:g}=this.cloneRequestState();if(r&&g.append("Prefer",`count=${r}`),s||g.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((v,S)=>v.concat(Object.keys(S)),[]);if(w.length>0){const v=[...new Set(w)].map(S=>`"${S}"`);p.searchParams.set("columns",v.join(","))}}return new Ws({method:h,url:p,headers:g,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:r,ignoreDuplicates:s=!1,count:u,defaultToNull:h=!0}={}){var p;const g="POST",{url:w,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&w.searchParams.set("on_conflict",r),u&&v.append("Prefer",`count=${u}`),h||v.append("Prefer","missing=default"),Array.isArray(a)){const S=a.reduce((P,R)=>P.concat(Object.keys(R)),[]);if(S.length>0){const P=[...new Set(S)].map(R=>`"${R}"`);w.searchParams.set("columns",P.join(","))}}return new Ws({method:g,url:w,headers:v,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:r}={}){var s;const u="PATCH",{url:h,headers:p}=this.cloneRequestState();return r&&p.append("Prefer",`count=${r}`),new Ws({method:u,url:h,headers:p,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var r;const s="DELETE",{url:u,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new Ws({method:s,url:u,headers:h,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},_m=class wf{constructor(r,{headers:s={},schema:u,fetch:h}={}){this.url=r,this.headers=new Headers(s),this.schemaName=u,this.fetch=h}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new gm(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new wf(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:u=!1,get:h=!1,count:p}={}){var g;let w;const v=new URL(`${this.url}/rpc/${r}`);let S;const P=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(P)),R=u&&Object.values(s).some(P);R?(w="POST",S=s):u||h?(w=u?"HEAD":"GET",Object.entries(s).filter(([j,U])=>U!==void 0).map(([j,U])=>[j,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([j,U])=>{v.searchParams.append(j,U)})):(w="POST",S=s);const I=new Headers(this.headers);return R?I.set("Prefer",p?`count=${p},return=minimal`:"return=minimal"):p&&I.set("Prefer",`count=${p}`),new Ws({method:w,url:v,headers:I,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};class vm{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const u=s.versions;if(u&&u.node){const h=u.node,p=parseInt(h.replace(/^v/,"").split(".")[0]);return p>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${p} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${p} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const u=this.getWebSocketConstructor();return new u(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const ym="2.91.1",wm=`realtime-js/${ym}`,xm="1.0.0",xf="2.0.0",Vd=xf,Rc=1e4,Sm=1e3,km=100;var ii;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(ii||(ii={}));var pt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(pt||(pt={}));var Nn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Nn||(Nn={}));var Ac;(function(a){a.websocket="websocket"})(Ac||(Ac={}));var $i;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})($i||($i={}));class bm{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let u=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,u;const h=(u=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,h)}_encodeJsonUserBroadcastPush(r){var s,u;const h=(u=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&u!==void 0?u:{},g=new TextEncoder().encode(JSON.stringify(h)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,g)}_encodeUserBroadcastPush(r,s,u){var h,p;const g=r.topic,w=(h=r.ref)!==null&&h!==void 0?h:"",v=(p=r.join_ref)!==null&&p!==void 0?p:"",S=r.payload.event,P=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},R=Object.keys(P).length===0?"":JSON.stringify(P);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`ref length ${w.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`topic length ${g.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`userEvent length ${S.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const I=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+w.length+g.length+S.length+R.length,j=new ArrayBuffer(this.HEADER_LENGTH+I);let U=new DataView(j),B=0;U.setUint8(B++,this.KINDS.userBroadcastPush),U.setUint8(B++,v.length),U.setUint8(B++,w.length),U.setUint8(B++,g.length),U.setUint8(B++,S.length),U.setUint8(B++,R.length),U.setUint8(B++,s),Array.from(v,Y=>U.setUint8(B++,Y.charCodeAt(0))),Array.from(w,Y=>U.setUint8(B++,Y.charCodeAt(0))),Array.from(g,Y=>U.setUint8(B++,Y.charCodeAt(0))),Array.from(S,Y=>U.setUint8(B++,Y.charCodeAt(0))),Array.from(R,Y=>U.setUint8(B++,Y.charCodeAt(0)));var q=new Uint8Array(j.byteLength+u.byteLength);return q.set(new Uint8Array(j),0),q.set(new Uint8Array(u),j.byteLength),q.buffer}decode(r,s){if(this._isArrayBuffer(r)){let u=this._binaryDecode(r);return s(u)}if(typeof r=="string"){const u=JSON.parse(r),[h,p,g,w,v]=u;return s({join_ref:h,ref:p,topic:g,event:w,payload:v})}return s({})}_binaryDecode(r){const s=new DataView(r),u=s.getUint8(0),h=new TextDecoder;switch(u){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,h)}}_decodeUserBroadcast(r,s,u){const h=s.getUint8(1),p=s.getUint8(2),g=s.getUint8(3),w=s.getUint8(4);let v=this.HEADER_LENGTH+4;const S=u.decode(r.slice(v,v+h));v=v+h;const P=u.decode(r.slice(v,v+p));v=v+p;const R=u.decode(r.slice(v,v+g));v=v+g;const I=r.slice(v,r.byteLength),j=w===this.JSON_ENCODING?JSON.parse(u.decode(I)):I,U={type:this.BROADCAST_EVENT,event:P,payload:j};return g>0&&(U.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:S,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([u])=>s.includes(u)))}}class Sf{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ze||(Ze={}));const qd=(a,r,s={})=>{var u;const h=(u=s.skipTypes)!==null&&u!==void 0?u:[];return r?Object.keys(r).reduce((p,g)=>(p[g]=Em(g,a,r,h),p),{}):{}},Em=(a,r,s,u)=>{const h=r.find(w=>w.name===a),p=h==null?void 0:h.type,g=s[a];return p&&!u.includes(p)?kf(p,g):Nc(g)},kf=(a,r)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return Lm(r,s)}switch(a){case Ze.bool:return Tm(r);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return Pm(r);case Ze.json:case Ze.jsonb:return Cm(r);case Ze.timestamp:return Om(r);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Nc(r);default:return Nc(r)}},Nc=a=>a,Tm=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Pm=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},Cm=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},Lm=(a,r)=>{if(typeof a!="string")return a;const s=a.length-1,u=a[s];if(a[0]==="{"&&u==="}"){let p;const g=a.slice(1,s);try{p=JSON.parse("["+g+"]")}catch{p=g?g.split(","):[]}return p.map(w=>kf(r,w))}return a},Om=a=>typeof a=="string"?a.replace(" ","T"):a,bf=a=>{const r=new URL(a);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class yc{constructor(r,s,u={},h=Rc){this.channel=r,this.event=s,this.payload=u,this.timeout=h,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var u;return this._hasReceived(r)&&s((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(u=>u.status===r).forEach(u=>u.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Kd;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Kd||(Kd={}));class Qo{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},h=>{const{onJoin:p,onLeave:g,onSync:w}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qo.syncState(this.state,h,p,g),this.pendingDiffs.forEach(v=>{this.state=Qo.syncDiff(this.state,v,p,g)}),this.pendingDiffs=[],w()}),this.channel._on(u.diff,{},h=>{const{onJoin:p,onLeave:g,onSync:w}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(h):(this.state=Qo.syncDiff(this.state,h,p,g),w())}),this.onJoin((h,p,g)=>{this.channel._trigger("presence",{event:"join",key:h,currentPresences:p,newPresences:g})}),this.onLeave((h,p,g)=>{this.channel._trigger("presence",{event:"leave",key:h,currentPresences:p,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,u,h){const p=this.cloneDeep(r),g=this.transformState(s),w={},v={};return this.map(p,(S,P)=>{g[S]||(v[S]=P)}),this.map(g,(S,P)=>{const R=p[S];if(R){const I=P.map(q=>q.presence_ref),j=R.map(q=>q.presence_ref),U=P.filter(q=>j.indexOf(q.presence_ref)<0),B=R.filter(q=>I.indexOf(q.presence_ref)<0);U.length>0&&(w[S]=U),B.length>0&&(v[S]=B)}else w[S]=P}),this.syncDiff(p,{joins:w,leaves:v},u,h)}static syncDiff(r,s,u,h){const{joins:p,leaves:g}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return u||(u=()=>{}),h||(h=()=>{}),this.map(p,(w,v)=>{var S;const P=(S=r[w])!==null&&S!==void 0?S:[];if(r[w]=this.cloneDeep(v),P.length>0){const R=r[w].map(j=>j.presence_ref),I=P.filter(j=>R.indexOf(j.presence_ref)<0);r[w].unshift(...I)}u(w,P,v)}),this.map(g,(w,v)=>{let S=r[w];if(!S)return;const P=v.map(R=>R.presence_ref);S=S.filter(R=>P.indexOf(R.presence_ref)<0),r[w]=S,h(w,S,v),S.length===0&&delete r[w]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(u=>s(u,r[u]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,u)=>{const h=r[u];return"metas"in h?s[u]=h.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):s[u]=h,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gd;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Gd||(Gd={}));var Xo;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Xo||(Xo={}));var gr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class Vs{constructor(r,s={config:{}},u){var h,p;if(this.topic=r,this.params=s,this.socket=u,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new yc(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new Sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(g=>g.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(g,w)=>{this._trigger(this._replyEventName(w),g)}),this.presence=new Qo(this),this.broadcastEndpointURL=bf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((p=(h=this.params.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var u,h,p;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:g,presence:w,private:v}}=this.params,S=(h=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(j=>j.filter))!==null&&h!==void 0?h:[],P=!!this.bindings[Xo.PRESENCE]&&this.bindings[Xo.PRESENCE].length>0||((p=this.params.config.presence)===null||p===void 0?void 0:p.enabled)===!0,R={},I={broadcast:g,presence:Object.assign(Object.assign({},w),{enabled:P}),postgres_changes:S,private:v};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(j=>r==null?void 0:r(gr.CHANNEL_ERROR,j)),this._onClose(()=>r==null?void 0:r(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:I},R)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:j})=>{var U;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){r==null||r(gr.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,q=(U=B==null?void 0:B.length)!==null&&U!==void 0?U:0,Y=[];for(let Q=0;Q<q;Q++){const G=B[Q],{filter:{event:ie,schema:Re,table:de,filter:be}}=G,Fe=j&&j[Q];if(Fe&&Fe.event===ie&&Vs.isFilterValueEqual(Fe.schema,Re)&&Vs.isFilterValueEqual(Fe.table,de)&&Vs.isFilterValueEqual(Fe.filter,be))Y.push(Object.assign(Object.assign({},G),{id:Fe.id}));else{this.unsubscribe(),this.state=pt.errored,r==null||r(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,r&&r(gr.SUBSCRIBED);return}}).receive("error",j=>{this.state=pt.errored,r==null||r(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,u){return this.state===pt.joined&&r===Xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,u)}async httpSend(r,s,u={}){var h;if(s==null)return Promise.reject("Payload is required for httpSend()");const p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},w=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(h=u.timeout)!==null&&h!==void 0?h:this.timeout);if(w.status===202)return{success:!0};let v=w.statusText;try{const S=await w.json();v=S.error||S.message||v}catch{}return Promise.reject(new Error(v))}async send(r,s={}){var u,h;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:p,payload:g}=r,w={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(w.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:w,body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:g,private:this.private}]})};try{const S=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);return await((h=S.body)===null||h===void 0?void 0:h.cancel()),S.ok?"ok":"error"}catch(S){return S.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var g,w,v;const S=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((v=(w=(g=this.params)===null||g===void 0?void 0:g.config)===null||w===void 0?void 0:w.broadcast)===null||v===void 0)&&v.ack)&&p("ok"),S.receive("ok",()=>p("ok")),S.receive("error",()=>p("error")),S.receive("timeout",()=>p("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=pt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(h=>{u=new yc(this,Nn.leave,{},r),u.receive("ok",()=>{s(),h("ok")}).receive("timeout",()=>{s(),h("timed out")}).receive("error",()=>{h("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u==null||u.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(r,s,u){const h=new AbortController,p=setTimeout(()=>h.abort(),u),g=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:h.signal}));return clearTimeout(p),g}_push(r,s,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let h=new yc(this,r,s,u);return this._canPush()?h.send():this._addToPushBuffer(h),h}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>km){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,u){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,u){var h,p;const g=r.toLocaleLowerCase(),{close:w,error:v,leave:S,join:P}=Nn;if(u&&[w,v,S,P].indexOf(g)>=0&&u!==this._joinRef())return;let I=this._onMessage(g,s,u);if(s&&!I)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(h=this.bindings.postgres_changes)===null||h===void 0||h.filter(j=>{var U,B,q;return((U=j.filter)===null||U===void 0?void 0:U.event)==="*"||((q=(B=j.filter)===null||B===void 0?void 0:B.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===g}).map(j=>j.callback(I,u)):(p=this.bindings[g])===null||p===void 0||p.filter(j=>{var U,B,q,Y,Q,G,ie,Re;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in j){const de=j.id,be=(U=j.filter)===null||U===void 0?void 0:U.event;return de&&((B=s.ids)===null||B===void 0?void 0:B.includes(de))&&(be==="*"||(be==null?void 0:be.toLocaleLowerCase())===((q=s.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))&&(!(!((Y=j.filter)===null||Y===void 0)&&Y.table)||j.filter.table===((Q=s.data)===null||Q===void 0?void 0:Q.table))}else{const de=(ie=(G=j==null?void 0:j.filter)===null||G===void 0?void 0:G.event)===null||ie===void 0?void 0:ie.toLocaleLowerCase();return de==="*"||de===((Re=s==null?void 0:s.event)===null||Re===void 0?void 0:Re.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===g}).map(j=>{if(typeof I=="object"&&"ids"in I){const U=I.data,{schema:B,table:q,commit_timestamp:Y,type:Q,errors:G}=U;I=Object.assign(Object.assign({},{schema:B,table:q,commit_timestamp:Y,eventType:Q,new:{},old:{},errors:G}),this._getPayloadRecords(U))}j.callback(I,u)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,u){const h=r.toLocaleLowerCase(),p={type:h,filter:s,callback:u};return this.bindings[h]?this.bindings[h].push(p):this.bindings[h]=[p],this}_off(r,s){const u=r.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(h=>{var p;return!(((p=h.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===u&&Vs.isEqual(h.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const u in r)if(r[u]!==s[u])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Nn.close,{},r)}_onError(r){this._on(Nn.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=qd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=qd(r.columns,r.old_record)),s}}const wc=()=>{},Al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rm=[1e3,2e3,5e3,1e4],Am=1e4,Nm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Im{constructor(r,s){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rc,this.transport=null,this.heartbeatIntervalMs=Al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wc,this.ref=0,this.reconnectTimer=null,this.vsn=Vd,this.logger=wc,this.conn=null,this.sendBuffer=[],this.serializer=new bm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=h=>h?(...p)=>h(...p):(...p)=>fetch(...p),!(!((u=s==null?void 0:s.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Ac.websocket}`,this.httpEndpoint=bf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vm.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,u){this.logger(r,s,u)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return $i.Connecting;case ii.open:return $i.Open;case ii.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const u=`realtime:${r}`,h=this.getChannels().find(p=>p.topic===u);if(h)return h;{const p=new Vs(`realtime:${r}`,s,this);return this.channels.push(p),p}}push(r){const{topic:s,event:u,payload:h,ref:p}=r,g=()=>{this.encode(r,w=>{var v;(v=this.conn)===null||v===void 0||v.send(w)})};this.log("push",`${s} ${u} (${p})`,h),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Sm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Al.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(u=>u.topic===r&&(u._isJoined()||u._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const S=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",S)}catch(P){this.log("error","error in heartbeat callback",P)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:h,payload:p,ref:g}=s,w=g?`(${g})`:"",v=p.status||"";this.log("receive",`${v} ${u} ${h} ${w}`.trim(),p),this.channels.filter(S=>S._isMember(u)).forEach(S=>S._trigger(h,p,g)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===ii.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ii.open||this.conn.readyState===ii.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Nn.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const u=r.match(/\?/)?"&":"?",h=new URLSearchParams(s);return`${r}${u}${h}`}_workerObjectUrl(r){let s;if(r)s=r;else{const u=new Blob([Nm],{type:"application/javascript"});s=URL.createObjectURL(u)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,u=!1;if(r)s=r,u=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(h){this.log("error","Error fetching access token from callback",h),s=this.accessTokenValue}else s=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(h=>{const p={access_token:s,version:wm};s&&h.updateJoinPayload(p),h.joinedOnce&&h._isJoined()&&h._push(Nn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(u=>{try{u(s)}catch(h){this.log("error",`error in ${r} callback`,h)}})}catch(u){this.log("error",`error triggering ${r} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new Sf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,u,h,p,g,w,v,S,P,R,I,j;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(u=r==null?void 0:r.timeout)!==null&&u!==void 0?u:Rc,this.heartbeatIntervalMs=(h=r==null?void 0:r.heartbeatIntervalMs)!==null&&h!==void 0?h:Al.HEARTBEAT_INTERVAL,this.worker=(p=r==null?void 0:r.worker)!==null&&p!==void 0?p:!1,this.accessToken=(g=r==null?void 0:r.accessToken)!==null&&g!==void 0?g:null,this.heartbeatCallback=(w=r==null?void 0:r.heartbeatCallback)!==null&&w!==void 0?w:wc,this.vsn=(v=r==null?void 0:r.vsn)!==null&&v!==void 0?v:Vd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(S=r==null?void 0:r.reconnectAfterMs)!==null&&S!==void 0?S:(U=>Rm[U-1]||Am),this.vsn){case xm:this.encode=(P=r==null?void 0:r.encode)!==null&&P!==void 0?P:((U,B)=>B(JSON.stringify(U))),this.decode=(R=r==null?void 0:r.decode)!==null&&R!==void 0?R:((U,B)=>B(JSON.parse(U)));break;case xf:this.encode=(I=r==null?void 0:r.encode)!==null&&I!==void 0?I:this.serializer.encode.bind(this.serializer),this.decode=(j=r==null?void 0:r.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var ta=class extends Error{constructor(a,r){var s;super(a),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jm(a,r,s){const u=new URL(r,a);if(s)for(const[h,p]of Object.entries(s))p!==void 0&&u.searchParams.set(h,p);return u.toString()}async function Mm(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function zm(a){const r=a.fetchImpl??globalThis.fetch;return{async request({method:s,path:u,query:h,body:p,headers:g}){const w=jm(a.baseUrl,u,h),v=await Mm(a.auth),S=await r(w,{method:s,headers:{...p?{"Content-Type":"application/json"}:{},...v,...g},body:p?JSON.stringify(p):void 0}),P=await S.text(),R=(S.headers.get("content-type")||"").includes("application/json"),I=R&&P?JSON.parse(P):P;if(!S.ok){const j=R?I:void 0,U=j==null?void 0:j.error;throw new ta((U==null?void 0:U.message)??`Request failed with status ${S.status}`,{status:S.status,icebergType:U==null?void 0:U.type,icebergCode:U==null?void 0:U.code,details:j})}return{status:S.status,headers:S.headers,data:I}}}}function Nl(a){return a.join("")}var Dm=class{constructor(a,r=""){this.client=a,this.prefix=r}async listNamespaces(a){const r=a?{parent:Nl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(a,r){const s={namespace:a.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nl(a.namespace)}`}),!0}catch(r){if(r instanceof ta&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(a,r){try{return await this.createNamespace(a,r)}catch(s){if(s instanceof ta&&s.status===409)return;throw s}}};function Ms(a){return a.join("")}var Bm=class{constructor(a,r="",s){this.client=a,this.prefix=r,this.accessDelegation=s}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(a.namespace)}/tables`})).data.identifiers}async createTable(a,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(a.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(a,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(a.namespace)}/tables/${a.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(a,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(a.namespace)}/tables/${a.name}`,headers:r})).data.metadata}async tableExists(a){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(a.namespace)}/tables/${a.name}`,headers:r}),!0}catch(s){if(s instanceof ta&&s.status===404)return!1;throw s}}async createTableIfNotExists(a,r){try{return await this.createTable(a,r)}catch(s){if(s instanceof ta&&s.status===409)return await this.loadTable({namespace:a.namespace,name:r.name});throw s}}},Um=class{constructor(a){var u;let r="v1";a.catalogName&&(r+=`/${a.catalogName}`);const s=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=zm({baseUrl:s,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(u=a.accessDelegation)==null?void 0:u.join(","),this.namespaceOps=new Dm(this.client,r),this.tableOps=new Bm(this.client,r,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,r){return this.namespaceOps.createNamespace(a,r)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,r){return this.tableOps.createTable(a,r)}async updateTable(a,r){return this.tableOps.updateTable(a,r)}async dropTable(a,r){await this.tableOps.dropTable(a,r)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,r){return this.namespaceOps.createNamespaceIfNotExists(a,r)}async createTableIfNotExists(a,r){return this.tableOps.createTableIfNotExists(a,r)}},Fl=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function et(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var $m=class extends Fl{constructor(a,r,s){super(a),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ic=class extends Fl{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}};const Kc=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),Fm=()=>Response,jc=a=>{if(Array.isArray(a))return a.map(s=>jc(s));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([s,u])=>{const h=s.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));r[h]=jc(u)}),r},Wm=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Hm=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function na(a){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},na(a)}function Zm(a,r){if(na(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var u=s.call(a,r);if(na(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}function Vm(a){var r=Zm(a,"string");return na(r)=="symbol"?r:r+""}function qm(a,r,s){return(r=Vm(r))in a?Object.defineProperty(a,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[r]=s,a}function Jd(a,r){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),s.push.apply(s,u)}return s}function ye(a){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Jd(Object(s),!0).forEach(function(u){qm(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Jd(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}const xc=a=>{var r;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(r=a.error)===null||r===void 0?void 0:r.message)||JSON.stringify(a)},Km=async(a,r,s)=>{a instanceof await Fm()&&!(s!=null&&s.noResolveJson)?a.json().then(u=>{const h=a.status||500,p=(u==null?void 0:u.statusCode)||h+"";r(new $m(xc(u),h,p))}).catch(u=>{r(new Ic(xc(u),u))}):r(new Ic(xc(a),a))},Gm=(a,r,s,u)=>{const h={method:a,headers:(r==null?void 0:r.headers)||{}};return a==="GET"||!u?h:(Wm(u)?(h.headers=ye({"Content-Type":"application/json"},r==null?void 0:r.headers),h.body=JSON.stringify(u)):h.body=u,r!=null&&r.duplex&&(h.duplex=r.duplex),ye(ye({},h),s))};async function la(a,r,s,u,h,p){return new Promise((g,w)=>{a(s,Gm(r,u,h,p)).then(v=>{if(!v.ok)throw v;return u!=null&&u.noResolveJson?v:v.json()}).then(v=>g(v)).catch(v=>Km(v,w,u))})}async function ra(a,r,s,u){return la(a,"GET",r,s,u)}async function An(a,r,s,u,h){return la(a,"POST",r,u,h,s)}async function Mc(a,r,s,u,h){return la(a,"PUT",r,u,h,s)}async function Jm(a,r,s,u){return la(a,"HEAD",r,ye(ye({},s),{},{noResolveJson:!0}),u)}async function Gc(a,r,s,u,h){return la(a,"DELETE",r,u,h,s)}var Ym=class{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}};let Ef;Ef=Symbol.toStringTag;var Qm=class{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Ef]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ym(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}};const Xm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eg=class{constructor(a,r={},s,u){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=s,this.fetch=Kc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,r,s,u){var h=this;try{let p;const g=ye(ye({},Yd),u);let w=ye(ye({},h.headers),a==="POST"&&{"x-upsert":String(g.upsert)});const v=g.metadata;typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),v&&p.append("metadata",h.encodeMetadata(v)),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.has("cacheControl")||p.append("cacheControl",g.cacheControl),v&&!p.has("metadata")&&p.append("metadata",h.encodeMetadata(v))):(p=s,w["cache-control"]=`max-age=${g.cacheControl}`,w["content-type"]=g.contentType,v&&(w["x-metadata"]=h.toBase64(h.encodeMetadata(v))),(typeof ReadableStream<"u"&&p instanceof ReadableStream||p&&typeof p=="object"&&"pipe"in p&&typeof p.pipe=="function")&&!g.duplex&&(g.duplex="half")),u!=null&&u.headers&&(w=ye(ye({},w),u.headers));const S=h._removeEmptyFolders(r),P=h._getFinalPath(S),R=await(a=="PUT"?Mc:An)(h.fetch,`${h.url}/object/${P}`,p,ye({headers:w},g!=null&&g.duplex?{duplex:g.duplex}:{}));return{data:{path:S,id:R.Id,fullPath:R.Key},error:null}}catch(p){if(h.shouldThrowOnError)throw p;if(et(p))return{data:null,error:p};throw p}}async upload(a,r,s){return this.uploadOrUpdate("POST",a,r,s)}async uploadToSignedUrl(a,r,s,u){var h=this;const p=h._removeEmptyFolders(a),g=h._getFinalPath(p),w=new URL(h.url+`/object/upload/sign/${g}`);w.searchParams.set("token",r);try{let v;const S=ye({upsert:Yd.upsert},u),P=ye(ye({},h.headers),{"x-upsert":String(S.upsert)});return typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",S.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",S.cacheControl)):(v=s,P["cache-control"]=`max-age=${S.cacheControl}`,P["content-type"]=S.contentType),{data:{path:p,fullPath:(await Mc(h.fetch,w.toString(),v,{headers:P})).Key},error:null}}catch(v){if(h.shouldThrowOnError)throw v;if(et(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(a,r){var s=this;try{let u=s._getFinalPath(a);const h=ye({},s.headers);r!=null&&r.upsert&&(h["x-upsert"]="true");const p=await An(s.fetch,`${s.url}/object/upload/sign/${u}`,{},{headers:h}),g=new URL(s.url+p.url),w=g.searchParams.get("token");if(!w)throw new Fl("No token returned by API");return{data:{signedUrl:g.toString(),path:a,token:w},error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}async update(a,r,s){return this.uploadOrUpdate("PUT",a,r,s)}async move(a,r,s){var u=this;try{return{data:await An(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:u.headers}),error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}}async copy(a,r,s){var u=this;try{return{data:{path:(await An(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:u.headers})).Key},error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}}async createSignedUrl(a,r,s){var u=this;try{let h=u._getFinalPath(a),p=await An(u.fetch,`${u.url}/object/sign/${h}`,ye({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:u.headers});const g=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return p={signedUrl:encodeURI(`${u.url}${p.signedURL}${g}`)},{data:p,error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}}async createSignedUrls(a,r,s){var u=this;try{const h=await An(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:r,paths:a},{headers:u.headers}),p=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:h.map(g=>ye(ye({},g),{},{signedUrl:g.signedURL?encodeURI(`${u.url}${g.signedURL}${p}`):null})),error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}}download(a,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),h=u?`?${u}`:"",p=this._getFinalPath(a),g=()=>ra(this.fetch,`${this.url}/${s}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new Qm(g,this.shouldThrowOnError)}async info(a){var r=this;const s=r._getFinalPath(a);try{return{data:jc(await ra(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})),error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}async exists(a){var r=this;const s=r._getFinalPath(a);try{return await Jm(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(u){if(r.shouldThrowOnError)throw u;if(et(u)&&u instanceof Ic){const h=u.originalError;if([400,404].includes(h==null?void 0:h.status))return{data:!1,error:u}}throw u}}getPublicUrl(a,r){const s=this._getFinalPath(a),u=[],h=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";h!==""&&u.push(h);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&u.push(g);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${s}${w}`)}}}async remove(a){var r=this;try{return{data:await Gc(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:a},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async list(a,r,s){var u=this;try{const h=ye(ye(ye({},Xm),r),{},{prefix:a||""});return{data:await An(u.fetch,`${u.url}/object/list/${u.bucketId}`,h,{headers:u.headers},s),error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(et(h))return{data:null,error:h};throw h}}async listV2(a,r){var s=this;try{const u=ye({},a);return{data:await An(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,u,{headers:s.headers},r),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}};const Tf="2.91.1",Pf={"X-Client-Info":`storage-js/${Tf}`};var tg=class{constructor(a,r={},s,u){this.shouldThrowOnError=!1;const h=new URL(a);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=ye(ye({},Pf),r),this.fetch=Kc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var r=this;try{const s=r.listBucketOptionsToQueryString(a);return{data:await ra(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async getBucket(a){var r=this;try{return{data:await ra(r.fetch,`${r.url}/bucket/${a}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async createBucket(a,r={public:!1}){var s=this;try{return{data:await An(s.fetch,`${s.url}/bucket`,{id:a,name:a,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}async updateBucket(a,r){var s=this;try{return{data:await Mc(s.fetch,`${s.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(et(u))return{data:null,error:u};throw u}}async emptyBucket(a){var r=this;try{return{data:await An(r.fetch,`${r.url}/bucket/${a}/empty`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async deleteBucket(a){var r=this;try{return{data:await Gc(r.fetch,`${r.url}/bucket/${a}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(a){const r={};return a&&("limit"in a&&(r.limit=String(a.limit)),"offset"in a&&(r.offset=String(a.offset)),a.search&&(r.search=a.search),a.sortColumn&&(r.sortColumn=a.sortColumn),a.sortOrder&&(r.sortOrder=a.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},ng=class{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ye(ye({},Pf),r),this.fetch=Kc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var r=this;try{return{data:await An(r.fetch,`${r.url}/bucket`,{name:a},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async listBuckets(a){var r=this;try{const s=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&s.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&s.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&s.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&s.set("sortOrder",a.sortOrder),a!=null&&a.search&&s.set("search",a.search);const u=s.toString(),h=u?`${r.url}/bucket?${u}`:`${r.url}/bucket`;return{data:await ra(r.fetch,h,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async deleteBucket(a){var r=this;try{return{data:await Gc(r.fetch,`${r.url}/bucket/${a}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}from(a){var r=this;if(!Hm(a))throw new Fl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Um({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(s,{get(h,p){const g=h[p];return typeof g!="function"?g:async(...w)=>{try{return{data:await g.apply(h,w),error:null}}catch(v){if(u)throw v;return{data:null,error:v}}}}})}};const Jc={"X-Client-Info":`storage-js/${Tf}`,"Content-Type":"application/json"};var Cf=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function rn(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var Sc=class extends Cf{constructor(a,r,s){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rg=class extends Cf{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}};const Yc=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),ig=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Qd=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),sg=async(a,r,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(s!=null&&s.noResolveJson)){const u=a.status||500,h=a;if(typeof h.json=="function")h.json().then(p=>{const g=(p==null?void 0:p.statusCode)||(p==null?void 0:p.code)||u+"";r(new Sc(Qd(p),u,g))}).catch(()=>{const p=u+"";r(new Sc(h.statusText||`HTTP ${u} error`,u,p))});else{const p=u+"";r(new Sc(h.statusText||`HTTP ${u} error`,u,p))}}else r(new rg(Qd(a),a))},og=(a,r,s,u)=>{const h={method:a,headers:(r==null?void 0:r.headers)||{}};return u?(ig(u)?(h.headers=ye({"Content-Type":"application/json"},r==null?void 0:r.headers),h.body=JSON.stringify(u)):h.body=u,ye(ye({},h),s)):h};async function ag(a,r,s,u,h,p){return new Promise((g,w)=>{a(s,og(r,u,h,p)).then(v=>{if(!v.ok)throw v;if(u!=null&&u.noResolveJson)return v;const S=v.headers.get("content-type");return!S||!S.includes("application/json")?{}:v.json()}).then(v=>g(v)).catch(v=>sg(v,w,u))})}async function sn(a,r,s,u,h){return ag(a,"POST",r,u,h,s)}var lg=class{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ye(ye({},Jc),r),this.fetch=Yc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/CreateIndex`,a,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async getIndex(a,r){var s=this;try{return{data:await sn(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:s.headers}),error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(rn(u))return{data:null,error:u};throw u}}async listIndexes(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/ListIndexes`,a,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async deleteIndex(a,r){var s=this;try{return{data:await sn(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:s.headers})||{},error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(rn(u))return{data:null,error:u};throw u}}},ug=class{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ye(ye({},Jc),r),this.fetch=Yc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var r=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await sn(r.fetch,`${r.url}/PutVectors`,a,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async getVectors(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/GetVectors`,a,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async listVectors(a){var r=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await sn(r.fetch,`${r.url}/ListVectors`,a,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async queryVectors(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/QueryVectors`,a,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async deleteVectors(a){var r=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await sn(r.fetch,`${r.url}/DeleteVectors`,a,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}},cg=class{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=ye(ye({},Jc),r),this.fetch=Yc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async getBucket(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:a},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async listBuckets(a={}){var r=this;try{return{data:await sn(r.fetch,`${r.url}/ListVectorBuckets`,a,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}async deleteBucket(a){var r=this;try{return{data:await sn(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}}},hg=class extends cg{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new dg(this.url,this.headers,a,this.fetch)}async createBucket(a){var r=()=>super.createBucket,s=this;return r().call(s,a)}async getBucket(a){var r=()=>super.getBucket,s=this;return r().call(s,a)}async listBuckets(a={}){var r=()=>super.listBuckets,s=this;return r().call(s,a)}async deleteBucket(a){var r=()=>super.deleteBucket,s=this;return r().call(s,a)}},dg=class extends lg{constructor(a,r,s,u){super(a,r,u),this.vectorBucketName=s}async createIndex(a){var r=()=>super.createIndex,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(a={}){var r=()=>super.listIndexes,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(a){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,a)}async deleteIndex(a){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,a)}index(a){return new fg(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},fg=class extends ug{constructor(a,r,s,u,h){super(a,r,h),this.vectorBucketName=s,this.indexName=u}async putVectors(a){var r=()=>super.putVectors,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(a){var r=()=>super.getVectors,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(a={}){var r=()=>super.listVectors,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(a){var r=()=>super.queryVectors,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(a){var r=()=>super.deleteVectors,s=this;return r().call(s,ye(ye({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},pg=class extends tg{constructor(a,r={},s,u){super(a,r,s,u)}from(a){return new eg(this.url,this.headers,a,this.fetch)}get vectors(){return new hg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ng(this.url+"/iceberg",this.headers,this.fetch)}};const Lf="2.91.1",Hs=30*1e3,zc=3,kc=zc*Hs,mg="http://localhost:9999",gg="supabase.auth.token",_g={"X-Client-Info":`gotrue-js/${Lf}`},Dc="X-Supabase-Api-Version",Of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yg=600*1e3;class ia extends Error{constructor(r,s,u){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=u}}function ce(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class wg extends ia{constructor(r,s,u){super(r,s,u),this.name="AuthApiError",this.status=s,this.code=u}}function xg(a){return ce(a)&&a.name==="AuthApiError"}class Fi extends ia{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class _r extends ia{constructor(r,s,u,h){super(r,u,h),this.name=s,this.status=u}}class nn extends _r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sg(a){return ce(a)&&a.name==="AuthSessionMissingError"}class zs extends _r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Il extends _r{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class jl extends _r{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kg(a){return ce(a)&&a.name==="AuthImplicitGrantRedirectError"}class Xd extends _r{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bg extends _r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bc extends _r{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function bc(a){return ce(a)&&a.name==="AuthRetryableFetchError"}class ef extends _r{constructor(r,s,u){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=u}}class Uc extends _r{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tf=` 	
\r=`.split(""),Eg=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<tf.length;r+=1)a[tf[r].charCodeAt(0)]=-2;for(let r=0;r<zl.length;r+=1)a[zl[r].charCodeAt(0)]=r;return a})();function nf(a,r,s){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const u=r.queue>>r.queuedBits-6&63;s(zl[u]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const u=r.queue>>r.queuedBits-6&63;s(zl[u]),r.queuedBits-=6}}function Rf(a,r,s){const u=Eg[a];if(u>-1)for(r.queue=r.queue<<6|u,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function rf(a){const r=[],s=g=>{r.push(String.fromCodePoint(g))},u={utf8seq:0,codepoint:0},h={queue:0,queuedBits:0},p=g=>{Cg(g,u,s)};for(let g=0;g<a.length;g+=1)Rf(a.charCodeAt(g),h,p);return r.join("")}function Tg(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Pg(a,r){for(let s=0;s<a.length;s+=1){let u=a.charCodeAt(s);if(u>55295&&u<=56319){const h=(u-55296)*1024&65535;u=(a.charCodeAt(s+1)-56320&65535|h)+65536,s+=1}Tg(u,r)}}function Cg(a,r,s){if(r.utf8seq===0){if(a<=127){s(a);return}for(let u=1;u<6;u+=1)if((a>>7-u&1)===0){r.utf8seq=u;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function qs(a){const r=[],s={queue:0,queuedBits:0},u=h=>{r.push(h)};for(let h=0;h<a.length;h+=1)Rf(a.charCodeAt(h),s,u);return new Uint8Array(r)}function Lg(a){const r=[];return Pg(a,s=>r.push(s)),new Uint8Array(r)}function Wi(a){const r=[],s={queue:0,queuedBits:0},u=h=>{r.push(h)};return a.forEach(h=>nf(h,s,u)),nf(null,s,u),r.join("")}function Og(a){return Math.round(Date.now()/1e3)+a}function Rg(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},Af=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function Ag(a){const r={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((h,p)=>{r[p]=h})}catch{}return s.searchParams.forEach((u,h)=>{r[h]=u}),r}const Nf=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),Ng=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Zs=async(a,r,s)=>{await a.setItem(r,JSON.stringify(s))},Bi=async(a,r)=>{const s=await a.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},xt=async(a,r)=>{await a.removeItem(r)};class Wl{constructor(){this.promise=new Wl.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Wl.promiseConstructor=Promise;function Ec(a){const r=a.split(".");if(r.length!==3)throw new Uc("Invalid JWT structure");for(let u=0;u<r.length;u++)if(!vg.test(r[u]))throw new Uc("JWT not in base64url format");return{header:JSON.parse(rf(r[0])),payload:JSON.parse(rf(r[1])),signature:qs(r[2]),raw:{header:r[0],payload:r[1]}}}async function Ig(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function jg(a,r){return new Promise((u,h)=>{(async()=>{for(let p=0;p<1/0;p++)try{const g=await a(p);if(!r(p,null,g)){u(g);return}}catch(g){if(!r(p,g)){h(g);return}}})()})}function Mg(a){return("0"+a.toString(16)).substr(-2)}function zg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=s.length;let h="";for(let p=0;p<56;p++)h+=s.charAt(Math.floor(Math.random()*u));return h}return crypto.getRandomValues(r),Array.from(r,Mg).join("")}async function Dg(a){const s=new TextEncoder().encode(a),u=await crypto.subtle.digest("SHA-256",s),h=new Uint8Array(u);return Array.from(h).map(p=>String.fromCharCode(p)).join("")}async function Bg(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await Dg(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(a,r,s=!1){const u=zg();let h=u;s&&(h+="/PASSWORD_RECOVERY"),await Zs(a,`${r}-code-verifier`,h);const p=await Bg(u);return[p,u===p?"plain":"s256"]}const Ug=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $g(a){const r=a.headers.get(Dc);if(!r||!r.match(Ug))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Fg(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function Wg(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(a){if(!Hg.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tc(){const a={};return new Proxy(a,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zg(a,r){return new Proxy(a,{get:(s,u,h)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const p=u.toString();if(p==="Symbol(Symbol.toPrimitive)"||p==="Symbol(Symbol.toStringTag)"||p==="Symbol(util.inspect.custom)"||p==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,u,h)}return!r.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,u,h)}})}function sf(a){return JSON.parse(JSON.stringify(a))}const Ui=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Vg=[502,503,504];async function of(a){var r;if(!Ng(a))throw new Bc(Ui(a),0);if(Vg.includes(a.status))throw new Bc(Ui(a),a.status);let s;try{s=await a.json()}catch(p){throw new Fi(Ui(p),p)}let u;const h=$g(a);if(h&&h.getTime()>=Of["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?u=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(u=s.error_code),u){if(u==="weak_password")throw new ef(Ui(s),a.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(u==="session_not_found")throw new nn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((p,g)=>p&&typeof g=="string",!0))throw new ef(Ui(s),a.status,s.weak_password.reasons);throw new wg(Ui(s),a.status||500,u)}const qg=(a,r,s,u)=>{const h={method:a,headers:(r==null?void 0:r.headers)||{}};return a==="GET"?h:(h.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),h.body=JSON.stringify(u),Object.assign(Object.assign({},h),s))};async function ve(a,r,s,u){var h;const p=Object.assign({},u==null?void 0:u.headers);p[Dc]||(p[Dc]=Of["2024-01-01"].name),u!=null&&u.jwt&&(p.Authorization=`Bearer ${u.jwt}`);const g=(h=u==null?void 0:u.query)!==null&&h!==void 0?h:{};u!=null&&u.redirectTo&&(g.redirect_to=u.redirectTo);const w=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",v=await Kg(a,r,s+w,{headers:p,noResolveJson:u==null?void 0:u.noResolveJson},{},u==null?void 0:u.body);return u!=null&&u.xform?u==null?void 0:u.xform(v):{data:Object.assign({},v),error:null}}async function Kg(a,r,s,u,h,p){const g=qg(r,u,h,p);let w;try{w=await a(s,Object.assign({},g))}catch(v){throw console.error(v),new Bc(Ui(v),0)}if(w.ok||await of(w),u!=null&&u.noResolveJson)return w;try{return await w.json()}catch(v){await of(v)}}function Rn(a){var r;let s=null;Yg(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=Og(a.expires_in)));const u=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:s,user:u},error:null}}function af(a){const r=Rn(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,u)=>s&&typeof u=="string",!0)&&(r.data.weak_password=a.weak_password),r}function si(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function Gg(a){return{data:a,error:null}}function Jg(a){const{action_link:r,email_otp:s,hashed_token:u,redirect_to:h,verification_type:p}=a,g=$l(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),w={action_link:r,email_otp:s,hashed_token:u,redirect_to:h,verification_type:p},v=Object.assign({},g);return{data:{properties:w,user:v},error:null}}function lf(a){return a}function Yg(a){return a.access_token&&a.refresh_token&&a.expires_in}const Pc=["global","local","others"];class Qg{constructor({url:r="",headers:s={},fetch:u}){this.url=r,this.headers=s,this.fetch=Nf(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Pc[0]){if(Pc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(u){if(ce(u))return{data:null,error:u};throw u}}async inviteUserByEmail(r,s={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:si})}catch(u){if(ce(u))return{data:{user:null},error:u};throw u}}async generateLink(r){try{const{options:s}=r,u=$l(r,["options"]),h=Object.assign(Object.assign({},u),s);return"newEmail"in u&&(h.new_email=u==null?void 0:u.newEmail,delete h.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:h,headers:this.headers,xform:Jg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ce(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:si})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,u,h,p,g,w,v;try{const S={nextPage:null,lastPage:0,total:0},P=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:"",per_page:(p=(h=r==null?void 0:r.perPage)===null||h===void 0?void 0:h.toString())!==null&&p!==void 0?p:""},xform:lf});if(P.error)throw P.error;const R=await P.json(),I=(g=P.headers.get("x-total-count"))!==null&&g!==void 0?g:0,j=(v=(w=P.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&v!==void 0?v:[];return j.length>0&&(j.forEach(U=>{const B=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(U.split(";")[1].split("=")[1]);S[`${q}Page`]=B}),S.total=parseInt(I)),{data:Object.assign(Object.assign({},R),S),error:null}}catch(S){if(ce(S))return{data:{users:[]},error:S};throw S}}async getUserById(r){Bs(r);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:si})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){Bs(r);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:si})}catch(u){if(ce(u))return{data:{user:null},error:u};throw u}}async deleteUser(r,s=!1){Bs(r);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:si})}catch(u){if(ce(u))return{data:{user:null},error:u};throw u}}async _listFactors(r){Bs(r.userId);try{const{data:s,error:u}=await ve(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:h=>({data:{factors:h},error:null})});return{data:s,error:u}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteFactor(r){Bs(r.userId),Bs(r.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,u,h,p,g,w,v;try{const S={nextPage:null,lastPage:0,total:0},P=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:"",per_page:(p=(h=r==null?void 0:r.perPage)===null||h===void 0?void 0:h.toString())!==null&&p!==void 0?p:""},xform:lf});if(P.error)throw P.error;const R=await P.json(),I=(g=P.headers.get("x-total-count"))!==null&&g!==void 0?g:0,j=(v=(w=P.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&v!==void 0?v:[];return j.length>0&&(j.forEach(U=>{const B=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(U.split(";")[1].split("=")[1]);S[`${q}Page`]=B}),S.total=parseInt(I)),{data:Object.assign(Object.assign({},R),S),error:null}}catch(S){if(ce(S))return{data:{clients:[]},error:S};throw S}}async _createOAuthClient(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(ce(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(r){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}}function uf(a={}){return{getItem:r=>a[r]||null,setItem:(r,s)=>{a[r]=s},removeItem:r=>{delete a[r]}}}const Us={debug:!!(globalThis&&Af()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class If extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Xg extends If{}async function e_(a,r,s){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const u=new globalThis.AbortController;return r>0&&setTimeout(()=>{u.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async h=>{if(h){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,h.name);try{return await s()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,h.name)}}else{if(r===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Xg(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Us.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function t_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jf(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function n_(a){return parseInt(a,16)}function r_(a){const r=new TextEncoder().encode(a);return"0x"+Array.from(r,u=>u.toString(16).padStart(2,"0")).join("")}function i_(a){var r;const{chainId:s,domain:u,expirationTime:h,issuedAt:p=new Date,nonce:g,notBefore:w,requestId:v,resources:S,scheme:P,uri:R,version:I}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(I!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${I}`);if(!((r=a.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const j=jf(a.address),U=P?`${P}://${u}`:u,B=a.statement?`${a.statement}
`:"",q=`${U} wants you to sign in with your Ethereum account:
${j}

${B}`;let Y=`URI: ${R}
Version: ${I}
Chain ID: ${s}${g?`
Nonce: ${g}`:""}
Issued At: ${p.toISOString()}`;if(h&&(Y+=`
Expiration Time: ${h.toISOString()}`),w&&(Y+=`
Not Before: ${w.toISOString()}`),v&&(Y+=`
Request ID: ${v}`),S){let Q=`
Resources:`;for(const G of S){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);Q+=`
- ${G}`}Y+=Q}return`${q}
${Y}`}class lt extends Error{constructor({message:r,code:s,cause:u,name:h}){var p;super(r,{cause:u}),this.__isWebAuthnError=!0,this.name=(p=h??(u instanceof Error?u.name:void 0))!==null&&p!==void 0?p:"Unknown Error",this.code=s}}class Dl extends lt{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function s_({error:a,options:r}){var s,u,h;const{publicKey:p}=r;if(!p)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new lt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=p.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new lt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(r.mediation==="conditional"&&((u=p.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new lt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((h=p.authenticatorSelection)===null||h===void 0?void 0:h.userVerification)==="required")return new lt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new lt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new lt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return p.pubKeyCredParams.filter(w=>w.type==="public-key").length===0?new lt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new lt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const g=window.location.hostname;if(Mf(g)){if(p.rp.id!==g)return new lt({message:`The RP ID "${p.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(p.user.id.byteLength<1||p.user.id.byteLength>64)return new lt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function o_({error:a,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new lt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new lt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const u=window.location.hostname;if(Mf(u)){if(s.rpId!==u)return new lt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new lt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new lt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new lt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class a_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const l_=new a_;function u_(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:r,user:s,excludeCredentials:u}=a,h=$l(a,["challenge","user","excludeCredentials"]),p=qs(r).buffer,g=Object.assign(Object.assign({},s),{id:qs(s.id).buffer}),w=Object.assign(Object.assign({},h),{challenge:p,user:g});if(u&&u.length>0){w.excludeCredentials=new Array(u.length);for(let v=0;v<u.length;v++){const S=u[v];w.excludeCredentials[v]=Object.assign(Object.assign({},S),{id:qs(S.id).buffer,type:S.type||"public-key",transports:S.transports})}}return w}function c_(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:r,allowCredentials:s}=a,u=$l(a,["challenge","allowCredentials"]),h=qs(r).buffer,p=Object.assign(Object.assign({},u),{challenge:h});if(s&&s.length>0){p.allowCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const w=s[g];p.allowCredentials[g]=Object.assign(Object.assign({},w),{id:qs(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return p}function h_(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:Wi(new Uint8Array(a.response.attestationObject)),clientDataJSON:Wi(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function d_(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,u=a.getClientExtensionResults(),h=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Wi(new Uint8Array(h.authenticatorData)),clientDataJSON:Wi(new Uint8Array(h.clientDataJSON)),signature:Wi(new Uint8Array(h.signature)),userHandle:h.userHandle?Wi(new Uint8Array(h.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Mf(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function cf(){var a,r;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function f_(a){try{const r=await navigator.credentials.create(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Dl("Browser returned unexpected credential type",r)}:{data:null,error:new Dl("Empty credential response",r)}}catch(r){return{data:null,error:s_({error:r,options:a})}}}async function p_(a){try{const r=await navigator.credentials.get(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Dl("Browser returned unexpected credential type",r)}:{data:null,error:new Dl("Empty credential response",r)}}catch(r){return{data:null,error:o_({error:r,options:a})}}}const m_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},g_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bl(...a){const r=h=>h!==null&&typeof h=="object"&&!Array.isArray(h),s=h=>h instanceof ArrayBuffer||ArrayBuffer.isView(h),u={};for(const h of a)if(h)for(const p in h){const g=h[p];if(g!==void 0)if(Array.isArray(g))u[p]=g;else if(s(g))u[p]=g;else if(r(g)){const w=u[p];r(w)?u[p]=Bl(w,g):u[p]=Bl(g)}else u[p]=g}return u}function __(a,r){return Bl(m_,a,r||{})}function v_(a,r){return Bl(g_,a,r||{})}class y_{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:u,signal:h},p){try{const{data:g,error:w}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!g)return{data:null,error:w};const v=h??l_.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:S}=g.webauthn.credential_options.publicKey;S.name||(S.name=`${S.id}:${u}`),S.displayName||(S.displayName=S.name)}switch(g.webauthn.type){case"create":{const S=__(g.webauthn.credential_options.publicKey,p==null?void 0:p.create),{data:P,error:R}=await f_({publicKey:S,signal:v});return P?{data:{factorId:r,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:P}},error:null}:{data:null,error:R}}case"request":{const S=v_(g.webauthn.credential_options.publicKey,p==null?void 0:p.request),{data:P,error:R}=await p_(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:S,signal:v}));return P?{data:{factorId:r,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:P}},error:null}:{data:null,error:R}}}}catch(g){return ce(g)?{data:null,error:g}:{data:null,error:new Fi("Unexpected error in challenge",g)}}}async _verify({challengeId:r,factorId:s,webauthn:u}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:u})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:h}={}},p){if(!s)return{data:null,error:new ia("rpId is required for WebAuthn authentication")};try{if(!cf())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:g,error:w}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:u},signal:h},{request:p});if(!g)return{data:null,error:w};const{webauthn:v}=g;return this._verify({factorId:r,challengeId:g.challengeId,webauthn:{type:v.type,rpId:s,rpOrigins:u,credential_response:v.credential_response}})}catch(g){return ce(g)?{data:null,error:g}:{data:null,error:new Fi("Unexpected error in authenticate",g)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:h}={}},p){if(!s)return{data:null,error:new ia("rpId is required for WebAuthn registration")};try{if(!cf())return{data:null,error:new Fi("Browser does not support WebAuthn",null)};const{data:g,error:w}=await this._enroll({friendlyName:r});if(!g)return await this.client.mfa.listFactors().then(P=>{var R;return(R=P.data)===null||R===void 0?void 0:R.all.find(I=>I.factor_type==="webauthn"&&I.friendly_name===r&&I.status!=="unverified")}).then(P=>P?this.client.mfa.unenroll({factorId:P==null?void 0:P.id}):void 0),{data:null,error:w};const{data:v,error:S}=await this._challenge({factorId:g.id,friendlyName:g.friendly_name,webauthn:{rpId:s,rpOrigins:u},signal:h},{create:p});return v?this._verify({factorId:g.id,challengeId:v.challengeId,webauthn:{rpId:s,rpOrigins:u,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:S}}catch(g){return ce(g)?{data:null,error:g}:{data:null,error:new Fi("Unexpected error in register",g)}}}}t_();const w_={url:mg,storageKey:gg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hf(a,r,s){return await s()}const $s={};class sa{get jwks(){var r,s;return(s=(r=$s[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=$s[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){$s[this.storageKey]=Object.assign(Object.assign({},$s[this.storageKey]),{cachedAt:r})}constructor(r){var s,u,h;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const p=Object.assign(Object.assign({},w_),r);if(this.storageKey=p.storageKey,this.instanceID=(s=sa.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,sa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.instanceID>0&&St()){const g=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(g),this.logDebugMessages&&console.trace(g)}if(this.persistSession=p.persistSession,this.autoRefreshToken=p.autoRefreshToken,this.admin=new Qg({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=Nf(p.fetch),this.lock=p.lock||hf,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,this.throwOnError=p.throwOnError,this.lockAcquireTimeout=p.lockAcquireTimeout,p.lock?this.lock=p.lock:this.persistSession&&St()&&(!((u=globalThis==null?void 0:globalThis.navigator)===null||u===void 0)&&u.locks)?this.lock=e_:this.lock=hf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(p.storage?this.storage=p.storage:Af()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uf(this.memoryStorage)),p.userStorage&&(this.userStorage=p.userStorage)):(this.memoryStorage={},this.storage=uf(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(g){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",g)}(h=this.broadcastChannel)===null||h===void 0||h.addEventListener("message",async g=>{this._debug("received broadcast notification from other tab or client",g),await this._notifyAllSubscribers(g.data.event,g.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},u="none";if(St()&&(s=Ag(window.location.href),this._isImplicitGrantCallback(s)?u="implicit":await this._isPKCECallback(s)&&(u="pkce")),St()&&this.detectSessionInUrl&&u!=="none"){const{data:h,error:p}=await this._getSessionFromURL(s,u);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),kg(p)){const v=(r=p.details)===null||r===void 0?void 0:r.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:p}}return{error:p}}const{session:g,redirectType:w}=h;return this._debug("#_initialize()","detected session in URL",g,"redirect type",w),await this._saveSession(g),setTimeout(async()=>{w==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ce(s)?this._returnResult({error:s}):this._returnResult({error:new Fi("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,u,h;try{const p=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(h=r==null?void 0:r.options)===null||h===void 0?void 0:h.captchaToken}},xform:Rn}),{data:g,error:w}=p;if(w||!g)return this._returnResult({data:{user:null,session:null},error:w});const v=g.session,S=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:S,session:v},error:null})}catch(p){if(ce(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signUp(r){var s,u,h;try{let p;if("email"in r){const{email:P,password:R,options:I}=r;let j=null,U=null;this.flowType==="pkce"&&([j,U]=await Ds(this.storage,this.storageKey)),p=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:I==null?void 0:I.emailRedirectTo,body:{email:P,password:R,data:(s=I==null?void 0:I.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:I==null?void 0:I.captchaToken},code_challenge:j,code_challenge_method:U},xform:Rn})}else if("phone"in r){const{phone:P,password:R,options:I}=r;p=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:P,password:R,data:(u=I==null?void 0:I.data)!==null&&u!==void 0?u:{},channel:(h=I==null?void 0:I.channel)!==null&&h!==void 0?h:"sms",gotrue_meta_security:{captcha_token:I==null?void 0:I.captchaToken}},xform:Rn})}else throw new Il("You must provide either an email or phone number and a password");const{data:g,error:w}=p;if(w||!g)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:w});const v=g.session,S=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:S,session:v},error:null})}catch(p){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithPassword(r){try{let s;if("email"in r){const{email:p,password:g,options:w}=r;s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:g,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:af})}else if("phone"in r){const{phone:p,password:g,options:w}=r;s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:g,gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:af})}else throw new Il("You must provide either an email or phone number and a password");const{data:u,error:h}=s;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u||!u.session||!u.user){const p=new zs;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:h})}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,u,h,p;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=r.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=r.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:(p=r.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,u,h,p,g,w,v,S,P,R,I;let j,U;if("message"in r)j=r.message,U=r.signature;else{const{chain:B,wallet:q,statement:Y,options:Q}=r;let G;if(St())if(typeof q=="object")G=q;else{const Ve=window;if("ethereum"in Ve&&typeof Ve.ethereum=="object"&&"request"in Ve.ethereum&&typeof Ve.ethereum.request=="function")G=Ve.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(Q!=null&&Q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=q}const ie=new URL((s=Q==null?void 0:Q.url)!==null&&s!==void 0?s:window.location.href),Re=await G.request({method:"eth_requestAccounts"}).then(Ve=>Ve).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Re||Re.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const de=jf(Re[0]);let be=(u=Q==null?void 0:Q.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!be){const Ve=await G.request({method:"eth_chainId"});be=n_(Ve)}const Fe={domain:ie.host,address:de,statement:Y,uri:ie.href,version:"1",chainId:be,nonce:(h=Q==null?void 0:Q.signInWithEthereum)===null||h===void 0?void 0:h.nonce,issuedAt:(g=(p=Q==null?void 0:Q.signInWithEthereum)===null||p===void 0?void 0:p.issuedAt)!==null&&g!==void 0?g:new Date,expirationTime:(w=Q==null?void 0:Q.signInWithEthereum)===null||w===void 0?void 0:w.expirationTime,notBefore:(v=Q==null?void 0:Q.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(S=Q==null?void 0:Q.signInWithEthereum)===null||S===void 0?void 0:S.requestId,resources:(P=Q==null?void 0:Q.signInWithEthereum)===null||P===void 0?void 0:P.resources};j=i_(Fe),U=await G.request({method:"personal_sign",params:[r_(j),de]})}try{const{data:B,error:q}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:U},!((R=r.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(I=r.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:Rn});if(q)throw q;if(!B||!B.session||!B.user){const Y=new zs;return this._returnResult({data:{user:null,session:null},error:Y})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:q})}catch(B){if(ce(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(r){var s,u,h,p,g,w,v,S,P,R,I,j;let U,B;if("message"in r)U=r.message,B=r.signature;else{const{chain:q,wallet:Y,statement:Q,options:G}=r;let ie;if(St())if(typeof Y=="object")ie=Y;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))ie=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ie=Y}const Re=new URL((s=G==null?void 0:G.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in ie&&ie.signIn){const de=await ie.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G==null?void 0:G.signInWithSolana),{version:"1",domain:Re.host,uri:Re.href}),Q?{statement:Q}:null));let be;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")be=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)be=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in be&&"signature"in be&&(typeof be.signedMessage=="string"||be.signedMessage instanceof Uint8Array)&&be.signature instanceof Uint8Array)U=typeof be.signedMessage=="string"?be.signedMessage:new TextDecoder().decode(be.signedMessage),B=be.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ie)||typeof ie.signMessage!="function"||!("publicKey"in ie)||typeof ie!="object"||!ie.publicKey||!("toBase58"in ie.publicKey)||typeof ie.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${Re.host} wants you to sign in with your Solana account:`,ie.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${Re.href}`,`Issued At: ${(h=(u=G==null?void 0:G.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date().toISOString()}`,...!((p=G==null?void 0:G.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((g=G==null?void 0:G.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((w=G==null?void 0:G.signInWithSolana)===null||w===void 0)&&w.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((v=G==null?void 0:G.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((S=G==null?void 0:G.signInWithSolana)===null||S===void 0)&&S.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((R=(P=G==null?void 0:G.signInWithSolana)===null||P===void 0?void 0:P.resources)===null||R===void 0)&&R.length?["Resources",...G.signInWithSolana.resources.map(be=>`- ${be}`)]:[]].join(`
`);const de=await ie.signMessage(new TextEncoder().encode(U),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=de}}try{const{data:q,error:Y}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:Wi(B)},!((I=r.options)===null||I===void 0)&&I.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Rn});if(Y)throw Y;if(!q||!q.session||!q.user){const Q=new zs;return this._returnResult({data:{user:null,session:null},error:Q})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:Y})}catch(q){if(ce(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async _exchangeCodeForSession(r){const s=await Bi(this.storage,`${this.storageKey}-code-verifier`),[u,h]=(s??"").split("/");try{if(!u&&this.flowType==="pkce")throw new bg;const{data:p,error:g}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:u},xform:Rn});if(await xt(this.storage,`${this.storageKey}-code-verifier`),g)throw g;if(!p||!p.session||!p.user){const w=new zs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign(Object.assign({},p),{redirectType:h??null}),error:g})}catch(p){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(p))return this._returnResult({data:{user:null,session:null,redirectType:null},error:p});throw p}}async signInWithIdToken(r){try{const{options:s,provider:u,token:h,access_token:p,nonce:g}=r,w=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:h,access_token:p,nonce:g,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Rn}),{data:v,error:S}=w;if(S)return this._returnResult({data:{user:null,session:null},error:S});if(!v||!v.session||!v.user){const P=new zs;return this._returnResult({data:{user:null,session:null},error:P})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:S})}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,u,h,p,g;try{if("email"in r){const{email:w,options:v}=r;let S=null,P=null;this.flowType==="pkce"&&([S,P]=await Ds(this.storage,this.storageKey));const{error:R}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:w,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(u=v==null?void 0:v.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:S,code_challenge_method:P},redirectTo:v==null?void 0:v.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in r){const{phone:w,options:v}=r,{data:S,error:P}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:w,data:(h=v==null?void 0:v.data)!==null&&h!==void 0?h:{},create_user:(p=v==null?void 0:v.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(g=v==null?void 0:v.channel)!==null&&g!==void 0?g:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:S==null?void 0:S.message_id},error:P})}throw new Il("You must provide either an email or phone number.")}catch(w){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async verifyOtp(r){var s,u;try{let h,p;"options"in r&&(h=(s=r.options)===null||s===void 0?void 0:s.redirectTo,p=(u=r.options)===null||u===void 0?void 0:u.captchaToken);const{data:g,error:w}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:p}}),redirectTo:h,xform:Rn});if(w)throw w;if(!g)throw new Error("An error occurred on token verification.");const v=g.session,S=g.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:S,session:v},error:null})}catch(h){if(ce(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithSSO(r){var s,u,h,p,g;try{let w=null,v=null;this.flowType==="pkce"&&([w,v]=await Ds(this.storage,this.storageKey));const S=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&u!==void 0?u:void 0}),!((h=r==null?void 0:r.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:w,code_challenge_method:v}),headers:this.headers,xform:Gg});return!((p=S.data)===null||p===void 0)&&p.url&&St()&&!(!((g=r.options)===null||g===void 0)&&g.skipBrowserRedirect)&&window.location.assign(S.data.url),this._returnResult(S)}catch(w){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(w))return this._returnResult({data:null,error:w});throw w}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:u}=r;if(u)throw u;if(!s)throw new nn;const{error:h}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:h})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:u,type:h,options:p}=r,{error:g}=await ve(this.fetch,"POST",s,{headers:this.headers,body:{email:u,type:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}else if("phone"in r){const{phone:u,type:h,options:p}=r,{data:g,error:w}=await ve(this.fetch,"POST",s,{headers:this.headers,body:{phone:u,type:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:w})}throw new Il("You must provide either an email or phone number and a type")}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),h=(async()=>(await u,await s()))();return this.pendingInLock.push((async()=>{try{await h}catch{}})()),h}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=s();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const h=[...this.pendingInLock];await Promise.all(h),this.pendingInLock.splice(0,h.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const u=r.expires_at?r.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",r.expires_at),!u){if(this.userStorage){const g=await Bi(this.userStorage,this.storageKey+"-user");g!=null&&g.user?r.user=g.user:r.user=Tc()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const g={value:this.suppressGetSessionWarning};r.user=Zg(r.user,g),g.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:h,error:p}=await this._callRefreshToken(r.refresh_token);return p?this._returnResult({data:{session:null},error:p}):this._returnResult({data:{session:h},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:si}):await this._useSession(async s=>{var u,h,p;const{data:g,error:w}=s;if(w)throw w;return!(!((u=g.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0,xform:si})})}catch(s){if(ce(s))return Sg(s)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async u=>{const{data:h,error:p}=u;if(p)throw p;if(!h.session)throw new nn;const g=h.session;let w=null,v=null;this.flowType==="pkce"&&r.email!=null&&([w,v]=await Ds(this.storage,this.storageKey));const{data:S,error:P}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:w,code_challenge_method:v}),jwt:g.access_token,xform:si});if(P)throw P;return g.user=S.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),this._returnResult({data:{user:g.user},error:null})})}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new nn;const s=Date.now()/1e3;let u=s,h=!0,p=null;const{payload:g}=Ec(r.access_token);if(g.exp&&(u=g.exp,h=u<=s),h){const{data:w,error:v}=await this._callRefreshToken(r.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!w)return{data:{user:null,session:null},error:null};p=w}else{const{data:w,error:v}=await this._getUser(r.access_token);if(v)throw v;p={access_token:r.access_token,refresh_token:r.refresh_token,user:w.user,token_type:"bearer",expires_in:u-s,expires_at:u},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return this._returnResult({data:{user:p.user,session:p},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var u;if(!r){const{data:g,error:w}=s;if(w)throw w;r=(u=g.session)!==null&&u!==void 0?u:void 0}if(!(r!=null&&r.refresh_token))throw new nn;const{data:h,error:p}=await this._callRefreshToken(r.refresh_token);return p?this._returnResult({data:{user:null,session:null},error:p}):h?this._returnResult({data:{user:h.user,session:h},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!St())throw new jl("No browser detected.");if(r.error||r.error_description||r.error_code)throw new jl(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Xd("No code detected.");const{data:Q,error:G}=await this._exchangeCodeForSession(r.code);if(G)throw G;const ie=new URL(window.location.href);return ie.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ie.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:h,access_token:p,refresh_token:g,expires_in:w,expires_at:v,token_type:S}=r;if(!p||!w||!g||!S)throw new jl("No session defined in URL");const P=Math.round(Date.now()/1e3),R=parseInt(w);let I=P+R;v&&(I=parseInt(v));const j=I-P;j*1e3<=Hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${R}s`);const U=I-R;P-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,I,P):P-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,I,P);const{data:B,error:q}=await this._getUser(p);if(q)throw q;const Y={provider_token:u,provider_refresh_token:h,access_token:p,expires_in:R,expires_at:I,refresh_token:g,token_type:S,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:r.type},error:null})}catch(u){if(ce(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Bi(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var u;const{data:h,error:p}=s;if(p)return this._returnResult({error:p});const g=(u=h.session)===null||u===void 0?void 0:u.access_token;if(g){const{error:w}=await this.admin.signOut(g,r);if(w&&!(xg(w)&&(w.status===404||w.status===401||w.status===403)))return this._returnResult({error:w})}return r!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Rg(),u={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:u}}}async _emitInitialSession(r){return await this._useSession(async s=>{var u,h;try{const{data:{session:p},error:g}=s;if(g)throw g;await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",r,"session",p)}catch(p){await((h=this.stateChangeEmitters.get(r))===null||h===void 0?void 0:h.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",p),console.error(p)}})}async resetPasswordForEmail(r,s={}){let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ds(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:u,code_challenge_method:h,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(p){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(p))return this._returnResult({data:null,error:p});throw p}}async getUserIdentities(){var r;try{const{data:s,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:u,error:h}=await this._useSession(async p=>{var g,w,v,S,P;const{data:R,error:I}=p;if(I)throw I;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(g=r.options)===null||g===void 0?void 0:g.redirectTo,scopes:(w=r.options)===null||w===void 0?void 0:w.scopes,queryParams:(v=r.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",j,{headers:this.headers,jwt:(P=(S=R.session)===null||S===void 0?void 0:S.access_token)!==null&&P!==void 0?P:void 0})});if(h)throw h;return St()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u==null?void 0:u.url),this._returnResult({data:{provider:r.provider,url:u==null?void 0:u.url},error:null})}catch(u){if(ce(u))return this._returnResult({data:{provider:r.provider,url:null},error:u});throw u}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var u;try{const{error:h,data:{session:p}}=s;if(h)throw h;const{options:g,provider:w,token:v,access_token:S,nonce:P}=r,R=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=p==null?void 0:p.access_token)!==null&&u!==void 0?u:void 0,body:{provider:w,id_token:v,access_token:S,nonce:P,link_identity:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Rn}),{data:I,error:j}=R;return j?this._returnResult({data:{user:null,session:null},error:j}):!I||!I.session||!I.user?this._returnResult({data:{user:null,session:null},error:new zs}):(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("USER_UPDATED",I.session)),this._returnResult({data:I,error:j}))}catch(h){if(await xt(this.storage,`${this.storageKey}-code-verifier`),ce(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var u,h;const{data:p,error:g}=s;if(g)throw g;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const u=Date.now();return await jg(async h=>(h>0&&await Ig(200*Math.pow(2,h-1)),this._debug(s,"refreshing attempt",h),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Rn})),(h,p)=>{const g=200*Math.pow(2,h);return p&&bc(p)&&Date.now()+g-u<Hs})}catch(u){if(this._debug(s,"error",u),ce(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const u=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",u),St()&&!s.skipBrowserRedirect&&window.location.assign(u),{data:{provider:r,url:u},error:null}}async _recoverAndRefresh(){var r,s;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const h=await Bi(this.storage,this.storageKey);if(h&&this.userStorage){let g=await Bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:h.user},await Zs(this.userStorage,this.storageKey+"-user",g)),h.user=(r=g==null?void 0:g.user)!==null&&r!==void 0?r:Tc()}else if(h&&!h.user&&!h.user){const g=await Bi(this.storage,this.storageKey+"-user");g&&(g!=null&&g.user)?(h.user=g.user,await xt(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,h)):h.user=Tc()}if(this._debug(u,"session from storage",h),!this._isValidSession(h)){this._debug(u,"session is not valid"),h!==null&&await this._removeSession();return}const p=((s=h.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<kc;if(this._debug(u,`session has${p?"":" not"} expired with margin of ${kc}s`),p){if(this.autoRefreshToken&&h.refresh_token){const{error:g}=await this._callRefreshToken(h.refresh_token);g&&(console.error(g),bc(g)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(h.user&&h.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:w}=await this._getUser(h.access_token);!w&&(g!=null&&g.user)?(h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(u,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",h)}catch(h){this._debug(u,"error",h),console.error(h);return}finally{this._debug(u,"end")}}async _callRefreshToken(r){var s,u;if(!r)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const h=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(h,"begin");try{this.refreshingDeferred=new Wl;const{data:p,error:g}=await this._refreshAccessToken(r);if(g)throw g;if(!p.session)throw new nn;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const w={data:p.session,error:null};return this.refreshingDeferred.resolve(w),w}catch(p){if(this._debug(h,"error",p),ce(p)){const g={data:null,error:p};return bc(p)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(g),g}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(p),p}finally{this.refreshingDeferred=null,this._debug(h,"end")}}async _notifyAllSubscribers(r,s,u=!0){const h=`#_notifyAllSubscribers(${r})`;this._debug(h,"begin",s,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:r,session:s});const p=[],g=Array.from(this.stateChangeEmitters.values()).map(async w=>{try{await w.callback(r,s)}catch(v){p.push(v)}});if(await Promise.all(g),p.length>0){for(let w=0;w<p.length;w+=1)console.error(p[w]);throw p[0]}}finally{this._debug(h,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),u=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&s.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:s.user});const h=Object.assign({},s);delete h.user;const p=sf(h);await Zs(this.storage,this.storageKey,p)}else{const h=sf(s);await Zs(this.storage,this.storageKey,h)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:u}}=s;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const h=Math.floor((u.expires_at*1e3-r)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${h} ticks, a tick lasts ${Hs}ms, refresh threshold is ${zc} ticks`),h<=zc&&await this._callRefreshToken(u.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof If)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,u){const h=[`provider=${encodeURIComponent(s)}`];if(u!=null&&u.redirectTo&&h.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u!=null&&u.scopes&&h.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[p,g]=await Ds(this.storage,this.storageKey),w=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(g)}`});h.push(w.toString())}if(u!=null&&u.queryParams){const p=new URLSearchParams(u.queryParams);h.push(p.toString())}return u!=null&&u.skipBrowserRedirect&&h.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${r}?${h.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var u;const{data:h,error:p}=s;return p?this._returnResult({data:null,error:p}):await ve(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(u=h==null?void 0:h.session)===null||u===void 0?void 0:u.access_token})})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var u,h;const{data:p,error:g}=s;if(g)return this._returnResult({data:null,error:g});const w=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:v,error:S}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:w,headers:this.headers,jwt:(u=p==null?void 0:p.session)===null||u===void 0?void 0:u.access_token});return S?this._returnResult({data:null,error:S}):(r.factorType==="totp"&&v.type==="totp"&&(!((h=v==null?void 0:v.totp)===null||h===void 0)&&h.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var u;const{data:h,error:p}=s;if(p)return this._returnResult({data:null,error:p});const g=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?h_(r.webauthn.credential_response):d_(r.webauthn.credential_response)})}:{code:r.code}),{data:w,error:v}=await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:g,headers:this.headers,jwt:(u=h==null?void 0:h.session)===null||u===void 0?void 0:u.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+w.expires_in},w)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",w),this._returnResult({data:w,error:v}))})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var u;const{data:h,error:p}=s;if(p)return this._returnResult({data:null,error:p});const g=await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(u=h==null?void 0:h.session)===null||u===void 0?void 0:u.access_token});if(g.error)return g;const{data:w}=g;if(w.type!=="webauthn")return{data:w,error:null};switch(w.webauthn.type){case"create":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:u_(w.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:c_(w.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:u}=await this._challenge({factorId:r.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:u}=await this.getUser();if(u)return{data:null,error:u};const h={all:[],phone:[],totp:[],webauthn:[]};for(const p of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])h.all.push(p),p.status==="verified"&&h[p.factor_type].push(p);return{data:h,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Ec(u.access_token);let g=null;p.aal&&(g=p.aal);let w=g;((s=(r=u.user.factors)===null||r===void 0?void 0:r.filter(P=>P.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(w="aal2");const S=p.amr||[];return{data:{currentLevel:g,nextLevel:w,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:u},error:h}=s;return h?this._returnResult({data:null,error:h}):u?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:u.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new nn})})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async u=>{const{data:{session:h},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!h)return this._returnResult({data:null,error:new nn});const g=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:h.access_token,body:{action:"approve"},xform:w=>({data:w,error:null})});return g.data&&g.data.redirect_url&&St()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(u){if(ce(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(r,s){try{return await this._useSession(async u=>{const{data:{session:h},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!h)return this._returnResult({data:null,error:new nn});const g=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:h.access_token,body:{action:"deny"},xform:w=>({data:w,error:null})});return g.data&&g.data.redirect_url&&St()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(u){if(ce(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:u}=r;return u?this._returnResult({data:null,error:u}):s?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new nn})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:u},error:h}=s;return h?this._returnResult({data:null,error:h}):u?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nn})})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let u=s.keys.find(w=>w.kid===r);if(u)return u;const h=Date.now();if(u=this.jwks.keys.find(w=>w.kid===r),u&&this.jwks_cached_at+yg>h)return u;const{data:p,error:g}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=h,u=p.keys.find(w=>w.kid===r),!u)?null:u}async getClaims(r,s={}){try{let u=r;if(!u){const{data:j,error:U}=await this.getSession();if(U||!j.session)return this._returnResult({data:null,error:U});u=j.session.access_token}const{header:h,payload:p,signature:g,raw:{header:w,payload:v}}=Ec(u);s!=null&&s.allowExpired||Fg(p.exp);const S=!h.alg||h.alg.startsWith("HS")||!h.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(h.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!S){const{error:j}=await this.getUser(u);if(j)throw j;return{data:{claims:p,header:h,signature:g},error:null}}const P=Wg(h.alg),R=await crypto.subtle.importKey("jwk",S,P,!0,["verify"]);if(!await crypto.subtle.verify(P,R,g,Lg(`${w}.${v}`)))throw new Uc("Invalid JWT signature");return{data:{claims:p,header:h,signature:g},error:null}}catch(u){if(ce(u))return this._returnResult({data:null,error:u});throw u}}}sa.nextInstanceID={};const x_=sa,S_="2.91.1";let Yo="";typeof Deno<"u"?Yo="deno":typeof document<"u"?Yo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yo="react-native":Yo="node";const k_={"X-Client-Info":`supabase-js-${Yo}/${S_}`},b_={headers:k_},E_={schema:"public"},T_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P_={};function oa(a){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oa(a)}function C_(a,r){if(oa(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var u=s.call(a,r);if(oa(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}function L_(a){var r=C_(a,"string");return oa(r)=="symbol"?r:r+""}function O_(a,r,s){return(r=L_(r))in a?Object.defineProperty(a,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[r]=s,a}function df(a,r){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable})),s.push.apply(s,u)}return s}function rt(a){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?df(Object(s),!0).forEach(function(u){O_(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):df(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}const R_=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),A_=()=>Headers,N_=(a,r,s)=>{const u=R_(s),h=A_();return async(p,g)=>{var w;const v=(w=await r())!==null&&w!==void 0?w:a;let S=new h(g==null?void 0:g.headers);return S.has("apikey")||S.set("apikey",a),S.has("Authorization")||S.set("Authorization",`Bearer ${v}`),u(p,rt(rt({},g),{},{headers:S}))}};function I_(a){return a.endsWith("/")?a:a+"/"}function j_(a,r){var s,u;const{db:h,auth:p,realtime:g,global:w}=a,{db:v,auth:S,realtime:P,global:R}=r,I={db:rt(rt({},v),h),auth:rt(rt({},S),p),realtime:rt(rt({},P),g),storage:{},global:rt(rt(rt({},R),w),{},{headers:rt(rt({},(s=R==null?void 0:R.headers)!==null&&s!==void 0?s:{}),(u=w==null?void 0:w.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return a.accessToken?I.accessToken=a.accessToken:delete I.accessToken,I}function M_(a){const r=a==null?void 0:a.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(I_(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var z_=class extends x_{constructor(a){super(a)}},D_=class{constructor(a,r,s){var u,h;this.supabaseUrl=a,this.supabaseKey=r;const p=M_(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:E_,realtime:P_,auth:rt(rt({},T_),{},{storageKey:g}),global:b_},v=j_(s??{},w);if(this.storageKey=(u=v.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=v.global.headers)!==null&&h!==void 0?h:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(P,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var S;this.auth=this._initSupabaseAuthClient((S=v.auth)!==null&&S!==void 0?S:{},this.headers,v.global.fetch)}this.fetch=N_(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new _m(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new pg(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new dm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,s)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,r,s;if(a.accessToken)return await a.accessToken();const{data:u}=await a.auth.getSession();return(r=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:h,storageKey:p,flowType:g,lock:w,debug:v,throwOnError:S},P,R){const I={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z_({url:this.authUrl.href,headers:rt(rt({},I),P),storageKey:p,autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:h,flowType:g,lock:w,debug:v,throwOnError:S,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Im(this.realtimeUrl.href,rt(rt({},a),{},{params:rt(rt({},{apikey:this.supabaseKey}),a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(a,r,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const B_=(a,r,s)=>new D_(a,r,s);function U_(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const r=a.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}U_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $_="https://xlxnyeqzcsktfeisdpgx.supabase.co",F_="sb_publishable_mnIMWGwfQdQL1RvrZK1xQA_eiRWifi0",yn=B_($_,F_);function Qc(a){const r=[...a];for(let s=r.length-1;s>0;s--){const u=Math.floor(Math.random()*(s+1));[r[s],r[u]]=[r[u],r[s]]}return r}const W_=async()=>{const a=new Date().toISOString().split("T")[0],{data:r,error:s}=await yn.from("daily_challenges").select("*").eq("date",a).single();if(r&&!s)return r;const{data:u,error:h}=await yn.from("locations").select("id").eq("is_active",!0).limit(500);if(h||!u||u.length<5)return console.error("Error fetching locations for challenge:",h),null;const p=Qc(u).slice(0,5).map(S=>S.id),{data:g}=await yn.from("locations").select("id, usage_count").in("id",p);if(g)for(const S of g)await yn.from("locations").update({usage_count:(S.usage_count||0)+1}).eq("id",S.id);const{data:w,error:v}=await yn.from("daily_challenges").insert({date:a,location_ids:p}).select().single();return v?(console.error("Error creating challenge:",v),null):w},H_=async a=>{const{data:r,error:s}=await yn.from("locations").select("*").in("id",a.location_ids);if(s)return console.error("Error fetching challenge locations:",s),[];const u=a.location_ids.map(h=>r.find(p=>p.id===h)).filter(h=>h!==void 0);return Qc(u)},Z_=async()=>{const{data:a,error:r}=await yn.from("locations").select("*").eq("is_active",!0).limit(500);return r||!a||a.length<5?[]:Qc(a).slice(0,5)},V_=async(a,r,s)=>{const{data:u,error:h}=await yn.from("leaderboard").insert({player_name:a,score:r,challenge_date:s}).select().single();return h?(console.error("Error submitting score:",h),null):u},q_=async(a="all-time",r=100)=>{let s=yn.from("leaderboard").select("*").order("score",{ascending:!1}).limit(r);if(a==="daily"){const p=new Date().toISOString().split("T")[0];s=s.eq("challenge_date",p)}else if(a==="weekly"){const p=new Date;p.setDate(p.getDate()-7),s=s.gte("created_at",p.toISOString())}const{data:u,error:h}=await s;return h?(console.error("Error fetching leaderboard:",h),[]):u||[]},K_=[43.0096,-81.2737],Fs=5,G_=({mode:a,onComplete:r,onExit:s})=>{const[u,h]=he.useState(0),[p,g]=he.useState([]),[w,v]=he.useState(null),[S,P]=he.useState(null),[R,I]=he.useState(!1),[j,U]=he.useState(0),[B,q]=he.useState(!0),[Y,Q]=he.useState(""),[G,ie]=he.useState(!1);he.useEffect(()=>{Re()},[]);const Re=async()=>{try{if(a==="daily"){const we=await W_();if(!we){alert("Failed to load today's challenge. Check: 1) .env has VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY 2) You have 5+ locations with is_active=ON. Open browser Console (F12) for details."),s();return}const Ne=await H_(we);if(Ne.length<Fs){alert("Not enough locations. Need 5 with is_active=ON. You have "+Ne.length+"."),s();return}g(Ne)}else{const we=await Z_();if(we.length<Fs){alert("Not enough locations for Classic. Need 5+ with is_active=ON."),s();return}g(we)}q(!1)}catch(we){console.error("Error loading challenge:",we);const Ne=we instanceof Error?we.message:String(we);alert("Error: "+Ne+`

Check .env and Supabase. Open Console (F12) for more.`),s()}},de=(we,Ne)=>{R||v({lat:we,lng:Ne})},be=()=>{if(!w||!p[u])return;const we=lm(w.lat,w.lng,p[u]);P(we),U(Ne=>Ne+we.score),I(!0)},Fe=async()=>{u<Fs-1?(h(we=>we+1),v(null),P(null),I(!1)):a==="daily"?ie(!0):r(j)},Ve=async()=>{if(!Y.trim())return;const we=new Date().toISOString().split("T")[0];await V_(Y.trim(),j,we),r(j)};if(B)return b.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-900 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading challenge..."})]})});if(G)return b.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl shadow-slate-200/50 max-w-md w-full border border-slate-100",children:[b.jsx(ea,{className:"mx-auto mb-4 text-yellow-500",size:64}),b.jsx("h2",{className:"text-3xl font-bold mb-2 text-center",children:"Great Job!"}),b.jsx("p",{className:"text-5xl font-bold text-purple-900 mb-6 text-center",children:j.toLocaleString()}),b.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Total Points"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your name for the leaderboard:"}),b.jsx("input",{type:"text",value:Y,onChange:we=>Q(we.target.value),onKeyPress:we=>we.key==="Enter"&&Ve(),placeholder:"Your name",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all duration-200",maxLength:20,autoFocus:!0})]}),b.jsx("button",{onClick:Ve,disabled:!Y.trim(),className:`w-full py-3 rounded-xl font-semibold transition-all duration-200 mb-3 ${Y.trim()?"bg-purple-900 text-white hover:bg-purple-800 hover:shadow-lg hover:shadow-purple-900/20 hover:scale-[1.01] active:scale-[0.99]":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"Save to Leaderboard"}),b.jsx("button",{onClick:()=>r(j),className:"w-full text-slate-600 hover:text-slate-800 hover:underline font-medium transition-all duration-200",children:"Skip"})]})});if(p.length===0||u>=p.length)return null;const ut=p[u];return b.jsx("div",{className:"min-h-screen p-4",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"mb-4 bg-white rounded-2xl p-3 shadow-lg shadow-slate-200/50 border border-slate-100",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Round ",u+1," / ",Fs]}),b.jsxs("span",{className:"text-sm font-semibold text-purple-900",children:["Score: ",j.toLocaleString()]})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:b.jsx("div",{className:"bg-purple-900 h-2 rounded-full transition-all",style:{width:`${(u+1)/Fs*100}%`}})})]}),b.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/50 border border-slate-100 mb-4 transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/60",children:b.jsxs("div",{className:"aspect-video bg-gray-900 relative",children:[b.jsx("img",{src:ut.image_url,alt:ut.name,className:"w-full h-full object-cover",onError:we=>{we.target.src="https://via.placeholder.com/800x450?text=Campus+Photo"}}),!R&&b.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-60 text-white px-4 py-2 rounded-lg",children:b.jsx("p",{className:"text-sm font-medium",children:"Where is this on campus?"})})]})}),b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/60",children:[b.jsx("h3",{className:"font-bold text-lg mb-4",children:R?"Results":"Drop your guess on the map"}),b.jsx("div",{className:"relative w-full h-96 rounded-lg overflow-hidden border-2 border-gray-300 mb-4",children:b.jsx(yf,{center:K_,zoom:15,onMapClick:de,guessLocation:w,actualLocation:R?ut:null,showResult:R,disabled:R})}),R&&S?b.jsxs("div",{className:"text-center space-y-4",children:[b.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[b.jsxs("p",{className:"text-4xl font-bold text-purple-900 mb-2",children:[S.score.toLocaleString()," points"]}),b.jsx("p",{className:"text-gray-600 mb-1",children:b.jsx("strong",{children:ut.name})}),ut.description&&b.jsx("p",{className:"text-sm text-gray-500",children:ut.description}),b.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Distance: ",Math.round(S.distance),"m away"]}),b.jsxs("div",{className:"mt-4 flex gap-2 items-center justify-center",children:[b.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full",children:[b.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),b.jsx("span",{className:"text-sm",children:"Your Guess"})]}),b.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full",children:[b.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),b.jsx("span",{className:"text-sm",children:"Actual Location"})]})]})]}),b.jsx("button",{onClick:Fe,className:"w-full bg-purple-900 text-white px-8 py-3 rounded-xl font-semibold hover:bg-purple-800 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.01] active:scale-[0.99] transition-all duration-200 shadow-lg shadow-purple-900/20",children:u<Fs-1?"Next Round ":"See Final Score"})]}):b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w?" Pin dropped! Click Submit when ready.":"Click anywhere on the map to place your guess."}),b.jsx("button",{onClick:be,disabled:!w,className:`w-full py-3 rounded-xl font-semibold transition-all duration-200 ${w?"bg-purple-900 text-white hover:bg-purple-800 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.01] active:scale-[0.99] cursor-pointer shadow-lg shadow-purple-900/20":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"Submit Guess"})]})]})]})})},J_=()=>{const[a,r]=he.useState([]),[s,u]=he.useState("all-time"),[h,p]=he.useState(!0);he.useEffect(()=>{g()},[s]);const g=async()=>{p(!0);const w=await q_(s);r(w),p(!1)};return b.jsx("div",{className:"min-h-screen p-4",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center gap-3",children:[b.jsx(ea,{className:"text-yellow-500",size:36}),"Leaderboard"]}),b.jsxs("div",{className:"mb-6 flex gap-2",children:[b.jsx("button",{onClick:()=>u("daily"),className:`px-4 py-2 rounded-xl font-medium transition-all duration-200 shadow-sm ${s==="daily"?"bg-purple-900 text-white shadow-purple-900/20":"bg-white text-slate-700 hover:bg-slate-50 hover:border-purple-200 hover:shadow-md border border-slate-200"}`,children:"Today"}),b.jsx("button",{onClick:()=>u("weekly"),className:`px-4 py-2 rounded-xl font-medium transition-all duration-200 shadow-sm ${s==="weekly"?"bg-purple-900 text-white shadow-purple-900/20":"bg-white text-slate-700 hover:bg-slate-50 hover:border-purple-200 hover:shadow-md border border-slate-200"}`,children:"This Week"}),b.jsx("button",{onClick:()=>u("all-time"),className:`px-4 py-2 rounded-xl font-medium transition-all duration-200 shadow-sm ${s==="all-time"?"bg-purple-900 text-white shadow-purple-900/20":"bg-white text-slate-700 hover:bg-slate-50 hover:border-purple-200 hover:shadow-md border border-slate-200"}`,children:"All Time"})]}),b.jsx("div",{className:"bg-white rounded-2xl shadow-xl shadow-slate-200/50 overflow-hidden border border-slate-100 transition-shadow duration-300 hover:shadow-2xl hover:shadow-slate-200/60",children:h?b.jsxs("div",{className:"p-12 text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-900 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"Loading leaderboard..."})]}):a.length===0?b.jsxs("div",{className:"p-12 text-center text-gray-500",children:[b.jsx(ea,{className:"mx-auto mb-4 text-gray-300",size:48}),b.jsx("p",{className:"text-lg",children:"No scores yet!"}),b.jsx("p",{className:"text-sm",children:"Be the first to play and set a record."})]}):a.map((w,v)=>b.jsxs("div",{className:`flex justify-between items-center p-4 border-b last:border-b-0 transition-colors duration-200 hover:bg-slate-50/60 ${v===0?"bg-yellow-50":v===1?"bg-gray-50":v===2?"bg-orange-50":""}`,children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:`text-xl font-bold ${v===0?"text-yellow-600":v===1?"text-gray-600":v===2?"text-orange-600":"text-gray-400"}`,children:v+1}),b.jsxs("div",{children:[b.jsx("span",{className:"font-medium",children:w.player_name}),b.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.created_at).toLocaleDateString()})]})]}),b.jsxs("span",{className:"font-bold text-purple-900",children:[w.score.toLocaleString()," pts"]})]},w.id))})]})})},Y_=async(a,r=1920,s=1080,u=.8)=>new Promise((h,p)=>{const g=new FileReader;g.onload=w=>{var S;const v=new Image;v.onload=()=>{const P=document.createElement("canvas");let R=v.width,I=v.height;R>I?R>r&&(I=I*r/R,R=r):I>s&&(R=R*s/I,I=s),P.width=R,P.height=I;const j=P.getContext("2d");if(!j){p(new Error("Could not get canvas context"));return}j.drawImage(v,0,0,R,I),P.toBlob(U=>{U?h(U):p(new Error("Failed to compress image"))},"image/jpeg",u)},v.onerror=()=>p(new Error("Failed to load image")),v.src=(S=w.target)==null?void 0:S.result},g.onerror=()=>p(new Error("Failed to read file")),g.readAsDataURL(a)}),Q_=async(a,r,s,u,h,p)=>{try{const g=await Y_(a),w=new File([g],a.name,{type:"image/jpeg"}),S=`submissions/${`${Date.now()}_${Math.random().toString(36).substring(7)}.jpg`}`,{error:P}=await yn.storage.from("images").upload(S,w,{cacheControl:"3600",upsert:!1});if(P)throw console.error("Error uploading image:",P),new Error('Image upload failed. In Supabase: Storage  create an "images" bucket (public) and add an INSERT policy for it. Error: '+P.message);const{data:{publicUrl:R}}=yn.storage.from("images").getPublicUrl(S),{data:I,error:j}=await yn.from("submissions").insert({image_url:R,latitude:r,longitude:s,name:u,description:h,submitted_by:p,status:"pending"}).select().single();if(j)throw console.error("Error creating submission:",j),new Error("Could not save submission. Error: "+j.message);return I}catch(g){throw g instanceof Error&&(g.message.startsWith("Image upload failed")||g.message.startsWith("Could not save submission"))?g:(console.error("Error in submitLocation:",g),g instanceof Error?g:new Error(String(g)))}},X_=[43.0096,-81.2737],ev=()=>{const[a,r]=he.useState(null),[s,u]=he.useState(null),[h,p]=he.useState(""),[g,w]=he.useState(""),[v,S]=he.useState(null),[P,R]=he.useState(!1),[I,j]=he.useState(!1),U=Y=>{var G;const Q=(G=Y.target.files)==null?void 0:G[0];if(Q){r(Q);const ie=new FileReader;ie.onloadend=()=>{u(ie.result)},ie.readAsDataURL(Q)}},B=(Y,Q)=>{S({lat:Y,lng:Q})},q=async Y=>{if(Y.preventDefault(),!a||!v||!h.trim()){alert("Please fill in all required fields and select a location on the map.");return}R(!0);try{await Q_(a,v.lat,v.lng,h.trim(),g.trim()||void 0),j(!0),r(null),u(null),p(""),w(""),S(null)}catch(Q){console.error("Error submitting:",Q),alert(Q instanceof Error?Q.message:"An error occurred. Please try again.")}finally{R(!1)}};return I?b.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl shadow-slate-200/50 max-w-md w-full text-center border border-slate-100",children:[b.jsx(Op,{className:"mx-auto mb-4 text-green-500",size:64}),b.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-800",children:"Thank You!"}),b.jsx("p",{className:"text-slate-600 mb-6",children:"Your submission has been received and will be reviewed before being added to the game."}),b.jsx("button",{onClick:()=>j(!1),className:"bg-purple-900 text-white px-8 py-3 rounded-xl font-semibold hover:bg-purple-800 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 shadow-lg shadow-purple-900/20",children:"Submit Another"})]})}):b.jsx("div",{className:"min-h-screen p-4",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center gap-3",children:[b.jsx(Cc,{className:"text-purple-900",size:36}),"Contribute a Location"]}),b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-2xl hover:shadow-slate-200/60 hover:border-purple-100",children:[b.jsxs("p",{className:"text-slate-600 mb-6",children:["Upload a campus photo, drop a pin on the map for ",b.jsx("strong",{children:"latitude & longitude"}),", and add a name. After you submit, it gets reviewedthen your image and coordinates go into the game."]}),b.jsxs("form",{onSubmit:q,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1. Your photo *"}),b.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:s?b.jsxs("div",{className:"space-y-4",children:[b.jsx("img",{src:s,alt:"Preview",className:"max-h-64 mx-auto rounded-lg"}),b.jsx("button",{type:"button",onClick:()=>{r(null),u(null)},className:"text-sm text-red-600 hover:text-red-700",children:"Remove"})]}):b.jsxs("div",{children:[b.jsx(Cc,{className:"mx-auto mb-2 text-gray-400",size:32}),b.jsxs("label",{className:"cursor-pointer",children:[b.jsx("span",{className:"text-purple-900 font-medium",children:"Click to upload"}),b.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),b.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"hidden"})]}),b.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG. Compressed automatically."})]})})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["2. Where was it taken? * ",b.jsx("span",{className:"text-gray-500 font-normal",children:"(click the map to set latitude & longitude)"})]}),b.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Click the exact spot on the map. That pin sets the ",b.jsx("strong",{children:"latitude and longitude"})," used in the game."]}),b.jsx("div",{className:"w-full h-96 rounded-lg overflow-hidden border-2 border-gray-300",children:b.jsx(yf,{center:X_,zoom:15,onMapClick:B,guessLocation:v?{lat:v.lat,lng:v.lng}:null,disabled:!1})}),v?b.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center gap-1",children:[b.jsx(ri,{size:16}),"Coordinates set: lat ",b.jsx("strong",{children:v.lat.toFixed(6)}),", lng ",b.jsx("strong",{children:v.lng.toFixed(6)})]}):b.jsx("p",{className:"text-sm text-amber-600 mt-2",children:"Click the map to set coordinates."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"3. Location name *"}),b.jsx("input",{type:"text",value:h,onChange:Y=>p(Y.target.value),placeholder:"e.g., UC Courtyard, Weldon Library entrance",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all duration-200",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"4. Description (optional)"}),b.jsx("textarea",{value:g,onChange:Y=>w(Y.target.value),placeholder:"e.g. Main lawn in front of the building",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all duration-200"})]}),b.jsx("button",{type:"submit",disabled:!a||!v||!h.trim()||P,className:`w-full py-3 rounded-xl font-semibold transition-all duration-200 ${a&&v&&h.trim()&&!P?"bg-purple-900 text-white hover:bg-purple-800 hover:shadow-lg hover:shadow-purple-900/20 hover:scale-[1.01] active:scale-[0.99]":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:P?"Submitting...":"Submit for Review"})]})]})]})})},tv=()=>b.jsx("div",{className:"min-h-screen p-4",children:b.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-purple-900/5 hover:border-purple-100",children:[b.jsxs("h2",{className:"text-2xl font-bold text-purple-900 mb-4",children:["About ",b.jsx("span",{className:"text-slate-700",children:"UwoGuessr"})]}),b.jsxs("p",{className:"text-slate-700 leading-relaxed mb-4",children:[b.jsx("strong",{children:"UwoGuessr"})," is a campus geography game for Western University. You'll see random photos taken somewhere on campus, drop a pin on the map where you think it was shot, and gain points based on how close you are."]}),b.jsx("p",{className:"text-gray-600 text-sm",children:"Inspired by GeoGuessr. Built by students, for students "})]}),b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-purple-900/5 hover:border-purple-100",children:[b.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"How to Play"}),b.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[b.jsx("li",{children:"Start the daily challenge - you'll get 5 random campus locations"}),b.jsx("li",{children:"Look at each photo and click on the map where you think it was taken"}),b.jsx("li",{children:"Get points based on how close you are - closer guesses = more points!"}),b.jsx("li",{children:"Complete all 5 rounds and see your total score"}),b.jsx("li",{children:"Submit your score to compete on the leaderboard"})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-purple-900/5 hover:border-purple-100",children:[b.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Technology"}),b.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Built with React, TypeScript, Tailwind CSS, Mapbox GL, and Supabase. This is a student project created to help Western students explore and learn about their campus in a fun way."})]}),b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-purple-900/5 hover:border-purple-100",children:[b.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Contribute"}),b.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Have a great photo of campus? Submit it through our contribution page! All submissions are reviewed before being added to the game to ensure quality."})]}),b.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-slate-100 transition-all duration-300 hover:shadow-xl hover:shadow-purple-900/5 hover:border-purple-100",children:[b.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Disclaimer"}),b.jsx("p",{className:"text-gray-700 leading-relaxed",children:"This is an unofficial, student-made project and is not affiliated with or endorsed by Western University. Any use of campus names, buildings, or landmarks is for identification and educational context only."})]})]})});function nv(){const[a,r]=he.useState("home"),[s,u]=he.useState(null),[h,p]=he.useState("daily"),g=P=>{p(P),r("game"),u(null)},w=P=>{u(P),r("results")},v=()=>{r("home"),u(null)},S=P=>{P!=="game"&&P!=="results"&&r(P)};return b.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[b.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",style:{background:`
            radial-gradient(ellipse 70% 50% at 20% 20%, rgba(147, 51, 234, 0.18) 0%, transparent 50%),
            radial-gradient(ellipse 60% 50% at 80% 70%, rgba(236, 72, 153, 0.15) 0%, transparent 50%),
            radial-gradient(ellipse 80% 60% at 50% 50%, rgba(167, 139, 250, 0.1) 0%, transparent 55%),
            linear-gradient(to bottom right, #f1f5f9, #f3e8ff, #fce7f3)
          `},"aria-hidden":"true"}),a!=="game"&&a!=="results"&&b.jsx(jp,{currentView:a,onNavigate:S}),b.jsxs("main",{className:"flex-1",children:[a==="home"&&b.jsx(Mp,{onStartGame:g}),a==="game"&&b.jsx(G_,{mode:h,onComplete:w,onExit:v}),a==="leaderboard"&&b.jsx(J_,{}),a==="contribute"&&b.jsx(ev,{}),a==="about"&&b.jsx(tv,{}),a==="results"&&b.jsx("div",{className:"min-h-screen p-4 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl shadow-slate-200/50 max-w-md w-full text-center border border-slate-100",children:[b.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-800",children:"Game Complete!"}),s!==null&&b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-5xl font-bold text-purple-900 mb-2",children:s.toLocaleString()}),b.jsx("p",{className:"text-slate-600 mb-8",children:"Total Points"})]}),h==="classic"&&b.jsx("button",{onClick:()=>r("game"),className:"bg-purple-900 text-white px-8 py-3 rounded-xl font-semibold hover:bg-purple-800 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 w-full mb-3 shadow-lg shadow-purple-900/20",children:"Play Again"}),b.jsx("button",{onClick:()=>r("home"),className:"bg-purple-900 text-white px-8 py-3 rounded-xl font-semibold hover:bg-purple-800 hover:shadow-xl hover:shadow-purple-900/25 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 w-full mb-3 shadow-lg shadow-purple-900/20",children:"Back to Home"}),b.jsx("button",{onClick:()=>r("leaderboard"),className:"text-purple-900 hover:text-purple-700 font-medium transition-all duration-200 hover:underline",children:"View Leaderboard"})]})})]}),a!=="game"&&a!=="results"&&b.jsxs("footer",{className:"py-4 text-center text-slate-500 text-sm",children:[" 2026 UwoGuessr  Made by ",b.jsx("span",{className:"text-purple-600 font-semibold",children:"Mithun"})," with "]})]})}Tp.createRoot(document.getElementById("root")).render(b.jsx(Ml.StrictMode,{children:b.jsx(nv,{})}));
